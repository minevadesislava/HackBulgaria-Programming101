<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
<!-- Generated by HsColour, http://code.haskell.org/~malcolm/hscolour/ -->
<title>prelude/TysPrim.lhs</title>
<link type='text/css' rel='stylesheet' href='hscolour.css' />
</head>
<body>
%
% (c) The AQUA Project, Glasgow University, 1994-1998
%

     
\section[TysPrim]{Wired-in knowledge about primitive types}

\begin{code}
<pre><a name="line-1"></a><span class='hs-comment'>{-# OPTIONS -fno-warn-tabs #-}</span>
<a name="line-2"></a><span class='hs-comment'>-- The above warning supression flag is a temporary kludge.</span>
<a name="line-3"></a><span class='hs-comment'>-- While working on this module you are encouraged to remove it and</span>
<a name="line-4"></a><span class='hs-comment'>-- detab the module (please do the detabbing in a separate patch). See</span>
<a name="line-5"></a><span class='hs-comment'>--     <a href="http://ghc.haskell.org/trac/ghc/wiki/Commentary/CodingStyle#TabsvsSpaces">http://ghc.haskell.org/trac/ghc/wiki/Commentary/CodingStyle#TabsvsSpaces</a></span>
<a name="line-6"></a><span class='hs-comment'>-- for details</span>
<a name="line-7"></a>
<a name="line-8"></a><span class='hs-comment'>-- | This module defines TyCons that can't be expressed in Haskell. </span>
<a name="line-9"></a><span class='hs-comment'>--   They are all, therefore, wired-in TyCons.  C.f module TysWiredIn</span>
<a name="line-10"></a><span class='hs-keyword'>module</span> <span class='hs-conid'>TysPrim</span><span class='hs-layout'>(</span>
<a name="line-11"></a>	<span class='hs-varid'>mkPrimTyConName</span><span class='hs-layout'>,</span> <span class='hs-comment'>-- For implicit parameters in TysWiredIn only</span>
<a name="line-12"></a>
<a name="line-13"></a>        <span class='hs-varid'>tyVarList</span><span class='hs-layout'>,</span> <span class='hs-varid'>alphaTyVars</span><span class='hs-layout'>,</span> <span class='hs-varid'>betaTyVars</span><span class='hs-layout'>,</span> <span class='hs-varid'>alphaTyVar</span><span class='hs-layout'>,</span> <span class='hs-varid'>betaTyVar</span><span class='hs-layout'>,</span> <span class='hs-varid'>gammaTyVar</span><span class='hs-layout'>,</span> <span class='hs-varid'>deltaTyVar</span><span class='hs-layout'>,</span>
<a name="line-14"></a>	<span class='hs-varid'>alphaTy</span><span class='hs-layout'>,</span> <span class='hs-varid'>betaTy</span><span class='hs-layout'>,</span> <span class='hs-varid'>gammaTy</span><span class='hs-layout'>,</span> <span class='hs-varid'>deltaTy</span><span class='hs-layout'>,</span>
<a name="line-15"></a>	<span class='hs-varid'>openAlphaTy</span><span class='hs-layout'>,</span> <span class='hs-varid'>openBetaTy</span><span class='hs-layout'>,</span> <span class='hs-varid'>openAlphaTyVar</span><span class='hs-layout'>,</span> <span class='hs-varid'>openBetaTyVar</span><span class='hs-layout'>,</span> <span class='hs-varid'>openAlphaTyVars</span><span class='hs-layout'>,</span>
<a name="line-16"></a>        <span class='hs-varid'>kKiVar</span><span class='hs-layout'>,</span>
<a name="line-17"></a>
<a name="line-18"></a>        <span class='hs-comment'>-- Kind constructors...</span>
<a name="line-19"></a>        <span class='hs-varid'>superKindTyCon</span><span class='hs-layout'>,</span> <span class='hs-varid'>superKind</span><span class='hs-layout'>,</span> <span class='hs-varid'>anyKindTyCon</span><span class='hs-layout'>,</span> <span class='hs-varid'>liftedTypeKindTyCon</span><span class='hs-layout'>,</span>
<a name="line-20"></a>        <span class='hs-varid'>openTypeKindTyCon</span><span class='hs-layout'>,</span> <span class='hs-varid'>unliftedTypeKindTyCon</span><span class='hs-layout'>,</span> <span class='hs-varid'>constraintKindTyCon</span><span class='hs-layout'>,</span>
<a name="line-21"></a>
<a name="line-22"></a>        <span class='hs-varid'>superKindTyConName</span><span class='hs-layout'>,</span> <span class='hs-varid'>anyKindTyConName</span><span class='hs-layout'>,</span> <span class='hs-varid'>liftedTypeKindTyConName</span><span class='hs-layout'>,</span>
<a name="line-23"></a>        <span class='hs-varid'>openTypeKindTyConName</span><span class='hs-layout'>,</span> <span class='hs-varid'>unliftedTypeKindTyConName</span><span class='hs-layout'>,</span>
<a name="line-24"></a>        <span class='hs-varid'>constraintKindTyConName</span><span class='hs-layout'>,</span>
<a name="line-25"></a>
<a name="line-26"></a>        <span class='hs-comment'>-- Kinds</span>
<a name="line-27"></a>	<span class='hs-varid'>anyKind</span><span class='hs-layout'>,</span> <span class='hs-varid'>liftedTypeKind</span><span class='hs-layout'>,</span> <span class='hs-varid'>unliftedTypeKind</span><span class='hs-layout'>,</span> <span class='hs-varid'>openTypeKind</span><span class='hs-layout'>,</span> <span class='hs-varid'>constraintKind</span><span class='hs-layout'>,</span>
<a name="line-28"></a>        <span class='hs-varid'>mkArrowKind</span><span class='hs-layout'>,</span> <span class='hs-varid'>mkArrowKinds</span><span class='hs-layout'>,</span>
<a name="line-29"></a>
<a name="line-30"></a>        <span class='hs-varid'>funTyCon</span><span class='hs-layout'>,</span> <span class='hs-varid'>funTyConName</span><span class='hs-layout'>,</span>
<a name="line-31"></a>        <span class='hs-varid'>primTyCons</span><span class='hs-layout'>,</span>
<a name="line-32"></a>
<a name="line-33"></a>	<span class='hs-varid'>charPrimTyCon</span><span class='hs-layout'>,</span> 		<span class='hs-varid'>charPrimTy</span><span class='hs-layout'>,</span>
<a name="line-34"></a>	<span class='hs-varid'>intPrimTyCon</span><span class='hs-layout'>,</span>		<span class='hs-varid'>intPrimTy</span><span class='hs-layout'>,</span>
<a name="line-35"></a>	<span class='hs-varid'>wordPrimTyCon</span><span class='hs-layout'>,</span>		<span class='hs-varid'>wordPrimTy</span><span class='hs-layout'>,</span>
<a name="line-36"></a>	<span class='hs-varid'>addrPrimTyCon</span><span class='hs-layout'>,</span>		<span class='hs-varid'>addrPrimTy</span><span class='hs-layout'>,</span>
<a name="line-37"></a>	<span class='hs-varid'>floatPrimTyCon</span><span class='hs-layout'>,</span>		<span class='hs-varid'>floatPrimTy</span><span class='hs-layout'>,</span>
<a name="line-38"></a>	<span class='hs-varid'>doublePrimTyCon</span><span class='hs-layout'>,</span>	<span class='hs-varid'>doublePrimTy</span><span class='hs-layout'>,</span>
<a name="line-39"></a>
<a name="line-40"></a>	<span class='hs-varid'>voidPrimTyCon</span><span class='hs-layout'>,</span>		<span class='hs-varid'>voidPrimTy</span><span class='hs-layout'>,</span>
<a name="line-41"></a>	<span class='hs-varid'>statePrimTyCon</span><span class='hs-layout'>,</span>		<span class='hs-varid'>mkStatePrimTy</span><span class='hs-layout'>,</span>
<a name="line-42"></a>	<span class='hs-varid'>realWorldTyCon</span><span class='hs-layout'>,</span>		<span class='hs-varid'>realWorldTy</span><span class='hs-layout'>,</span> <span class='hs-varid'>realWorldStatePrimTy</span><span class='hs-layout'>,</span>
<a name="line-43"></a>
<a name="line-44"></a>	<span class='hs-varid'>proxyPrimTyCon</span><span class='hs-layout'>,</span>		<span class='hs-varid'>mkProxyPrimTy</span><span class='hs-layout'>,</span>
<a name="line-45"></a>
<a name="line-46"></a>	<span class='hs-varid'>arrayPrimTyCon</span><span class='hs-layout'>,</span>	<span class='hs-varid'>mkArrayPrimTy</span><span class='hs-layout'>,</span> 
<a name="line-47"></a>	<span class='hs-varid'>byteArrayPrimTyCon</span><span class='hs-layout'>,</span>	<span class='hs-varid'>byteArrayPrimTy</span><span class='hs-layout'>,</span>
<a name="line-48"></a>	<span class='hs-varid'>arrayArrayPrimTyCon</span><span class='hs-layout'>,</span> <span class='hs-varid'>mkArrayArrayPrimTy</span><span class='hs-layout'>,</span> 
<a name="line-49"></a>	<span class='hs-varid'>mutableArrayPrimTyCon</span><span class='hs-layout'>,</span> <span class='hs-varid'>mkMutableArrayPrimTy</span><span class='hs-layout'>,</span>
<a name="line-50"></a>	<span class='hs-varid'>mutableByteArrayPrimTyCon</span><span class='hs-layout'>,</span> <span class='hs-varid'>mkMutableByteArrayPrimTy</span><span class='hs-layout'>,</span>
<a name="line-51"></a>	<span class='hs-varid'>mutableArrayArrayPrimTyCon</span><span class='hs-layout'>,</span> <span class='hs-varid'>mkMutableArrayArrayPrimTy</span><span class='hs-layout'>,</span>
<a name="line-52"></a>	<span class='hs-varid'>mutVarPrimTyCon</span><span class='hs-layout'>,</span> <span class='hs-varid'>mkMutVarPrimTy</span><span class='hs-layout'>,</span>
<a name="line-53"></a>
<a name="line-54"></a>	<span class='hs-varid'>mVarPrimTyCon</span><span class='hs-layout'>,</span>			<span class='hs-varid'>mkMVarPrimTy</span><span class='hs-layout'>,</span>	
<a name="line-55"></a>        <span class='hs-varid'>tVarPrimTyCon</span><span class='hs-layout'>,</span>                  <span class='hs-varid'>mkTVarPrimTy</span><span class='hs-layout'>,</span>
<a name="line-56"></a>	<span class='hs-varid'>stablePtrPrimTyCon</span><span class='hs-layout'>,</span>		<span class='hs-varid'>mkStablePtrPrimTy</span><span class='hs-layout'>,</span>
<a name="line-57"></a>	<span class='hs-varid'>stableNamePrimTyCon</span><span class='hs-layout'>,</span>		<span class='hs-varid'>mkStableNamePrimTy</span><span class='hs-layout'>,</span>
<a name="line-58"></a>	<span class='hs-varid'>bcoPrimTyCon</span><span class='hs-layout'>,</span>			<span class='hs-varid'>bcoPrimTy</span><span class='hs-layout'>,</span>
<a name="line-59"></a>	<span class='hs-varid'>weakPrimTyCon</span><span class='hs-layout'>,</span>  		<span class='hs-varid'>mkWeakPrimTy</span><span class='hs-layout'>,</span>
<a name="line-60"></a>	<span class='hs-varid'>threadIdPrimTyCon</span><span class='hs-layout'>,</span>		<span class='hs-varid'>threadIdPrimTy</span><span class='hs-layout'>,</span>
<a name="line-61"></a>	
<a name="line-62"></a>	<span class='hs-varid'>int32PrimTyCon</span><span class='hs-layout'>,</span>		<span class='hs-varid'>int32PrimTy</span><span class='hs-layout'>,</span>
<a name="line-63"></a>	<span class='hs-varid'>word32PrimTyCon</span><span class='hs-layout'>,</span>	<span class='hs-varid'>word32PrimTy</span><span class='hs-layout'>,</span>
<a name="line-64"></a>
<a name="line-65"></a>	<span class='hs-varid'>int64PrimTyCon</span><span class='hs-layout'>,</span>		<span class='hs-varid'>int64PrimTy</span><span class='hs-layout'>,</span>
<a name="line-66"></a>        <span class='hs-varid'>word64PrimTyCon</span><span class='hs-layout'>,</span>        <span class='hs-varid'>word64PrimTy</span><span class='hs-layout'>,</span>
<a name="line-67"></a>
<a name="line-68"></a>        <span class='hs-varid'>eqPrimTyCon</span><span class='hs-layout'>,</span>            <span class='hs-comment'>-- ty1 ~# ty2</span>
<a name="line-69"></a>        <span class='hs-varid'>eqReprPrimTyCon</span><span class='hs-layout'>,</span>        <span class='hs-comment'>-- ty1 ~R# ty2  (at role Representational)</span>
<a name="line-70"></a>
<a name="line-71"></a>	<span class='hs-comment'>-- * Any</span>
<a name="line-72"></a>	<span class='hs-varid'>anyTy</span><span class='hs-layout'>,</span> <span class='hs-varid'>anyTyCon</span><span class='hs-layout'>,</span> <span class='hs-varid'>anyTypeOfKind</span><span class='hs-layout'>,</span>
<a name="line-73"></a>
<a name="line-74"></a>	<span class='hs-comment'>-- * SIMD</span>
<a name="line-75"></a><span class='hs-cpp'>#include "primop-vector-tys-exports.hs-incl"</span>
<a name="line-76"></a>  <span class='hs-layout'>)</span> <span class='hs-keyword'>where</span>
<a name="line-77"></a>
<a name="line-78"></a><span class='hs-cpp'>#include "HsVersions.h"</span>
<a name="line-79"></a>
<a name="line-80"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>Var</span>		<span class='hs-layout'>(</span> <span class='hs-conid'>TyVar</span><span class='hs-layout'>,</span> <span class='hs-conid'>KindVar</span><span class='hs-layout'>,</span> <span class='hs-varid'>mkTyVar</span> <span class='hs-layout'>)</span>
<a name="line-81"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>Name</span>		<span class='hs-layout'>(</span> <span class='hs-conid'>Name</span><span class='hs-layout'>,</span> <span class='hs-conid'>BuiltInSyntax</span><span class='hs-layout'>(</span><span class='hs-keyglyph'>..</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span> <span class='hs-varid'>mkInternalName</span><span class='hs-layout'>,</span> <span class='hs-varid'>mkWiredInName</span> <span class='hs-layout'>)</span>
<a name="line-82"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>OccName</span>          <span class='hs-layout'>(</span> <span class='hs-varid'>mkTyVarOccFS</span><span class='hs-layout'>,</span> <span class='hs-varid'>mkTcOccFS</span> <span class='hs-layout'>)</span>
<a name="line-83"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>TyCon</span>
<a name="line-84"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>TypeRep</span>
<a name="line-85"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>SrcLoc</span>
<a name="line-86"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>Unique</span>		<span class='hs-layout'>(</span> <span class='hs-varid'>mkAlphaTyVarUnique</span> <span class='hs-layout'>)</span>
<a name="line-87"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>PrelNames</span>
<a name="line-88"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>FastString</span>
<a name="line-89"></a>
<a name="line-90"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>Data</span><span class='hs-varop'>.</span><span class='hs-conid'>Char</span>
</pre>\end{code}

%************************************************************************
%*									*
\subsection{Primitive type constructors}
%*									*
%************************************************************************

\begin{code}
<pre><a name="line-1"></a><a name="primTyCons"></a><span class='hs-definition'>primTyCons</span> <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>TyCon</span><span class='hs-keyglyph'>]</span>
<a name="line-2"></a><span class='hs-definition'>primTyCons</span> 
<a name="line-3"></a>  <span class='hs-keyglyph'>=</span> <span class='hs-keyglyph'>[</span> <span class='hs-varid'>addrPrimTyCon</span>
<a name="line-4"></a>    <span class='hs-layout'>,</span> <span class='hs-varid'>arrayPrimTyCon</span>
<a name="line-5"></a>    <span class='hs-layout'>,</span> <span class='hs-varid'>byteArrayPrimTyCon</span>
<a name="line-6"></a>    <span class='hs-layout'>,</span> <span class='hs-varid'>arrayArrayPrimTyCon</span>
<a name="line-7"></a>    <span class='hs-layout'>,</span> <span class='hs-varid'>charPrimTyCon</span>
<a name="line-8"></a>    <span class='hs-layout'>,</span> <span class='hs-varid'>doublePrimTyCon</span>
<a name="line-9"></a>    <span class='hs-layout'>,</span> <span class='hs-varid'>floatPrimTyCon</span>
<a name="line-10"></a>    <span class='hs-layout'>,</span> <span class='hs-varid'>intPrimTyCon</span>
<a name="line-11"></a>    <span class='hs-layout'>,</span> <span class='hs-varid'>int32PrimTyCon</span>
<a name="line-12"></a>    <span class='hs-layout'>,</span> <span class='hs-varid'>int64PrimTyCon</span>
<a name="line-13"></a>    <span class='hs-layout'>,</span> <span class='hs-varid'>bcoPrimTyCon</span>
<a name="line-14"></a>    <span class='hs-layout'>,</span> <span class='hs-varid'>weakPrimTyCon</span>
<a name="line-15"></a>    <span class='hs-layout'>,</span> <span class='hs-varid'>mutableArrayPrimTyCon</span>
<a name="line-16"></a>    <span class='hs-layout'>,</span> <span class='hs-varid'>mutableByteArrayPrimTyCon</span>
<a name="line-17"></a>    <span class='hs-layout'>,</span> <span class='hs-varid'>mutableArrayArrayPrimTyCon</span>
<a name="line-18"></a>    <span class='hs-layout'>,</span> <span class='hs-varid'>mVarPrimTyCon</span>
<a name="line-19"></a>    <span class='hs-layout'>,</span> <span class='hs-varid'>tVarPrimTyCon</span>
<a name="line-20"></a>    <span class='hs-layout'>,</span> <span class='hs-varid'>mutVarPrimTyCon</span>
<a name="line-21"></a>    <span class='hs-layout'>,</span> <span class='hs-varid'>realWorldTyCon</span>
<a name="line-22"></a>    <span class='hs-layout'>,</span> <span class='hs-varid'>stablePtrPrimTyCon</span>
<a name="line-23"></a>    <span class='hs-layout'>,</span> <span class='hs-varid'>stableNamePrimTyCon</span>
<a name="line-24"></a>    <span class='hs-layout'>,</span> <span class='hs-varid'>statePrimTyCon</span>
<a name="line-25"></a>    <span class='hs-layout'>,</span> <span class='hs-varid'>voidPrimTyCon</span>
<a name="line-26"></a>    <span class='hs-layout'>,</span> <span class='hs-varid'>proxyPrimTyCon</span>
<a name="line-27"></a>    <span class='hs-layout'>,</span> <span class='hs-varid'>threadIdPrimTyCon</span>
<a name="line-28"></a>    <span class='hs-layout'>,</span> <span class='hs-varid'>wordPrimTyCon</span>
<a name="line-29"></a>    <span class='hs-layout'>,</span> <span class='hs-varid'>word32PrimTyCon</span>
<a name="line-30"></a>    <span class='hs-layout'>,</span> <span class='hs-varid'>word64PrimTyCon</span>
<a name="line-31"></a>    <span class='hs-layout'>,</span> <span class='hs-varid'>anyTyCon</span>
<a name="line-32"></a>    <span class='hs-layout'>,</span> <span class='hs-varid'>eqPrimTyCon</span>
<a name="line-33"></a>    <span class='hs-layout'>,</span> <span class='hs-varid'>eqReprPrimTyCon</span>
<a name="line-34"></a>
<a name="line-35"></a>    <span class='hs-layout'>,</span> <span class='hs-varid'>liftedTypeKindTyCon</span>
<a name="line-36"></a>    <span class='hs-layout'>,</span> <span class='hs-varid'>unliftedTypeKindTyCon</span>
<a name="line-37"></a>    <span class='hs-layout'>,</span> <span class='hs-varid'>openTypeKindTyCon</span>
<a name="line-38"></a>    <span class='hs-layout'>,</span> <span class='hs-varid'>constraintKindTyCon</span>
<a name="line-39"></a>    <span class='hs-layout'>,</span> <span class='hs-varid'>superKindTyCon</span>
<a name="line-40"></a>    <span class='hs-layout'>,</span> <span class='hs-varid'>anyKindTyCon</span>
<a name="line-41"></a>
<a name="line-42"></a><span class='hs-cpp'>#include "primop-vector-tycons.hs-incl"</span>
<a name="line-43"></a>    <span class='hs-keyglyph'>]</span>
<a name="line-44"></a>
<a name="line-45"></a><a name="mkPrimTc"></a><span class='hs-definition'>mkPrimTc</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>FastString</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Unique</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>TyCon</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Name</span>
<a name="line-46"></a><span class='hs-definition'>mkPrimTc</span> <span class='hs-varid'>fs</span> <span class='hs-varid'>unique</span> <span class='hs-varid'>tycon</span>
<a name="line-47"></a>  <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkWiredInName</span> <span class='hs-varid'>gHC_PRIM</span> <span class='hs-layout'>(</span><span class='hs-varid'>mkTcOccFS</span> <span class='hs-varid'>fs</span><span class='hs-layout'>)</span> 
<a name="line-48"></a>		  <span class='hs-varid'>unique</span>
<a name="line-49"></a>		  <span class='hs-layout'>(</span><span class='hs-conid'>ATyCon</span> <span class='hs-varid'>tycon</span><span class='hs-layout'>)</span>	<span class='hs-comment'>-- Relevant TyCon</span>
<a name="line-50"></a>		  <span class='hs-conid'>UserSyntax</span>		<span class='hs-comment'>-- None are built-in syntax</span>
<a name="line-51"></a>
<a name="line-52"></a><a name="charPrimTyConName"></a><span class='hs-definition'>charPrimTyConName</span><span class='hs-layout'>,</span> <span class='hs-varid'>intPrimTyConName</span><span class='hs-layout'>,</span> <span class='hs-varid'>int32PrimTyConName</span><span class='hs-layout'>,</span> <span class='hs-varid'>int64PrimTyConName</span><span class='hs-layout'>,</span> <span class='hs-varid'>wordPrimTyConName</span><span class='hs-layout'>,</span> <span class='hs-varid'>word32PrimTyConName</span><span class='hs-layout'>,</span> <span class='hs-varid'>word64PrimTyConName</span><span class='hs-layout'>,</span> <span class='hs-varid'>addrPrimTyConName</span><span class='hs-layout'>,</span> <span class='hs-varid'>floatPrimTyConName</span><span class='hs-layout'>,</span> <span class='hs-varid'>doublePrimTyConName</span><span class='hs-layout'>,</span> <span class='hs-varid'>statePrimTyConName</span><span class='hs-layout'>,</span> <span class='hs-varid'>proxyPrimTyConName</span><span class='hs-layout'>,</span> <span class='hs-varid'>realWorldTyConName</span><span class='hs-layout'>,</span> <span class='hs-varid'>arrayPrimTyConName</span><span class='hs-layout'>,</span> <span class='hs-varid'>arrayArrayPrimTyConName</span><span class='hs-layout'>,</span> <span class='hs-varid'>byteArrayPrimTyConName</span><span class='hs-layout'>,</span> <span class='hs-varid'>mutableArrayPrimTyConName</span><span class='hs-layout'>,</span> <span class='hs-varid'>mutableByteArrayPrimTyConName</span><span class='hs-layout'>,</span> <span class='hs-varid'>mutableArrayArrayPrimTyConName</span><span class='hs-layout'>,</span> <span class='hs-varid'>mutVarPrimTyConName</span><span class='hs-layout'>,</span> <span class='hs-varid'>mVarPrimTyConName</span><span class='hs-layout'>,</span> <span class='hs-varid'>tVarPrimTyConName</span><span class='hs-layout'>,</span> <span class='hs-varid'>stablePtrPrimTyConName</span><span class='hs-layout'>,</span> <span class='hs-varid'>stableNamePrimTyConName</span><span class='hs-layout'>,</span> <span class='hs-varid'>bcoPrimTyConName</span><span class='hs-layout'>,</span> <span class='hs-varid'>weakPrimTyConName</span><span class='hs-layout'>,</span> <span class='hs-varid'>threadIdPrimTyConName</span><span class='hs-layout'>,</span> <span class='hs-varid'>eqPrimTyConName</span><span class='hs-layout'>,</span> <span class='hs-varid'>eqReprPrimTyConName</span><span class='hs-layout'>,</span> <span class='hs-varid'>voidPrimTyConName</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Name</span>
<a name="line-53"></a><span class='hs-definition'>charPrimTyConName</span>    	      <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkPrimTc</span> <span class='hs-layout'>(</span><span class='hs-varid'>fsLit</span> <span class='hs-str'>"Char#"</span><span class='hs-layout'>)</span> <span class='hs-varid'>charPrimTyConKey</span> <span class='hs-varid'>charPrimTyCon</span>
<a name="line-54"></a><a name="intPrimTyConName"></a><span class='hs-definition'>intPrimTyConName</span>     	      <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkPrimTc</span> <span class='hs-layout'>(</span><span class='hs-varid'>fsLit</span> <span class='hs-str'>"Int#"</span><span class='hs-layout'>)</span> <span class='hs-varid'>intPrimTyConKey</span>  <span class='hs-varid'>intPrimTyCon</span>
<a name="line-55"></a><a name="int32PrimTyConName"></a><span class='hs-definition'>int32PrimTyConName</span>	      <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkPrimTc</span> <span class='hs-layout'>(</span><span class='hs-varid'>fsLit</span> <span class='hs-str'>"Int32#"</span><span class='hs-layout'>)</span> <span class='hs-varid'>int32PrimTyConKey</span> <span class='hs-varid'>int32PrimTyCon</span>
<a name="line-56"></a><a name="int64PrimTyConName"></a><span class='hs-definition'>int64PrimTyConName</span>   	      <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkPrimTc</span> <span class='hs-layout'>(</span><span class='hs-varid'>fsLit</span> <span class='hs-str'>"Int64#"</span><span class='hs-layout'>)</span> <span class='hs-varid'>int64PrimTyConKey</span> <span class='hs-varid'>int64PrimTyCon</span>
<a name="line-57"></a><a name="wordPrimTyConName"></a><span class='hs-definition'>wordPrimTyConName</span>    	      <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkPrimTc</span> <span class='hs-layout'>(</span><span class='hs-varid'>fsLit</span> <span class='hs-str'>"Word#"</span><span class='hs-layout'>)</span> <span class='hs-varid'>wordPrimTyConKey</span> <span class='hs-varid'>wordPrimTyCon</span>
<a name="line-58"></a><a name="word32PrimTyConName"></a><span class='hs-definition'>word32PrimTyConName</span>  	      <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkPrimTc</span> <span class='hs-layout'>(</span><span class='hs-varid'>fsLit</span> <span class='hs-str'>"Word32#"</span><span class='hs-layout'>)</span> <span class='hs-varid'>word32PrimTyConKey</span> <span class='hs-varid'>word32PrimTyCon</span>
<a name="line-59"></a><a name="word64PrimTyConName"></a><span class='hs-definition'>word64PrimTyConName</span>  	      <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkPrimTc</span> <span class='hs-layout'>(</span><span class='hs-varid'>fsLit</span> <span class='hs-str'>"Word64#"</span><span class='hs-layout'>)</span> <span class='hs-varid'>word64PrimTyConKey</span> <span class='hs-varid'>word64PrimTyCon</span>
<a name="line-60"></a><a name="addrPrimTyConName"></a><span class='hs-definition'>addrPrimTyConName</span>    	      <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkPrimTc</span> <span class='hs-layout'>(</span><span class='hs-varid'>fsLit</span> <span class='hs-str'>"Addr#"</span><span class='hs-layout'>)</span> <span class='hs-varid'>addrPrimTyConKey</span> <span class='hs-varid'>addrPrimTyCon</span>
<a name="line-61"></a><a name="floatPrimTyConName"></a><span class='hs-definition'>floatPrimTyConName</span>   	      <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkPrimTc</span> <span class='hs-layout'>(</span><span class='hs-varid'>fsLit</span> <span class='hs-str'>"Float#"</span><span class='hs-layout'>)</span> <span class='hs-varid'>floatPrimTyConKey</span> <span class='hs-varid'>floatPrimTyCon</span>
<a name="line-62"></a><a name="doublePrimTyConName"></a><span class='hs-definition'>doublePrimTyConName</span>  	      <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkPrimTc</span> <span class='hs-layout'>(</span><span class='hs-varid'>fsLit</span> <span class='hs-str'>"Double#"</span><span class='hs-layout'>)</span> <span class='hs-varid'>doublePrimTyConKey</span> <span class='hs-varid'>doublePrimTyCon</span>
<a name="line-63"></a><a name="statePrimTyConName"></a><span class='hs-definition'>statePrimTyConName</span>            <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkPrimTc</span> <span class='hs-layout'>(</span><span class='hs-varid'>fsLit</span> <span class='hs-str'>"State#"</span><span class='hs-layout'>)</span> <span class='hs-varid'>statePrimTyConKey</span> <span class='hs-varid'>statePrimTyCon</span>
<a name="line-64"></a><a name="voidPrimTyConName"></a><span class='hs-definition'>voidPrimTyConName</span>             <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkPrimTc</span> <span class='hs-layout'>(</span><span class='hs-varid'>fsLit</span> <span class='hs-str'>"Void#"</span><span class='hs-layout'>)</span> <span class='hs-varid'>voidPrimTyConKey</span> <span class='hs-varid'>voidPrimTyCon</span>
<a name="line-65"></a><a name="proxyPrimTyConName"></a><span class='hs-definition'>proxyPrimTyConName</span>            <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkPrimTc</span> <span class='hs-layout'>(</span><span class='hs-varid'>fsLit</span> <span class='hs-str'>"Proxy#"</span><span class='hs-layout'>)</span> <span class='hs-varid'>proxyPrimTyConKey</span> <span class='hs-varid'>proxyPrimTyCon</span>
<a name="line-66"></a><a name="eqPrimTyConName"></a><span class='hs-definition'>eqPrimTyConName</span>               <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkPrimTc</span> <span class='hs-layout'>(</span><span class='hs-varid'>fsLit</span> <span class='hs-str'>"~#"</span><span class='hs-layout'>)</span> <span class='hs-varid'>eqPrimTyConKey</span> <span class='hs-varid'>eqPrimTyCon</span>
<a name="line-67"></a><a name="eqReprPrimTyConName"></a><span class='hs-definition'>eqReprPrimTyConName</span>           <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkPrimTc</span> <span class='hs-layout'>(</span><span class='hs-varid'>fsLit</span> <span class='hs-str'>"~R#"</span><span class='hs-layout'>)</span> <span class='hs-varid'>eqReprPrimTyConKey</span> <span class='hs-varid'>eqReprPrimTyCon</span>
<a name="line-68"></a><a name="realWorldTyConName"></a><span class='hs-definition'>realWorldTyConName</span>            <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkPrimTc</span> <span class='hs-layout'>(</span><span class='hs-varid'>fsLit</span> <span class='hs-str'>"RealWorld"</span><span class='hs-layout'>)</span> <span class='hs-varid'>realWorldTyConKey</span> <span class='hs-varid'>realWorldTyCon</span>
<a name="line-69"></a><a name="arrayPrimTyConName"></a><span class='hs-definition'>arrayPrimTyConName</span>   	      <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkPrimTc</span> <span class='hs-layout'>(</span><span class='hs-varid'>fsLit</span> <span class='hs-str'>"Array#"</span><span class='hs-layout'>)</span> <span class='hs-varid'>arrayPrimTyConKey</span> <span class='hs-varid'>arrayPrimTyCon</span>
<a name="line-70"></a><a name="byteArrayPrimTyConName"></a><span class='hs-definition'>byteArrayPrimTyConName</span>	      <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkPrimTc</span> <span class='hs-layout'>(</span><span class='hs-varid'>fsLit</span> <span class='hs-str'>"ByteArray#"</span><span class='hs-layout'>)</span> <span class='hs-varid'>byteArrayPrimTyConKey</span> <span class='hs-varid'>byteArrayPrimTyCon</span>
<a name="line-71"></a><a name="arrayArrayPrimTyConName"></a><span class='hs-definition'>arrayArrayPrimTyConName</span>   	  <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkPrimTc</span> <span class='hs-layout'>(</span><span class='hs-varid'>fsLit</span> <span class='hs-str'>"ArrayArray#"</span><span class='hs-layout'>)</span> <span class='hs-varid'>arrayArrayPrimTyConKey</span> <span class='hs-varid'>arrayArrayPrimTyCon</span>
<a name="line-72"></a><a name="mutableArrayPrimTyConName"></a><span class='hs-definition'>mutableArrayPrimTyConName</span>     <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkPrimTc</span> <span class='hs-layout'>(</span><span class='hs-varid'>fsLit</span> <span class='hs-str'>"MutableArray#"</span><span class='hs-layout'>)</span> <span class='hs-varid'>mutableArrayPrimTyConKey</span> <span class='hs-varid'>mutableArrayPrimTyCon</span>
<a name="line-73"></a><a name="mutableByteArrayPrimTyConName"></a><span class='hs-definition'>mutableByteArrayPrimTyConName</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkPrimTc</span> <span class='hs-layout'>(</span><span class='hs-varid'>fsLit</span> <span class='hs-str'>"MutableByteArray#"</span><span class='hs-layout'>)</span> <span class='hs-varid'>mutableByteArrayPrimTyConKey</span> <span class='hs-varid'>mutableByteArrayPrimTyCon</span>
<a name="line-74"></a><a name="mutableArrayArrayPrimTyConName"></a><span class='hs-definition'>mutableArrayArrayPrimTyConName</span><span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkPrimTc</span> <span class='hs-layout'>(</span><span class='hs-varid'>fsLit</span> <span class='hs-str'>"MutableArrayArray#"</span><span class='hs-layout'>)</span> <span class='hs-varid'>mutableArrayArrayPrimTyConKey</span> <span class='hs-varid'>mutableArrayArrayPrimTyCon</span>
<a name="line-75"></a><a name="mutVarPrimTyConName"></a><span class='hs-definition'>mutVarPrimTyConName</span>	      <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkPrimTc</span> <span class='hs-layout'>(</span><span class='hs-varid'>fsLit</span> <span class='hs-str'>"MutVar#"</span><span class='hs-layout'>)</span> <span class='hs-varid'>mutVarPrimTyConKey</span> <span class='hs-varid'>mutVarPrimTyCon</span>
<a name="line-76"></a><a name="mVarPrimTyConName"></a><span class='hs-definition'>mVarPrimTyConName</span>	      <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkPrimTc</span> <span class='hs-layout'>(</span><span class='hs-varid'>fsLit</span> <span class='hs-str'>"MVar#"</span><span class='hs-layout'>)</span> <span class='hs-varid'>mVarPrimTyConKey</span> <span class='hs-varid'>mVarPrimTyCon</span>
<a name="line-77"></a><a name="tVarPrimTyConName"></a><span class='hs-definition'>tVarPrimTyConName</span>	      <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkPrimTc</span> <span class='hs-layout'>(</span><span class='hs-varid'>fsLit</span> <span class='hs-str'>"TVar#"</span><span class='hs-layout'>)</span> <span class='hs-varid'>tVarPrimTyConKey</span> <span class='hs-varid'>tVarPrimTyCon</span>
<a name="line-78"></a><a name="stablePtrPrimTyConName"></a><span class='hs-definition'>stablePtrPrimTyConName</span>        <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkPrimTc</span> <span class='hs-layout'>(</span><span class='hs-varid'>fsLit</span> <span class='hs-str'>"StablePtr#"</span><span class='hs-layout'>)</span> <span class='hs-varid'>stablePtrPrimTyConKey</span> <span class='hs-varid'>stablePtrPrimTyCon</span>
<a name="line-79"></a><a name="stableNamePrimTyConName"></a><span class='hs-definition'>stableNamePrimTyConName</span>       <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkPrimTc</span> <span class='hs-layout'>(</span><span class='hs-varid'>fsLit</span> <span class='hs-str'>"StableName#"</span><span class='hs-layout'>)</span> <span class='hs-varid'>stableNamePrimTyConKey</span> <span class='hs-varid'>stableNamePrimTyCon</span>
<a name="line-80"></a><a name="bcoPrimTyConName"></a><span class='hs-definition'>bcoPrimTyConName</span> 	      <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkPrimTc</span> <span class='hs-layout'>(</span><span class='hs-varid'>fsLit</span> <span class='hs-str'>"BCO#"</span><span class='hs-layout'>)</span> <span class='hs-varid'>bcoPrimTyConKey</span> <span class='hs-varid'>bcoPrimTyCon</span>
<a name="line-81"></a><a name="weakPrimTyConName"></a><span class='hs-definition'>weakPrimTyConName</span>  	      <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkPrimTc</span> <span class='hs-layout'>(</span><span class='hs-varid'>fsLit</span> <span class='hs-str'>"Weak#"</span><span class='hs-layout'>)</span> <span class='hs-varid'>weakPrimTyConKey</span> <span class='hs-varid'>weakPrimTyCon</span>
<a name="line-82"></a><a name="threadIdPrimTyConName"></a><span class='hs-definition'>threadIdPrimTyConName</span>  	      <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkPrimTc</span> <span class='hs-layout'>(</span><span class='hs-varid'>fsLit</span> <span class='hs-str'>"ThreadId#"</span><span class='hs-layout'>)</span> <span class='hs-varid'>threadIdPrimTyConKey</span> <span class='hs-varid'>threadIdPrimTyCon</span>
</pre>\end{code}

%************************************************************************
%*									*
\subsection{Support code}
%*									*
%************************************************************************

alphaTyVars is a list of type variables for use in templates: 
	["a", "b", ..., "z", "t1", "t2", ... ]

\begin{code}
<pre><a name="line-1"></a><a name="tyVarList"></a><span class='hs-definition'>tyVarList</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Kind</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>TyVar</span><span class='hs-keyglyph'>]</span>
<a name="line-2"></a><span class='hs-definition'>tyVarList</span> <span class='hs-varid'>kind</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyglyph'>[</span> <span class='hs-varid'>mkTyVar</span> <span class='hs-layout'>(</span><span class='hs-varid'>mkInternalName</span> <span class='hs-layout'>(</span><span class='hs-varid'>mkAlphaTyVarUnique</span> <span class='hs-varid'>u</span><span class='hs-layout'>)</span> 
<a name="line-3"></a>				<span class='hs-layout'>(</span><span class='hs-varid'>mkTyVarOccFS</span> <span class='hs-layout'>(</span><span class='hs-varid'>mkFastString</span> <span class='hs-varid'>name</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-4"></a>			 	<span class='hs-varid'>noSrcSpan</span><span class='hs-layout'>)</span> <span class='hs-varid'>kind</span>
<a name="line-5"></a>	         <span class='hs-keyglyph'>|</span> <span class='hs-varid'>u</span> <span class='hs-keyglyph'>&lt;-</span> <span class='hs-keyglyph'>[</span><span class='hs-num'>2</span><span class='hs-keyglyph'>..</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span>
<a name="line-6"></a>		   <span class='hs-keyword'>let</span> <span class='hs-varid'>name</span> <span class='hs-keyglyph'>|</span> <span class='hs-varid'>c</span> <span class='hs-varop'>&lt;=</span> <span class='hs-chr'>'z'</span>  <span class='hs-keyglyph'>=</span> <span class='hs-keyglyph'>[</span><span class='hs-varid'>c</span><span class='hs-keyglyph'>]</span>
<a name="line-7"></a>		            <span class='hs-keyglyph'>|</span> <span class='hs-varid'>otherwise</span> <span class='hs-keyglyph'>=</span> <span class='hs-chr'>'t'</span><span class='hs-conop'>:</span><span class='hs-varid'>show</span> <span class='hs-varid'>u</span>
<a name="line-8"></a>			    <span class='hs-keyword'>where</span> <span class='hs-varid'>c</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>chr</span> <span class='hs-layout'>(</span><span class='hs-varid'>u</span><span class='hs-comment'>-</span><span class='hs-num'>2</span> <span class='hs-varop'>+</span> <span class='hs-varid'>ord</span> <span class='hs-chr'>'a'</span><span class='hs-layout'>)</span>
<a name="line-9"></a>	         <span class='hs-keyglyph'>]</span>
<a name="line-10"></a>
<a name="line-11"></a><a name="alphaTyVars"></a><span class='hs-definition'>alphaTyVars</span> <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>TyVar</span><span class='hs-keyglyph'>]</span>
<a name="line-12"></a><span class='hs-definition'>alphaTyVars</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>tyVarList</span> <span class='hs-varid'>liftedTypeKind</span>
<a name="line-13"></a>
<a name="line-14"></a><a name="betaTyVars"></a><span class='hs-definition'>betaTyVars</span> <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>TyVar</span><span class='hs-keyglyph'>]</span>
<a name="line-15"></a><span class='hs-definition'>betaTyVars</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>tail</span> <span class='hs-varid'>alphaTyVars</span>
<a name="line-16"></a>
<a name="line-17"></a><a name="alphaTyVar"></a><span class='hs-definition'>alphaTyVar</span><span class='hs-layout'>,</span> <span class='hs-varid'>betaTyVar</span><span class='hs-layout'>,</span> <span class='hs-varid'>gammaTyVar</span><span class='hs-layout'>,</span> <span class='hs-varid'>deltaTyVar</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>TyVar</span>
<a name="line-18"></a><span class='hs-layout'>(</span><span class='hs-varid'>alphaTyVar</span><span class='hs-conop'>:</span><span class='hs-varid'>betaTyVar</span><span class='hs-conop'>:</span><span class='hs-varid'>gammaTyVar</span><span class='hs-conop'>:</span><span class='hs-varid'>deltaTyVar</span><span class='hs-conop'>:</span><span class='hs-keyword'>_</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>alphaTyVars</span>
<a name="line-19"></a>
<a name="line-20"></a><a name="alphaTys"></a><span class='hs-definition'>alphaTys</span> <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>Type</span><span class='hs-keyglyph'>]</span>
<a name="line-21"></a><span class='hs-definition'>alphaTys</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkTyVarTys</span> <span class='hs-varid'>alphaTyVars</span>
<a name="line-22"></a><a name="alphaTy"></a><span class='hs-definition'>alphaTy</span><span class='hs-layout'>,</span> <span class='hs-varid'>betaTy</span><span class='hs-layout'>,</span> <span class='hs-varid'>gammaTy</span><span class='hs-layout'>,</span> <span class='hs-varid'>deltaTy</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Type</span>
<a name="line-23"></a><span class='hs-layout'>(</span><span class='hs-varid'>alphaTy</span><span class='hs-conop'>:</span><span class='hs-varid'>betaTy</span><span class='hs-conop'>:</span><span class='hs-varid'>gammaTy</span><span class='hs-conop'>:</span><span class='hs-varid'>deltaTy</span><span class='hs-conop'>:</span><span class='hs-keyword'>_</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>alphaTys</span>
<a name="line-24"></a>
<a name="line-25"></a>	<span class='hs-comment'>-- openAlphaTyVar is prepared to be instantiated</span>
<a name="line-26"></a>	<span class='hs-comment'>-- to a lifted or unlifted type variable.  It's used for the </span>
<a name="line-27"></a>	<span class='hs-comment'>-- result type for "error", so that we can have (error Int# "Help")</span>
<a name="line-28"></a><a name="openAlphaTyVars"></a><span class='hs-definition'>openAlphaTyVars</span> <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>TyVar</span><span class='hs-keyglyph'>]</span>
<a name="line-29"></a><a name="openAlphaTyVar"></a><span class='hs-definition'>openAlphaTyVar</span><span class='hs-layout'>,</span> <span class='hs-varid'>openBetaTyVar</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>TyVar</span>
<a name="line-30"></a><span class='hs-definition'>openAlphaTyVars</span><span class='hs-keyglyph'>@</span><span class='hs-layout'>(</span><span class='hs-varid'>openAlphaTyVar</span><span class='hs-conop'>:</span><span class='hs-varid'>openBetaTyVar</span><span class='hs-conop'>:</span><span class='hs-keyword'>_</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>tyVarList</span> <span class='hs-varid'>openTypeKind</span>
<a name="line-31"></a>
<a name="line-32"></a><a name="openAlphaTy"></a><span class='hs-definition'>openAlphaTy</span><span class='hs-layout'>,</span> <span class='hs-varid'>openBetaTy</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Type</span>
<a name="line-33"></a><span class='hs-definition'>openAlphaTy</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkTyVarTy</span> <span class='hs-varid'>openAlphaTyVar</span>
<a name="line-34"></a><a name="openBetaTy"></a><span class='hs-definition'>openBetaTy</span>  <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkTyVarTy</span> <span class='hs-varid'>openBetaTyVar</span>
<a name="line-35"></a>
<a name="line-36"></a><a name="kKiVar"></a><span class='hs-definition'>kKiVar</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>KindVar</span>
<a name="line-37"></a><span class='hs-definition'>kKiVar</span> <span class='hs-keyglyph'>=</span> <span class='hs-layout'>(</span><span class='hs-varid'>tyVarList</span> <span class='hs-varid'>superKind</span><span class='hs-layout'>)</span> <span class='hs-varop'>!!</span> <span class='hs-num'>10</span>
<a name="line-38"></a>
</pre>\end{code}


%************************************************************************
%*									*
                FunTyCon
%*									*
%************************************************************************

\begin{code}
<pre><a name="line-1"></a><a name="funTyConName"></a><span class='hs-definition'>funTyConName</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Name</span>
<a name="line-2"></a><span class='hs-definition'>funTyConName</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkPrimTyConName</span> <span class='hs-layout'>(</span><span class='hs-varid'>fsLit</span> <span class='hs-str'>"(-&gt;)"</span><span class='hs-layout'>)</span> <span class='hs-varid'>funTyConKey</span> <span class='hs-varid'>funTyCon</span>
<a name="line-3"></a>
<a name="line-4"></a><a name="funTyCon"></a><span class='hs-definition'>funTyCon</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>TyCon</span>
<a name="line-5"></a><span class='hs-definition'>funTyCon</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkFunTyCon</span> <span class='hs-varid'>funTyConName</span> <span class='hs-varop'>$</span> 
<a name="line-6"></a>           <span class='hs-varid'>mkArrowKinds</span> <span class='hs-keyglyph'>[</span><span class='hs-varid'>liftedTypeKind</span><span class='hs-layout'>,</span> <span class='hs-varid'>liftedTypeKind</span><span class='hs-keyglyph'>]</span> <span class='hs-varid'>liftedTypeKind</span>
<a name="line-7"></a>        <span class='hs-comment'>-- You might think that (-&gt;) should have type (?? -&gt; ? -&gt; *), and you'd be right</span>
<a name="line-8"></a>	<span class='hs-comment'>-- But if we do that we get kind errors when saying</span>
<a name="line-9"></a>	<span class='hs-comment'>--	instance Control.Arrow (-&gt;)</span>
<a name="line-10"></a>	<span class='hs-comment'>-- because the expected kind is (*-&gt;*-&gt;*).  The trouble is that the</span>
<a name="line-11"></a>	<span class='hs-comment'>-- expected/actual stuff in the unifier does not go contra-variant, whereas</span>
<a name="line-12"></a>	<span class='hs-comment'>-- the kind sub-typing does.  Sigh.  It really only matters if you use (-&gt;) in</span>
<a name="line-13"></a>	<span class='hs-comment'>-- a prefix way, thus:  (-&gt;) Int# Int#.  And this is unusual.</span>
<a name="line-14"></a>        <span class='hs-comment'>-- because they are never in scope in the source</span>
<a name="line-15"></a>
<a name="line-16"></a><span class='hs-comment'>-- One step to remove subkinding.</span>
<a name="line-17"></a><span class='hs-comment'>-- (-&gt;) :: * -&gt; * -&gt; *</span>
<a name="line-18"></a><span class='hs-comment'>-- but we should have (and want) the following typing rule for fully applied arrows</span>
<a name="line-19"></a><span class='hs-comment'>--      Gamma |- tau   :: k1    k1 in {*, #}</span>
<a name="line-20"></a><span class='hs-comment'>--      Gamma |- sigma :: k2    k2 in {*, #, (#)}</span>
<a name="line-21"></a><span class='hs-comment'>--      -----------------------------------------</span>
<a name="line-22"></a><span class='hs-comment'>--      Gamma |- tau -&gt; sigma :: *</span>
<a name="line-23"></a><span class='hs-comment'>-- Currently we have the following rule which achieves more or less the same effect</span>
<a name="line-24"></a><span class='hs-comment'>--      Gamma |- tau   :: ??</span>
<a name="line-25"></a><span class='hs-comment'>--      Gamma |- sigma :: ?</span>
<a name="line-26"></a><span class='hs-comment'>--      --------------------------</span>
<a name="line-27"></a><span class='hs-comment'>--      Gamma |- tau -&gt; sigma :: *</span>
<a name="line-28"></a><span class='hs-comment'>-- In the end we don't want subkinding at all.</span>
</pre>\end{code}


%************************************************************************
%*									*
                Kinds
%*									*
%************************************************************************

Note [SuperKind (BOX)]
~~~~~~~~~~~~~~~~~~~~~~
Kinds are classified by "super-kinds".  There is only one super-kind, namely BOX.

Perhaps surprisingly we give BOX the kind BOX, thus   BOX :: BOX
Reason: we want to have kind equalities, thus (without the kind applications)
            keq :: * ~ * = Eq# <refl *>
Remember that
   (~)  :: forall (k:BOX). k -> k -> Constraint
   (~#) :: forall (k:BOX). k -> k -> #
   Eq#  :: forall (k:BOX). forall (a:k) (b:k). (~#) k a b -> (~) k a b

So the full defn of keq is
   keq :: (~) BOX * * = Eq# BOX * * <refl *>

So you can see it's convenient to have BOX:BOX


\begin{code}
<pre><a name="line-1"></a><a name="superKindTyCon"></a><span class='hs-comment'>-- | See "Type#kind_subtyping" for details of the distinction between the 'Kind' 'TyCon's</span>
<a name="line-2"></a><span class='hs-definition'>superKindTyCon</span><span class='hs-layout'>,</span> <span class='hs-varid'>anyKindTyCon</span><span class='hs-layout'>,</span> <span class='hs-varid'>liftedTypeKindTyCon</span><span class='hs-layout'>,</span>
<a name="line-3"></a>      <span class='hs-varid'>openTypeKindTyCon</span><span class='hs-layout'>,</span> <span class='hs-varid'>unliftedTypeKindTyCon</span><span class='hs-layout'>,</span>
<a name="line-4"></a>      <span class='hs-varid'>constraintKindTyCon</span>
<a name="line-5"></a>   <span class='hs-keyglyph'>::</span> <span class='hs-conid'>TyCon</span>
<a name="line-6"></a><a name="superKindTyConName"></a><span class='hs-definition'>superKindTyConName</span><span class='hs-layout'>,</span> <span class='hs-varid'>anyKindTyConName</span><span class='hs-layout'>,</span> <span class='hs-varid'>liftedTypeKindTyConName</span><span class='hs-layout'>,</span>
<a name="line-7"></a>      <span class='hs-varid'>openTypeKindTyConName</span><span class='hs-layout'>,</span> <span class='hs-varid'>unliftedTypeKindTyConName</span><span class='hs-layout'>,</span>
<a name="line-8"></a>      <span class='hs-varid'>constraintKindTyConName</span>
<a name="line-9"></a>   <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Name</span>
<a name="line-10"></a>
<a name="line-11"></a><span class='hs-definition'>superKindTyCon</span>        <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkKindTyCon</span> <span class='hs-varid'>superKindTyConName</span>        <span class='hs-varid'>superKind</span>
<a name="line-12"></a>   <span class='hs-comment'>-- See Note [SuperKind (BOX)]</span>
<a name="line-13"></a>
<a name="line-14"></a><a name="anyKindTyCon"></a><span class='hs-definition'>anyKindTyCon</span>          <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkKindTyCon</span> <span class='hs-varid'>anyKindTyConName</span>          <span class='hs-varid'>superKind</span>
<a name="line-15"></a><a name="liftedTypeKindTyCon"></a><span class='hs-definition'>liftedTypeKindTyCon</span>   <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkKindTyCon</span> <span class='hs-varid'>liftedTypeKindTyConName</span>   <span class='hs-varid'>superKind</span>
<a name="line-16"></a><a name="openTypeKindTyCon"></a><span class='hs-definition'>openTypeKindTyCon</span>     <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkKindTyCon</span> <span class='hs-varid'>openTypeKindTyConName</span>     <span class='hs-varid'>superKind</span>
<a name="line-17"></a><a name="unliftedTypeKindTyCon"></a><span class='hs-definition'>unliftedTypeKindTyCon</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkKindTyCon</span> <span class='hs-varid'>unliftedTypeKindTyConName</span> <span class='hs-varid'>superKind</span>
<a name="line-18"></a><a name="constraintKindTyCon"></a><span class='hs-definition'>constraintKindTyCon</span>   <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkKindTyCon</span> <span class='hs-varid'>constraintKindTyConName</span>   <span class='hs-varid'>superKind</span>
<a name="line-19"></a>
<a name="line-20"></a><span class='hs-comment'>--------------------------</span>
<a name="line-21"></a><span class='hs-comment'>-- ... and now their names</span>
<a name="line-22"></a>
<a name="line-23"></a><span class='hs-comment'>-- If you edit these, you may need to update the GHC formalism</span>
<a name="line-24"></a><span class='hs-comment'>-- See Note [GHC Formalism] in coreSyn/CoreLint.lhs</span>
<a name="line-25"></a><span class='hs-definition'>superKindTyConName</span>      <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkPrimTyConName</span> <span class='hs-layout'>(</span><span class='hs-varid'>fsLit</span> <span class='hs-str'>"BOX"</span><span class='hs-layout'>)</span> <span class='hs-varid'>superKindTyConKey</span> <span class='hs-varid'>superKindTyCon</span>
<a name="line-26"></a><a name="anyKindTyConName"></a><span class='hs-definition'>anyKindTyConName</span>          <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkPrimTyConName</span> <span class='hs-layout'>(</span><span class='hs-varid'>fsLit</span> <span class='hs-str'>"AnyK"</span><span class='hs-layout'>)</span> <span class='hs-varid'>anyKindTyConKey</span> <span class='hs-varid'>anyKindTyCon</span>
<a name="line-27"></a><a name="liftedTypeKindTyConName"></a><span class='hs-definition'>liftedTypeKindTyConName</span>   <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkPrimTyConName</span> <span class='hs-layout'>(</span><span class='hs-varid'>fsLit</span> <span class='hs-str'>"*"</span><span class='hs-layout'>)</span> <span class='hs-varid'>liftedTypeKindTyConKey</span> <span class='hs-varid'>liftedTypeKindTyCon</span>
<a name="line-28"></a><a name="openTypeKindTyConName"></a><span class='hs-definition'>openTypeKindTyConName</span>     <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkPrimTyConName</span> <span class='hs-layout'>(</span><span class='hs-varid'>fsLit</span> <span class='hs-str'>"OpenKind"</span><span class='hs-layout'>)</span> <span class='hs-varid'>openTypeKindTyConKey</span> <span class='hs-varid'>openTypeKindTyCon</span>
<a name="line-29"></a><a name="unliftedTypeKindTyConName"></a><span class='hs-definition'>unliftedTypeKindTyConName</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkPrimTyConName</span> <span class='hs-layout'>(</span><span class='hs-varid'>fsLit</span> <span class='hs-str'>"#"</span><span class='hs-layout'>)</span> <span class='hs-varid'>unliftedTypeKindTyConKey</span> <span class='hs-varid'>unliftedTypeKindTyCon</span>
<a name="line-30"></a><a name="constraintKindTyConName"></a><span class='hs-definition'>constraintKindTyConName</span>   <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkPrimTyConName</span> <span class='hs-layout'>(</span><span class='hs-varid'>fsLit</span> <span class='hs-str'>"Constraint"</span><span class='hs-layout'>)</span> <span class='hs-varid'>constraintKindTyConKey</span> <span class='hs-varid'>constraintKindTyCon</span>
<a name="line-31"></a>
<a name="line-32"></a><a name="mkPrimTyConName"></a><span class='hs-definition'>mkPrimTyConName</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>FastString</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Unique</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>TyCon</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Name</span>
<a name="line-33"></a><span class='hs-definition'>mkPrimTyConName</span> <span class='hs-varid'>occ</span> <span class='hs-varid'>key</span> <span class='hs-varid'>tycon</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkWiredInName</span> <span class='hs-varid'>gHC_PRIM</span> <span class='hs-layout'>(</span><span class='hs-varid'>mkTcOccFS</span> <span class='hs-varid'>occ</span><span class='hs-layout'>)</span> 
<a name="line-34"></a>					      <span class='hs-varid'>key</span> 
<a name="line-35"></a>					      <span class='hs-layout'>(</span><span class='hs-conid'>ATyCon</span> <span class='hs-varid'>tycon</span><span class='hs-layout'>)</span>
<a name="line-36"></a>					      <span class='hs-conid'>BuiltInSyntax</span>
<a name="line-37"></a>	<span class='hs-comment'>-- All of the super kinds and kinds are defined in Prim and use BuiltInSyntax,</span>
<a name="line-38"></a>	<span class='hs-comment'>-- because they are never in scope in the source</span>
</pre>\end{code}


\begin{code}
<pre><a name="line-1"></a><a name="kindTyConType"></a><span class='hs-definition'>kindTyConType</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>TyCon</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Type</span>
<a name="line-2"></a><span class='hs-definition'>kindTyConType</span> <span class='hs-varid'>kind</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>TyConApp</span> <span class='hs-varid'>kind</span> <span class='hs-conid'>[]</span>   <span class='hs-comment'>-- mkTyConApp isn't defined yet</span>
<a name="line-3"></a>
<a name="line-4"></a><a name="anyKind"></a><span class='hs-comment'>-- | See "Type#kind_subtyping" for details of the distinction between these 'Kind's</span>
<a name="line-5"></a><span class='hs-definition'>anyKind</span><span class='hs-layout'>,</span> <span class='hs-varid'>liftedTypeKind</span><span class='hs-layout'>,</span> <span class='hs-varid'>unliftedTypeKind</span><span class='hs-layout'>,</span> <span class='hs-varid'>openTypeKind</span><span class='hs-layout'>,</span> <span class='hs-varid'>constraintKind</span><span class='hs-layout'>,</span> <span class='hs-varid'>superKind</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Kind</span>
<a name="line-6"></a>
<a name="line-7"></a><a name="superKind"></a><span class='hs-definition'>superKind</span>        <span class='hs-keyglyph'>=</span> <span class='hs-varid'>kindTyConType</span> <span class='hs-varid'>superKindTyCon</span> 
<a name="line-8"></a><span class='hs-definition'>anyKind</span>          <span class='hs-keyglyph'>=</span> <span class='hs-varid'>kindTyConType</span> <span class='hs-varid'>anyKindTyCon</span>  <span class='hs-comment'>-- See Note [Any kinds]</span>
<a name="line-9"></a><a name="liftedTypeKind"></a><span class='hs-definition'>liftedTypeKind</span>   <span class='hs-keyglyph'>=</span> <span class='hs-varid'>kindTyConType</span> <span class='hs-varid'>liftedTypeKindTyCon</span>
<a name="line-10"></a><a name="unliftedTypeKind"></a><span class='hs-definition'>unliftedTypeKind</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>kindTyConType</span> <span class='hs-varid'>unliftedTypeKindTyCon</span>
<a name="line-11"></a><a name="openTypeKind"></a><span class='hs-definition'>openTypeKind</span>     <span class='hs-keyglyph'>=</span> <span class='hs-varid'>kindTyConType</span> <span class='hs-varid'>openTypeKindTyCon</span>
<a name="line-12"></a><a name="constraintKind"></a><span class='hs-definition'>constraintKind</span>   <span class='hs-keyglyph'>=</span> <span class='hs-varid'>kindTyConType</span> <span class='hs-varid'>constraintKindTyCon</span>
<a name="line-13"></a>
<a name="line-14"></a><a name="mkArrowKind"></a><span class='hs-comment'>-- | Given two kinds @k1@ and @k2@, creates the 'Kind' @k1 -&gt; k2@</span>
<a name="line-15"></a><span class='hs-definition'>mkArrowKind</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Kind</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Kind</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Kind</span>
<a name="line-16"></a><span class='hs-definition'>mkArrowKind</span> <span class='hs-varid'>k1</span> <span class='hs-varid'>k2</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>FunTy</span> <span class='hs-varid'>k1</span> <span class='hs-varid'>k2</span>
<a name="line-17"></a>
<a name="line-18"></a><a name="mkArrowKinds"></a><span class='hs-comment'>-- | Iterated application of 'mkArrowKind'</span>
<a name="line-19"></a><span class='hs-definition'>mkArrowKinds</span> <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>Kind</span><span class='hs-keyglyph'>]</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Kind</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Kind</span>
<a name="line-20"></a><span class='hs-definition'>mkArrowKinds</span> <span class='hs-varid'>arg_kinds</span> <span class='hs-varid'>result_kind</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>foldr</span> <span class='hs-varid'>mkArrowKind</span> <span class='hs-varid'>result_kind</span> <span class='hs-varid'>arg_kinds</span>
</pre>\end{code}

%************************************************************************
%*									*
\subsection[TysPrim-basic]{Basic primitive types (@Char#@, @Int#@, etc.)}
%*									*
%************************************************************************

\begin{code}
<pre><a name="line-1"></a><a name="pcPrimTyCon"></a><span class='hs-comment'>-- only used herein</span>
<a name="line-2"></a><span class='hs-definition'>pcPrimTyCon</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Name</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>Role</span><span class='hs-keyglyph'>]</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>PrimRep</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>TyCon</span>
<a name="line-3"></a><span class='hs-definition'>pcPrimTyCon</span> <span class='hs-varid'>name</span> <span class='hs-varid'>roles</span> <span class='hs-varid'>rep</span>
<a name="line-4"></a>  <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkPrimTyCon</span> <span class='hs-varid'>name</span> <span class='hs-varid'>kind</span> <span class='hs-varid'>roles</span> <span class='hs-varid'>rep</span>
<a name="line-5"></a>  <span class='hs-keyword'>where</span>
<a name="line-6"></a>    <span class='hs-varid'>kind</span>        <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkArrowKinds</span> <span class='hs-layout'>(</span><span class='hs-varid'>map</span> <span class='hs-layout'>(</span><span class='hs-varid'>const</span> <span class='hs-varid'>liftedTypeKind</span><span class='hs-layout'>)</span> <span class='hs-varid'>roles</span><span class='hs-layout'>)</span> <span class='hs-varid'>result_kind</span>
<a name="line-7"></a>    <span class='hs-varid'>result_kind</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>unliftedTypeKind</span>
<a name="line-8"></a>
<a name="line-9"></a><a name="pcPrimTyCon0"></a><span class='hs-definition'>pcPrimTyCon0</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Name</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>PrimRep</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>TyCon</span>
<a name="line-10"></a><span class='hs-definition'>pcPrimTyCon0</span> <span class='hs-varid'>name</span> <span class='hs-varid'>rep</span>
<a name="line-11"></a>  <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkPrimTyCon</span> <span class='hs-varid'>name</span> <span class='hs-varid'>result_kind</span> <span class='hs-conid'>[]</span> <span class='hs-varid'>rep</span>
<a name="line-12"></a>  <span class='hs-keyword'>where</span>
<a name="line-13"></a>    <span class='hs-varid'>result_kind</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>unliftedTypeKind</span>
<a name="line-14"></a>
<a name="line-15"></a><a name="charPrimTy"></a><span class='hs-definition'>charPrimTy</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Type</span>
<a name="line-16"></a><span class='hs-definition'>charPrimTy</span>	<span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkTyConTy</span> <span class='hs-varid'>charPrimTyCon</span>
<a name="line-17"></a><a name="charPrimTyCon"></a><span class='hs-definition'>charPrimTyCon</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>TyCon</span>
<a name="line-18"></a><span class='hs-definition'>charPrimTyCon</span>	<span class='hs-keyglyph'>=</span> <span class='hs-varid'>pcPrimTyCon0</span> <span class='hs-varid'>charPrimTyConName</span> <span class='hs-conid'>WordRep</span>
<a name="line-19"></a>
<a name="line-20"></a><a name="intPrimTy"></a><span class='hs-definition'>intPrimTy</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Type</span>
<a name="line-21"></a><span class='hs-definition'>intPrimTy</span>	<span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkTyConTy</span> <span class='hs-varid'>intPrimTyCon</span>
<a name="line-22"></a><a name="intPrimTyCon"></a><span class='hs-definition'>intPrimTyCon</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>TyCon</span>
<a name="line-23"></a><span class='hs-definition'>intPrimTyCon</span>	<span class='hs-keyglyph'>=</span> <span class='hs-varid'>pcPrimTyCon0</span> <span class='hs-varid'>intPrimTyConName</span> <span class='hs-conid'>IntRep</span>
<a name="line-24"></a>
<a name="line-25"></a><a name="int32PrimTy"></a><span class='hs-definition'>int32PrimTy</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Type</span>
<a name="line-26"></a><span class='hs-definition'>int32PrimTy</span>	<span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkTyConTy</span> <span class='hs-varid'>int32PrimTyCon</span>
<a name="line-27"></a><a name="int32PrimTyCon"></a><span class='hs-definition'>int32PrimTyCon</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>TyCon</span>
<a name="line-28"></a><span class='hs-definition'>int32PrimTyCon</span>	<span class='hs-keyglyph'>=</span> <span class='hs-varid'>pcPrimTyCon0</span> <span class='hs-varid'>int32PrimTyConName</span> <span class='hs-conid'>IntRep</span>
<a name="line-29"></a>
<a name="line-30"></a><a name="int64PrimTy"></a><span class='hs-definition'>int64PrimTy</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Type</span>
<a name="line-31"></a><span class='hs-definition'>int64PrimTy</span>	<span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkTyConTy</span> <span class='hs-varid'>int64PrimTyCon</span>
<a name="line-32"></a><a name="int64PrimTyCon"></a><span class='hs-definition'>int64PrimTyCon</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>TyCon</span>
<a name="line-33"></a><span class='hs-definition'>int64PrimTyCon</span>	<span class='hs-keyglyph'>=</span> <span class='hs-varid'>pcPrimTyCon0</span> <span class='hs-varid'>int64PrimTyConName</span> <span class='hs-conid'>Int64Rep</span>
<a name="line-34"></a>
<a name="line-35"></a><a name="wordPrimTy"></a><span class='hs-definition'>wordPrimTy</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Type</span>
<a name="line-36"></a><span class='hs-definition'>wordPrimTy</span>	<span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkTyConTy</span> <span class='hs-varid'>wordPrimTyCon</span>
<a name="line-37"></a><a name="wordPrimTyCon"></a><span class='hs-definition'>wordPrimTyCon</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>TyCon</span>
<a name="line-38"></a><span class='hs-definition'>wordPrimTyCon</span>	<span class='hs-keyglyph'>=</span> <span class='hs-varid'>pcPrimTyCon0</span> <span class='hs-varid'>wordPrimTyConName</span> <span class='hs-conid'>WordRep</span>
<a name="line-39"></a>
<a name="line-40"></a><a name="word32PrimTy"></a><span class='hs-definition'>word32PrimTy</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Type</span>
<a name="line-41"></a><span class='hs-definition'>word32PrimTy</span>	<span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkTyConTy</span> <span class='hs-varid'>word32PrimTyCon</span>
<a name="line-42"></a><a name="word32PrimTyCon"></a><span class='hs-definition'>word32PrimTyCon</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>TyCon</span>
<a name="line-43"></a><span class='hs-definition'>word32PrimTyCon</span>	<span class='hs-keyglyph'>=</span> <span class='hs-varid'>pcPrimTyCon0</span> <span class='hs-varid'>word32PrimTyConName</span> <span class='hs-conid'>WordRep</span>
<a name="line-44"></a>
<a name="line-45"></a><a name="word64PrimTy"></a><span class='hs-definition'>word64PrimTy</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Type</span>
<a name="line-46"></a><span class='hs-definition'>word64PrimTy</span>	<span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkTyConTy</span> <span class='hs-varid'>word64PrimTyCon</span>
<a name="line-47"></a><a name="word64PrimTyCon"></a><span class='hs-definition'>word64PrimTyCon</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>TyCon</span>
<a name="line-48"></a><span class='hs-definition'>word64PrimTyCon</span>	<span class='hs-keyglyph'>=</span> <span class='hs-varid'>pcPrimTyCon0</span> <span class='hs-varid'>word64PrimTyConName</span> <span class='hs-conid'>Word64Rep</span>
<a name="line-49"></a>
<a name="line-50"></a><a name="addrPrimTy"></a><span class='hs-definition'>addrPrimTy</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Type</span>
<a name="line-51"></a><span class='hs-definition'>addrPrimTy</span>	<span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkTyConTy</span> <span class='hs-varid'>addrPrimTyCon</span>
<a name="line-52"></a><a name="addrPrimTyCon"></a><span class='hs-definition'>addrPrimTyCon</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>TyCon</span>
<a name="line-53"></a><span class='hs-definition'>addrPrimTyCon</span>	<span class='hs-keyglyph'>=</span> <span class='hs-varid'>pcPrimTyCon0</span> <span class='hs-varid'>addrPrimTyConName</span> <span class='hs-conid'>AddrRep</span>
<a name="line-54"></a>
<a name="line-55"></a><a name="floatPrimTy"></a><span class='hs-definition'>floatPrimTy</span>	<span class='hs-keyglyph'>::</span> <span class='hs-conid'>Type</span>
<a name="line-56"></a><span class='hs-definition'>floatPrimTy</span>	<span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkTyConTy</span> <span class='hs-varid'>floatPrimTyCon</span>
<a name="line-57"></a><a name="floatPrimTyCon"></a><span class='hs-definition'>floatPrimTyCon</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>TyCon</span>
<a name="line-58"></a><span class='hs-definition'>floatPrimTyCon</span>	<span class='hs-keyglyph'>=</span> <span class='hs-varid'>pcPrimTyCon0</span> <span class='hs-varid'>floatPrimTyConName</span> <span class='hs-conid'>FloatRep</span>
<a name="line-59"></a>
<a name="line-60"></a><a name="doublePrimTy"></a><span class='hs-definition'>doublePrimTy</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Type</span>
<a name="line-61"></a><span class='hs-definition'>doublePrimTy</span>	<span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkTyConTy</span> <span class='hs-varid'>doublePrimTyCon</span>
<a name="line-62"></a><a name="doublePrimTyCon"></a><span class='hs-definition'>doublePrimTyCon</span>	<span class='hs-keyglyph'>::</span> <span class='hs-conid'>TyCon</span>
<a name="line-63"></a><span class='hs-definition'>doublePrimTyCon</span>	<span class='hs-keyglyph'>=</span> <span class='hs-varid'>pcPrimTyCon0</span> <span class='hs-varid'>doublePrimTyConName</span> <span class='hs-conid'>DoubleRep</span>
</pre>\end{code}


%************************************************************************
%*									*
\subsection[TysPrim-state]{The @State#@ type (and @_RealWorld@ types)}
%*									*
%************************************************************************

Note [The ~# TyCon)
~~~~~~~~~~~~~~~~~~~~
There is a perfectly ordinary type constructor ~# that represents the type
of coercions (which, remember, are values).  For example
   Refl Int :: ~# * Int Int

It is a kind-polymorphic type constructor like Any:
   Refl Maybe :: ~# (* -> *) Maybe Maybe

(~) only appears saturated. So we check that in CoreLint (and, in an
assertion, in Kind.typeKind).

Note [The State# TyCon]
~~~~~~~~~~~~~~~~~~~~~~~
State# is the primitive, unlifted type of states.  It has one type parameter,
thus
	State# RealWorld
or
	State# s

where s is a type variable. The only purpose of the type parameter is to
keep different state threads separate.  It is represented by nothing at all.

The type parameter to State# is intended to keep separate threads separate.
Even though this parameter is not used in the definition of State#, it is
given role Nominal to enforce its intended use.

\begin{code}
<pre><a name="line-1"></a><a name="mkStatePrimTy"></a><span class='hs-definition'>mkStatePrimTy</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Type</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Type</span>
<a name="line-2"></a><span class='hs-definition'>mkStatePrimTy</span> <span class='hs-varid'>ty</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>TyConApp</span> <span class='hs-varid'>statePrimTyCon</span> <span class='hs-keyglyph'>[</span><span class='hs-varid'>ty</span><span class='hs-keyglyph'>]</span>
<a name="line-3"></a>
<a name="line-4"></a><a name="statePrimTyCon"></a><span class='hs-definition'>statePrimTyCon</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>TyCon</span>   <span class='hs-comment'>-- See Note [The State# TyCon]</span>
<a name="line-5"></a><span class='hs-definition'>statePrimTyCon</span>	 <span class='hs-keyglyph'>=</span> <span class='hs-varid'>pcPrimTyCon</span> <span class='hs-varid'>statePrimTyConName</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>Nominal</span><span class='hs-keyglyph'>]</span> <span class='hs-conid'>VoidRep</span>
<a name="line-6"></a>
<a name="line-7"></a><a name="voidPrimTy"></a><span class='hs-definition'>voidPrimTy</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Type</span>
<a name="line-8"></a><span class='hs-definition'>voidPrimTy</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>TyConApp</span> <span class='hs-varid'>voidPrimTyCon</span> <span class='hs-conid'>[]</span>
<a name="line-9"></a>
<a name="line-10"></a><a name="voidPrimTyCon"></a><span class='hs-definition'>voidPrimTyCon</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>TyCon</span>
<a name="line-11"></a><span class='hs-definition'>voidPrimTyCon</span>	 <span class='hs-keyglyph'>=</span> <span class='hs-varid'>pcPrimTyCon</span> <span class='hs-varid'>voidPrimTyConName</span> <span class='hs-conid'>[]</span> <span class='hs-conid'>VoidRep</span>
<a name="line-12"></a>
<a name="line-13"></a><a name="mkProxyPrimTy"></a><span class='hs-definition'>mkProxyPrimTy</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Type</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Type</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Type</span>
<a name="line-14"></a><span class='hs-definition'>mkProxyPrimTy</span> <span class='hs-varid'>k</span> <span class='hs-varid'>ty</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>TyConApp</span> <span class='hs-varid'>proxyPrimTyCon</span> <span class='hs-keyglyph'>[</span><span class='hs-varid'>k</span><span class='hs-layout'>,</span> <span class='hs-varid'>ty</span><span class='hs-keyglyph'>]</span>
<a name="line-15"></a>
<a name="line-16"></a><a name="proxyPrimTyCon"></a><span class='hs-definition'>proxyPrimTyCon</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>TyCon</span>
<a name="line-17"></a><span class='hs-definition'>proxyPrimTyCon</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkPrimTyCon</span> <span class='hs-varid'>proxyPrimTyConName</span> <span class='hs-varid'>kind</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>Nominal</span><span class='hs-layout'>,</span><span class='hs-conid'>Nominal</span><span class='hs-keyglyph'>]</span> <span class='hs-conid'>VoidRep</span>
<a name="line-18"></a>  <span class='hs-keyword'>where</span> <span class='hs-varid'>kind</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>ForAllTy</span> <span class='hs-varid'>kv</span> <span class='hs-varop'>$</span> <span class='hs-varid'>mkArrowKind</span> <span class='hs-varid'>k</span> <span class='hs-varid'>unliftedTypeKind</span>
<a name="line-19"></a>        <span class='hs-varid'>kv</span>   <span class='hs-keyglyph'>=</span> <span class='hs-varid'>kKiVar</span>
<a name="line-20"></a>        <span class='hs-varid'>k</span>    <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkTyVarTy</span> <span class='hs-varid'>kv</span>
<a name="line-21"></a>
<a name="line-22"></a><a name="eqPrimTyCon"></a><span class='hs-definition'>eqPrimTyCon</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>TyCon</span>  <span class='hs-comment'>-- The representation type for equality predicates</span>
<a name="line-23"></a>		      <span class='hs-comment'>-- See Note [The ~# TyCon]</span>
<a name="line-24"></a><span class='hs-definition'>eqPrimTyCon</span>  <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkPrimTyCon</span> <span class='hs-varid'>eqPrimTyConName</span> <span class='hs-varid'>kind</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>Nominal</span><span class='hs-layout'>,</span> <span class='hs-conid'>Nominal</span><span class='hs-layout'>,</span> <span class='hs-conid'>Nominal</span><span class='hs-keyglyph'>]</span> <span class='hs-conid'>VoidRep</span>
<a name="line-25"></a>  <span class='hs-keyword'>where</span> <span class='hs-varid'>kind</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>ForAllTy</span> <span class='hs-varid'>kv</span> <span class='hs-varop'>$</span> <span class='hs-varid'>mkArrowKinds</span> <span class='hs-keyglyph'>[</span><span class='hs-varid'>k</span><span class='hs-layout'>,</span> <span class='hs-varid'>k</span><span class='hs-keyglyph'>]</span> <span class='hs-varid'>unliftedTypeKind</span>
<a name="line-26"></a>        <span class='hs-varid'>kv</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>kKiVar</span>
<a name="line-27"></a>        <span class='hs-varid'>k</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkTyVarTy</span> <span class='hs-varid'>kv</span>
<a name="line-28"></a>
<a name="line-29"></a><a name="eqReprPrimTyCon"></a><span class='hs-comment'>-- like eqPrimTyCon, but the type for *Representational* coercions</span>
<a name="line-30"></a><span class='hs-comment'>-- this should only ever appear as the type of a covar. Its role is</span>
<a name="line-31"></a><span class='hs-comment'>-- interpreted in coercionRole</span>
<a name="line-32"></a><span class='hs-definition'>eqReprPrimTyCon</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>TyCon</span>
<a name="line-33"></a><span class='hs-definition'>eqReprPrimTyCon</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkPrimTyCon</span> <span class='hs-varid'>eqReprPrimTyConName</span> <span class='hs-varid'>kind</span>
<a name="line-34"></a>                                  <span class='hs-comment'>-- the roles really should be irrelevant!</span>
<a name="line-35"></a>                              <span class='hs-keyglyph'>[</span><span class='hs-conid'>Nominal</span><span class='hs-layout'>,</span> <span class='hs-conid'>Representational</span><span class='hs-layout'>,</span> <span class='hs-conid'>Representational</span><span class='hs-keyglyph'>]</span> <span class='hs-conid'>VoidRep</span>
<a name="line-36"></a>  <span class='hs-keyword'>where</span> <span class='hs-varid'>kind</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>ForAllTy</span> <span class='hs-varid'>kv</span> <span class='hs-varop'>$</span> <span class='hs-varid'>mkArrowKinds</span> <span class='hs-keyglyph'>[</span><span class='hs-varid'>k</span><span class='hs-layout'>,</span> <span class='hs-varid'>k</span><span class='hs-keyglyph'>]</span> <span class='hs-varid'>unliftedTypeKind</span>
<a name="line-37"></a>        <span class='hs-varid'>kv</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>kKiVar</span>
<a name="line-38"></a>        <span class='hs-varid'>k</span>  <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkTyVarTy</span> <span class='hs-varid'>kv</span>
</pre>\end{code}

RealWorld is deeply magical.  It is *primitive*, but it is not
*unlifted* (hence ptrArg).  We never manipulate values of type
RealWorld; it's only used in the type system, to parameterise State#.

\begin{code}
<pre><a name="line-1"></a><a name="realWorldTyCon"></a><span class='hs-definition'>realWorldTyCon</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>TyCon</span>
<a name="line-2"></a><span class='hs-definition'>realWorldTyCon</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkLiftedPrimTyCon</span> <span class='hs-varid'>realWorldTyConName</span> <span class='hs-varid'>liftedTypeKind</span> <span class='hs-conid'>[]</span> <span class='hs-conid'>PtrRep</span>
<a name="line-3"></a><a name="realWorldTy"></a><span class='hs-definition'>realWorldTy</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Type</span>
<a name="line-4"></a><span class='hs-definition'>realWorldTy</span>	     <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkTyConTy</span> <span class='hs-varid'>realWorldTyCon</span>
<a name="line-5"></a><a name="realWorldStatePrimTy"></a><span class='hs-definition'>realWorldStatePrimTy</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Type</span>
<a name="line-6"></a><span class='hs-definition'>realWorldStatePrimTy</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkStatePrimTy</span> <span class='hs-varid'>realWorldTy</span>	<span class='hs-comment'>-- State# RealWorld</span>
</pre>\end{code}

Note: the ``state-pairing'' types are not truly primitive, so they are
defined in \tr{TysWiredIn.lhs}, not here.

%************************************************************************
%*									*
\subsection[TysPrim-arrays]{The primitive array types}
%*									*
%************************************************************************

\begin{code}
<pre><a name="line-1"></a><a name="arrayPrimTyCon"></a><span class='hs-definition'>arrayPrimTyCon</span><span class='hs-layout'>,</span> <span class='hs-varid'>mutableArrayPrimTyCon</span><span class='hs-layout'>,</span> <span class='hs-varid'>mutableByteArrayPrimTyCon</span><span class='hs-layout'>,</span>
<a name="line-2"></a>    <span class='hs-varid'>byteArrayPrimTyCon</span><span class='hs-layout'>,</span> <span class='hs-varid'>arrayArrayPrimTyCon</span><span class='hs-layout'>,</span> <span class='hs-varid'>mutableArrayArrayPrimTyCon</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>TyCon</span>
<a name="line-3"></a><span class='hs-definition'>arrayPrimTyCon</span>             <span class='hs-keyglyph'>=</span> <span class='hs-varid'>pcPrimTyCon</span> <span class='hs-varid'>arrayPrimTyConName</span>             <span class='hs-keyglyph'>[</span><span class='hs-conid'>Representational</span><span class='hs-keyglyph'>]</span> <span class='hs-conid'>PtrRep</span>
<a name="line-4"></a><a name="mutableArrayPrimTyCon"></a><span class='hs-definition'>mutableArrayPrimTyCon</span>      <span class='hs-keyglyph'>=</span> <span class='hs-varid'>pcPrimTyCon</span>  <span class='hs-varid'>mutableArrayPrimTyConName</span>     <span class='hs-keyglyph'>[</span><span class='hs-conid'>Nominal</span><span class='hs-layout'>,</span> <span class='hs-conid'>Representational</span><span class='hs-keyglyph'>]</span> <span class='hs-conid'>PtrRep</span>
<a name="line-5"></a><a name="mutableByteArrayPrimTyCon"></a><span class='hs-definition'>mutableByteArrayPrimTyCon</span>  <span class='hs-keyglyph'>=</span> <span class='hs-varid'>pcPrimTyCon</span> <span class='hs-varid'>mutableByteArrayPrimTyConName</span>  <span class='hs-keyglyph'>[</span><span class='hs-conid'>Nominal</span><span class='hs-keyglyph'>]</span> <span class='hs-conid'>PtrRep</span>
<a name="line-6"></a><a name="byteArrayPrimTyCon"></a><span class='hs-definition'>byteArrayPrimTyCon</span>         <span class='hs-keyglyph'>=</span> <span class='hs-varid'>pcPrimTyCon0</span> <span class='hs-varid'>byteArrayPrimTyConName</span>        <span class='hs-conid'>PtrRep</span>
<a name="line-7"></a><a name="arrayArrayPrimTyCon"></a><span class='hs-definition'>arrayArrayPrimTyCon</span>        <span class='hs-keyglyph'>=</span> <span class='hs-varid'>pcPrimTyCon0</span> <span class='hs-varid'>arrayArrayPrimTyConName</span>       <span class='hs-conid'>PtrRep</span>
<a name="line-8"></a><a name="mutableArrayArrayPrimTyCon"></a><span class='hs-definition'>mutableArrayArrayPrimTyCon</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>pcPrimTyCon</span> <span class='hs-varid'>mutableArrayArrayPrimTyConName</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>Nominal</span><span class='hs-keyglyph'>]</span> <span class='hs-conid'>PtrRep</span>
<a name="line-9"></a>
<a name="line-10"></a><a name="mkArrayPrimTy"></a><span class='hs-definition'>mkArrayPrimTy</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Type</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Type</span>
<a name="line-11"></a><span class='hs-definition'>mkArrayPrimTy</span> <span class='hs-varid'>elt</span>    	    <span class='hs-keyglyph'>=</span> <span class='hs-conid'>TyConApp</span> <span class='hs-varid'>arrayPrimTyCon</span> <span class='hs-keyglyph'>[</span><span class='hs-varid'>elt</span><span class='hs-keyglyph'>]</span>
<a name="line-12"></a><a name="byteArrayPrimTy"></a><span class='hs-definition'>byteArrayPrimTy</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Type</span>
<a name="line-13"></a><span class='hs-definition'>byteArrayPrimTy</span>	    	    <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkTyConTy</span> <span class='hs-varid'>byteArrayPrimTyCon</span>
<a name="line-14"></a><a name="mkArrayArrayPrimTy"></a><span class='hs-definition'>mkArrayArrayPrimTy</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Type</span>
<a name="line-15"></a><span class='hs-definition'>mkArrayArrayPrimTy</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkTyConTy</span> <span class='hs-varid'>arrayArrayPrimTyCon</span>
<a name="line-16"></a><a name="mkMutableArrayPrimTy"></a><span class='hs-definition'>mkMutableArrayPrimTy</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Type</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Type</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Type</span>
<a name="line-17"></a><span class='hs-definition'>mkMutableArrayPrimTy</span> <span class='hs-varid'>s</span> <span class='hs-varid'>elt</span>  <span class='hs-keyglyph'>=</span> <span class='hs-conid'>TyConApp</span> <span class='hs-varid'>mutableArrayPrimTyCon</span> <span class='hs-keyglyph'>[</span><span class='hs-varid'>s</span><span class='hs-layout'>,</span> <span class='hs-varid'>elt</span><span class='hs-keyglyph'>]</span>
<a name="line-18"></a><a name="mkMutableByteArrayPrimTy"></a><span class='hs-definition'>mkMutableByteArrayPrimTy</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Type</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Type</span>
<a name="line-19"></a><span class='hs-definition'>mkMutableByteArrayPrimTy</span> <span class='hs-varid'>s</span>  <span class='hs-keyglyph'>=</span> <span class='hs-conid'>TyConApp</span> <span class='hs-varid'>mutableByteArrayPrimTyCon</span> <span class='hs-keyglyph'>[</span><span class='hs-varid'>s</span><span class='hs-keyglyph'>]</span>
<a name="line-20"></a><a name="mkMutableArrayArrayPrimTy"></a><span class='hs-definition'>mkMutableArrayArrayPrimTy</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Type</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Type</span>
<a name="line-21"></a><span class='hs-definition'>mkMutableArrayArrayPrimTy</span> <span class='hs-varid'>s</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>TyConApp</span> <span class='hs-varid'>mutableArrayArrayPrimTyCon</span> <span class='hs-keyglyph'>[</span><span class='hs-varid'>s</span><span class='hs-keyglyph'>]</span>
</pre>\end{code}

%************************************************************************
%*									*
\subsection[TysPrim-mut-var]{The mutable variable type}
%*									*
%************************************************************************

\begin{code}
<pre><a name="line-1"></a><a name="mutVarPrimTyCon"></a><span class='hs-definition'>mutVarPrimTyCon</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>TyCon</span>
<a name="line-2"></a><span class='hs-definition'>mutVarPrimTyCon</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>pcPrimTyCon</span> <span class='hs-varid'>mutVarPrimTyConName</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>Nominal</span><span class='hs-layout'>,</span> <span class='hs-conid'>Representational</span><span class='hs-keyglyph'>]</span> <span class='hs-conid'>PtrRep</span>
<a name="line-3"></a>
<a name="line-4"></a><a name="mkMutVarPrimTy"></a><span class='hs-definition'>mkMutVarPrimTy</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Type</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Type</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Type</span>
<a name="line-5"></a><span class='hs-definition'>mkMutVarPrimTy</span> <span class='hs-varid'>s</span> <span class='hs-varid'>elt</span> 	    <span class='hs-keyglyph'>=</span> <span class='hs-conid'>TyConApp</span> <span class='hs-varid'>mutVarPrimTyCon</span> <span class='hs-keyglyph'>[</span><span class='hs-varid'>s</span><span class='hs-layout'>,</span> <span class='hs-varid'>elt</span><span class='hs-keyglyph'>]</span>
</pre>\end{code}

%************************************************************************
%*									*
\subsection[TysPrim-synch-var]{The synchronizing variable type}
%*									*
%************************************************************************

\begin{code}
<pre><a name="line-1"></a><a name="mVarPrimTyCon"></a><span class='hs-definition'>mVarPrimTyCon</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>TyCon</span>
<a name="line-2"></a><span class='hs-definition'>mVarPrimTyCon</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>pcPrimTyCon</span> <span class='hs-varid'>mVarPrimTyConName</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>Nominal</span><span class='hs-layout'>,</span> <span class='hs-conid'>Representational</span><span class='hs-keyglyph'>]</span> <span class='hs-conid'>PtrRep</span>
<a name="line-3"></a>
<a name="line-4"></a><a name="mkMVarPrimTy"></a><span class='hs-definition'>mkMVarPrimTy</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Type</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Type</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Type</span>
<a name="line-5"></a><span class='hs-definition'>mkMVarPrimTy</span> <span class='hs-varid'>s</span> <span class='hs-varid'>elt</span> 	    <span class='hs-keyglyph'>=</span> <span class='hs-conid'>TyConApp</span> <span class='hs-varid'>mVarPrimTyCon</span> <span class='hs-keyglyph'>[</span><span class='hs-varid'>s</span><span class='hs-layout'>,</span> <span class='hs-varid'>elt</span><span class='hs-keyglyph'>]</span>
</pre>\end{code}

%************************************************************************
%*									*
\subsection[TysPrim-stm-var]{The transactional variable type}
%*									*
%************************************************************************

\begin{code}
<pre><a name="line-1"></a><a name="tVarPrimTyCon"></a><span class='hs-definition'>tVarPrimTyCon</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>TyCon</span>
<a name="line-2"></a><span class='hs-definition'>tVarPrimTyCon</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>pcPrimTyCon</span> <span class='hs-varid'>tVarPrimTyConName</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>Nominal</span><span class='hs-layout'>,</span> <span class='hs-conid'>Representational</span><span class='hs-keyglyph'>]</span> <span class='hs-conid'>PtrRep</span>
<a name="line-3"></a>
<a name="line-4"></a><a name="mkTVarPrimTy"></a><span class='hs-definition'>mkTVarPrimTy</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Type</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Type</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Type</span>
<a name="line-5"></a><span class='hs-definition'>mkTVarPrimTy</span> <span class='hs-varid'>s</span> <span class='hs-varid'>elt</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>TyConApp</span> <span class='hs-varid'>tVarPrimTyCon</span> <span class='hs-keyglyph'>[</span><span class='hs-varid'>s</span><span class='hs-layout'>,</span> <span class='hs-varid'>elt</span><span class='hs-keyglyph'>]</span>
</pre>\end{code}

%************************************************************************
%*									*
\subsection[TysPrim-stable-ptrs]{The stable-pointer type}
%*									*
%************************************************************************

\begin{code}
<pre><a name="line-1"></a><a name="stablePtrPrimTyCon"></a><span class='hs-definition'>stablePtrPrimTyCon</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>TyCon</span>
<a name="line-2"></a><span class='hs-definition'>stablePtrPrimTyCon</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>pcPrimTyCon</span> <span class='hs-varid'>stablePtrPrimTyConName</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>Representational</span><span class='hs-keyglyph'>]</span> <span class='hs-conid'>AddrRep</span>
<a name="line-3"></a>
<a name="line-4"></a><a name="mkStablePtrPrimTy"></a><span class='hs-definition'>mkStablePtrPrimTy</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Type</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Type</span>
<a name="line-5"></a><span class='hs-definition'>mkStablePtrPrimTy</span> <span class='hs-varid'>ty</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>TyConApp</span> <span class='hs-varid'>stablePtrPrimTyCon</span> <span class='hs-keyglyph'>[</span><span class='hs-varid'>ty</span><span class='hs-keyglyph'>]</span>
</pre>\end{code}

%************************************************************************
%*									*
\subsection[TysPrim-stable-names]{The stable-name type}
%*									*
%************************************************************************

\begin{code}
<pre><a name="line-1"></a><a name="stableNamePrimTyCon"></a><span class='hs-definition'>stableNamePrimTyCon</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>TyCon</span>
<a name="line-2"></a><span class='hs-definition'>stableNamePrimTyCon</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>pcPrimTyCon</span> <span class='hs-varid'>stableNamePrimTyConName</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>Representational</span><span class='hs-keyglyph'>]</span> <span class='hs-conid'>PtrRep</span>
<a name="line-3"></a>
<a name="line-4"></a><a name="mkStableNamePrimTy"></a><span class='hs-definition'>mkStableNamePrimTy</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Type</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Type</span>
<a name="line-5"></a><span class='hs-definition'>mkStableNamePrimTy</span> <span class='hs-varid'>ty</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>TyConApp</span> <span class='hs-varid'>stableNamePrimTyCon</span> <span class='hs-keyglyph'>[</span><span class='hs-varid'>ty</span><span class='hs-keyglyph'>]</span>
</pre>\end{code}

%************************************************************************
%*									*
\subsection[TysPrim-BCOs]{The ``bytecode object'' type}
%*									*
%************************************************************************

\begin{code}
<pre><a name="line-1"></a><a name="bcoPrimTy"></a><span class='hs-definition'>bcoPrimTy</span>    <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Type</span>
<a name="line-2"></a><span class='hs-definition'>bcoPrimTy</span>    <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkTyConTy</span> <span class='hs-varid'>bcoPrimTyCon</span>
<a name="line-3"></a><a name="bcoPrimTyCon"></a><span class='hs-definition'>bcoPrimTyCon</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>TyCon</span>
<a name="line-4"></a><span class='hs-definition'>bcoPrimTyCon</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>pcPrimTyCon0</span> <span class='hs-varid'>bcoPrimTyConName</span> <span class='hs-conid'>PtrRep</span>
</pre>\end{code}
  
%************************************************************************
%*									*
\subsection[TysPrim-Weak]{The ``weak pointer'' type}
%*									*
%************************************************************************

\begin{code}
<pre><a name="line-1"></a><a name="weakPrimTyCon"></a><span class='hs-definition'>weakPrimTyCon</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>TyCon</span>
<a name="line-2"></a><span class='hs-definition'>weakPrimTyCon</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>pcPrimTyCon</span> <span class='hs-varid'>weakPrimTyConName</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>Representational</span><span class='hs-keyglyph'>]</span> <span class='hs-conid'>PtrRep</span>
<a name="line-3"></a>
<a name="line-4"></a><a name="mkWeakPrimTy"></a><span class='hs-definition'>mkWeakPrimTy</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Type</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Type</span>
<a name="line-5"></a><span class='hs-definition'>mkWeakPrimTy</span> <span class='hs-varid'>v</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>TyConApp</span> <span class='hs-varid'>weakPrimTyCon</span> <span class='hs-keyglyph'>[</span><span class='hs-varid'>v</span><span class='hs-keyglyph'>]</span>
</pre>\end{code}

%************************************************************************
%*									*
\subsection[TysPrim-thread-ids]{The ``thread id'' type}
%*									*
%************************************************************************

A thread id is represented by a pointer to the TSO itself, to ensure
that they are always unique and we can always find the TSO for a given
thread id.  However, this has the unfortunate consequence that a
ThreadId# for a given thread is treated as a root by the garbage
collector and can keep TSOs around for too long.

Hence the programmer API for thread manipulation uses a weak pointer
to the thread id internally.

\begin{code}
<pre><a name="line-1"></a><a name="threadIdPrimTy"></a><span class='hs-definition'>threadIdPrimTy</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Type</span>
<a name="line-2"></a><span class='hs-definition'>threadIdPrimTy</span>    <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkTyConTy</span> <span class='hs-varid'>threadIdPrimTyCon</span>
<a name="line-3"></a><a name="threadIdPrimTyCon"></a><span class='hs-definition'>threadIdPrimTyCon</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>TyCon</span>
<a name="line-4"></a><span class='hs-definition'>threadIdPrimTyCon</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>pcPrimTyCon0</span> <span class='hs-varid'>threadIdPrimTyConName</span> <span class='hs-conid'>PtrRep</span>
</pre>\end{code}

%************************************************************************
%*									*
		Any
%*									*
%************************************************************************

Note [Any types]
~~~~~~~~~~~~~~~~
The type constructor Any of kind forall k. k -> k has these properties:

  * It is defined in module GHC.Prim, and exported so that it is 
    available to users.  For this reason it's treated like any other 
    primitive type:
      - has a fixed unique, anyTyConKey, 
      - lives in the global name cache

  * It is a *closed* type family, with no instances.  This means that
    if   ty :: '(k1, k2)  we add a given coercion
             g :: ty ~ (Fst ty, Snd ty)
    If Any was a *data* type, then we'd get inconsistency because 'ty'
    could be (Any '(k1,k2)) and then we'd have an equality with Any on
    one side and '(,) on the other

  * It is lifted, and hence represented by a pointer

  * It is inhabited by at least one value, namely bottom

  * You can unsafely coerce any lifted type to Any, and back.

  * It does not claim to be a *data* type, and that's important for
    the code generator, because the code gen may *enter* a data value
    but never enters a function value. 

  * It is used to instantiate otherwise un-constrained type variables
    For example   	length Any []
    See Note [Strangely-kinded void TyCons]

Note [Any kinds]
~~~~~~~~~~~~~~~~

The type constructor AnyK (of sort BOX) is used internally only to zonk kind
variables with no constraints on them. It appears in similar circumstances to
Any, but at the kind level. For example:

  type family Length (l :: [k]) :: Nat
  type instance Length [] = Zero

Length is kind-polymorphic, and when applied to the empty (promoted) list it
will have the kind Length AnyK [].

Note [Strangely-kinded void TyCons]
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
See Trac #959 for more examples

When the type checker finds a type variable with no binding, which
means it can be instantiated with an arbitrary type, it usually
instantiates it to Void.  Eg.

	length []
===>
	length Any (Nil Any)

But in really obscure programs, the type variable might have a kind
other than *, so we need to invent a suitably-kinded type.

This commit uses
	Any for kind *
	Any(*->*) for kind *->*
	etc

\begin{code}
<pre><a name="line-1"></a><a name="anyTyConName"></a><span class='hs-definition'>anyTyConName</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Name</span>
<a name="line-2"></a><span class='hs-definition'>anyTyConName</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkPrimTc</span> <span class='hs-layout'>(</span><span class='hs-varid'>fsLit</span> <span class='hs-str'>"Any"</span><span class='hs-layout'>)</span> <span class='hs-varid'>anyTyConKey</span> <span class='hs-varid'>anyTyCon</span>
<a name="line-3"></a>
<a name="line-4"></a><a name="anyTy"></a><span class='hs-definition'>anyTy</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Type</span>
<a name="line-5"></a><span class='hs-definition'>anyTy</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkTyConTy</span> <span class='hs-varid'>anyTyCon</span>
<a name="line-6"></a>
<a name="line-7"></a><a name="anyTyCon"></a><span class='hs-definition'>anyTyCon</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>TyCon</span>
<a name="line-8"></a><span class='hs-definition'>anyTyCon</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkLiftedPrimTyCon</span> <span class='hs-varid'>anyTyConName</span> <span class='hs-varid'>kind</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>Nominal</span><span class='hs-keyglyph'>]</span> <span class='hs-conid'>PtrRep</span>
<a name="line-9"></a>  <span class='hs-keyword'>where</span> <span class='hs-varid'>kind</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>ForAllTy</span> <span class='hs-varid'>kKiVar</span> <span class='hs-layout'>(</span><span class='hs-varid'>mkTyVarTy</span> <span class='hs-varid'>kKiVar</span><span class='hs-layout'>)</span>
<a name="line-10"></a>
<a name="line-11"></a><span class='hs-comment'>{-   Can't do this yet without messing up kind proxies
<a name="line-12"></a>-- RAE: I think you can now.
<a name="line-13"></a>anyTyCon :: TyCon
<a name="line-14"></a>anyTyCon = mkSynTyCon anyTyConName kind [kKiVar] 
<a name="line-15"></a>                      syn_rhs
<a name="line-16"></a>                      NoParentTyCon
<a name="line-17"></a>  where 
<a name="line-18"></a>    kind = ForAllTy kKiVar (mkTyVarTy kKiVar)
<a name="line-19"></a>    syn_rhs = SynFamilyTyCon { synf_open = False, synf_injective = True }
<a name="line-20"></a>                  -- NB Closed, injective
<a name="line-21"></a>-}</span>
<a name="line-22"></a>
<a name="line-23"></a><a name="anyTypeOfKind"></a><span class='hs-definition'>anyTypeOfKind</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Kind</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Type</span>
<a name="line-24"></a><span class='hs-definition'>anyTypeOfKind</span> <span class='hs-varid'>kind</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>TyConApp</span> <span class='hs-varid'>anyTyCon</span> <span class='hs-keyglyph'>[</span><span class='hs-varid'>kind</span><span class='hs-keyglyph'>]</span>
</pre>\end{code}

%************************************************************************
%*									*
\subsection{SIMD vector types}
%*									*
%************************************************************************

\begin{code}
<pre><a name="line-1"></a><span class='hs-cpp'>#</span><span class='hs-varid'>include</span> <span class='hs-str'>"primop-vector-tys.hs-incl"</span>
</pre>\end{code}
</body>
</html>
