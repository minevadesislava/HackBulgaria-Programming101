<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
<!-- Generated by HsColour, http://code.haskell.org/~malcolm/hscolour/ -->
<title>prelude/TysWiredIn.lhs</title>
<link type='text/css' rel='stylesheet' href='hscolour.css' />
</head>
<body>
%
% (c) The GRASP Project, Glasgow University, 1994-1998
%
\section[TysWiredIn]{Wired-in knowledge about {\em non-primitive} types}

\begin{code}
<pre><a name="line-1"></a><span class='hs-comment'>-- | This module is about types that can be defined in Haskell, but which</span>
<a name="line-2"></a><span class='hs-comment'>--   must be wired into the compiler nonetheless.  C.f module TysPrim</span>
<a name="line-3"></a><span class='hs-keyword'>module</span> <span class='hs-conid'>TysWiredIn</span> <span class='hs-layout'>(</span>
<a name="line-4"></a>        <span class='hs-comment'>-- * All wired in things</span>
<a name="line-5"></a>        <span class='hs-varid'>wiredInTyCons</span><span class='hs-layout'>,</span> <span class='hs-varid'>isBuiltInOcc_maybe</span><span class='hs-layout'>,</span>
<a name="line-6"></a>
<a name="line-7"></a>        <span class='hs-comment'>-- * Bool</span>
<a name="line-8"></a>        <span class='hs-varid'>boolTy</span><span class='hs-layout'>,</span> <span class='hs-varid'>boolTyCon</span><span class='hs-layout'>,</span> <span class='hs-varid'>boolTyCon_RDR</span><span class='hs-layout'>,</span> <span class='hs-varid'>boolTyConName</span><span class='hs-layout'>,</span>
<a name="line-9"></a>        <span class='hs-varid'>trueDataCon</span><span class='hs-layout'>,</span>  <span class='hs-varid'>trueDataConId</span><span class='hs-layout'>,</span>  <span class='hs-varid'>true_RDR</span><span class='hs-layout'>,</span>
<a name="line-10"></a>        <span class='hs-varid'>falseDataCon</span><span class='hs-layout'>,</span> <span class='hs-varid'>falseDataConId</span><span class='hs-layout'>,</span> <span class='hs-varid'>false_RDR</span><span class='hs-layout'>,</span>
<a name="line-11"></a>        <span class='hs-varid'>promotedBoolTyCon</span><span class='hs-layout'>,</span> <span class='hs-varid'>promotedFalseDataCon</span><span class='hs-layout'>,</span> <span class='hs-varid'>promotedTrueDataCon</span><span class='hs-layout'>,</span>
<a name="line-12"></a>
<a name="line-13"></a>        <span class='hs-comment'>-- * Ordering</span>
<a name="line-14"></a>        <span class='hs-varid'>ltDataCon</span><span class='hs-layout'>,</span> <span class='hs-varid'>ltDataConId</span><span class='hs-layout'>,</span>
<a name="line-15"></a>        <span class='hs-varid'>eqDataCon</span><span class='hs-layout'>,</span> <span class='hs-varid'>eqDataConId</span><span class='hs-layout'>,</span>
<a name="line-16"></a>        <span class='hs-varid'>gtDataCon</span><span class='hs-layout'>,</span> <span class='hs-varid'>gtDataConId</span><span class='hs-layout'>,</span>
<a name="line-17"></a>        <span class='hs-varid'>promotedOrderingTyCon</span><span class='hs-layout'>,</span>
<a name="line-18"></a>        <span class='hs-varid'>promotedLTDataCon</span><span class='hs-layout'>,</span> <span class='hs-varid'>promotedEQDataCon</span><span class='hs-layout'>,</span> <span class='hs-varid'>promotedGTDataCon</span><span class='hs-layout'>,</span>
<a name="line-19"></a>
<a name="line-20"></a>        <span class='hs-comment'>-- * Char</span>
<a name="line-21"></a>        <span class='hs-varid'>charTyCon</span><span class='hs-layout'>,</span> <span class='hs-varid'>charDataCon</span><span class='hs-layout'>,</span> <span class='hs-varid'>charTyCon_RDR</span><span class='hs-layout'>,</span>
<a name="line-22"></a>        <span class='hs-varid'>charTy</span><span class='hs-layout'>,</span> <span class='hs-varid'>stringTy</span><span class='hs-layout'>,</span> <span class='hs-varid'>charTyConName</span><span class='hs-layout'>,</span>
<a name="line-23"></a>
<a name="line-24"></a>        <span class='hs-comment'>-- integer-gmp only:</span>
<a name="line-25"></a>        <span class='hs-varid'>integerGmpSDataCon</span><span class='hs-layout'>,</span>
<a name="line-26"></a>
<a name="line-27"></a>        <span class='hs-comment'>-- * Double</span>
<a name="line-28"></a>        <span class='hs-varid'>doubleTyCon</span><span class='hs-layout'>,</span> <span class='hs-varid'>doubleDataCon</span><span class='hs-layout'>,</span> <span class='hs-varid'>doubleTy</span><span class='hs-layout'>,</span> <span class='hs-varid'>doubleTyConName</span><span class='hs-layout'>,</span>
<a name="line-29"></a>
<a name="line-30"></a>        <span class='hs-comment'>-- * Float</span>
<a name="line-31"></a>        <span class='hs-varid'>floatTyCon</span><span class='hs-layout'>,</span> <span class='hs-varid'>floatDataCon</span><span class='hs-layout'>,</span> <span class='hs-varid'>floatTy</span><span class='hs-layout'>,</span> <span class='hs-varid'>floatTyConName</span><span class='hs-layout'>,</span>
<a name="line-32"></a>
<a name="line-33"></a>        <span class='hs-comment'>-- * Int</span>
<a name="line-34"></a>        <span class='hs-varid'>intTyCon</span><span class='hs-layout'>,</span> <span class='hs-varid'>intDataCon</span><span class='hs-layout'>,</span> <span class='hs-varid'>intTyCon_RDR</span><span class='hs-layout'>,</span> <span class='hs-varid'>intDataCon_RDR</span><span class='hs-layout'>,</span> <span class='hs-varid'>intTyConName</span><span class='hs-layout'>,</span>
<a name="line-35"></a>        <span class='hs-varid'>intTy</span><span class='hs-layout'>,</span>
<a name="line-36"></a>
<a name="line-37"></a>        <span class='hs-comment'>-- * Word</span>
<a name="line-38"></a>        <span class='hs-varid'>wordTyCon</span><span class='hs-layout'>,</span> <span class='hs-varid'>wordDataCon</span><span class='hs-layout'>,</span> <span class='hs-varid'>wordTyConName</span><span class='hs-layout'>,</span> <span class='hs-varid'>wordTy</span><span class='hs-layout'>,</span>
<a name="line-39"></a>
<a name="line-40"></a>        <span class='hs-comment'>-- * List</span>
<a name="line-41"></a>        <span class='hs-varid'>listTyCon</span><span class='hs-layout'>,</span> <span class='hs-varid'>nilDataCon</span><span class='hs-layout'>,</span> <span class='hs-varid'>nilDataConName</span><span class='hs-layout'>,</span> <span class='hs-varid'>consDataCon</span><span class='hs-layout'>,</span> <span class='hs-varid'>consDataConName</span><span class='hs-layout'>,</span>
<a name="line-42"></a>        <span class='hs-varid'>listTyCon_RDR</span><span class='hs-layout'>,</span> <span class='hs-varid'>consDataCon_RDR</span><span class='hs-layout'>,</span> <span class='hs-varid'>listTyConName</span><span class='hs-layout'>,</span>
<a name="line-43"></a>        <span class='hs-varid'>mkListTy</span><span class='hs-layout'>,</span> <span class='hs-varid'>mkPromotedListTy</span><span class='hs-layout'>,</span>
<a name="line-44"></a>
<a name="line-45"></a>        <span class='hs-comment'>-- * Tuples</span>
<a name="line-46"></a>        <span class='hs-varid'>mkTupleTy</span><span class='hs-layout'>,</span> <span class='hs-varid'>mkBoxedTupleTy</span><span class='hs-layout'>,</span>
<a name="line-47"></a>        <span class='hs-varid'>tupleTyCon</span><span class='hs-layout'>,</span> <span class='hs-varid'>tupleCon</span><span class='hs-layout'>,</span>
<a name="line-48"></a>        <span class='hs-varid'>promotedTupleTyCon</span><span class='hs-layout'>,</span> <span class='hs-varid'>promotedTupleDataCon</span><span class='hs-layout'>,</span>
<a name="line-49"></a>        <span class='hs-varid'>unitTyCon</span><span class='hs-layout'>,</span> <span class='hs-varid'>unitDataCon</span><span class='hs-layout'>,</span> <span class='hs-varid'>unitDataConId</span><span class='hs-layout'>,</span> <span class='hs-varid'>pairTyCon</span><span class='hs-layout'>,</span>
<a name="line-50"></a>        <span class='hs-varid'>unboxedUnitTyCon</span><span class='hs-layout'>,</span> <span class='hs-varid'>unboxedUnitDataCon</span><span class='hs-layout'>,</span>
<a name="line-51"></a>        <span class='hs-varid'>unboxedSingletonTyCon</span><span class='hs-layout'>,</span> <span class='hs-varid'>unboxedSingletonDataCon</span><span class='hs-layout'>,</span>
<a name="line-52"></a>        <span class='hs-varid'>unboxedPairTyCon</span><span class='hs-layout'>,</span> <span class='hs-varid'>unboxedPairDataCon</span><span class='hs-layout'>,</span>
<a name="line-53"></a>
<a name="line-54"></a>        <span class='hs-comment'>-- * Unit</span>
<a name="line-55"></a>        <span class='hs-varid'>unitTy</span><span class='hs-layout'>,</span>
<a name="line-56"></a>
<a name="line-57"></a>        <span class='hs-comment'>-- * Kinds</span>
<a name="line-58"></a>        <span class='hs-varid'>typeNatKindCon</span><span class='hs-layout'>,</span> <span class='hs-varid'>typeNatKind</span><span class='hs-layout'>,</span> <span class='hs-varid'>typeSymbolKindCon</span><span class='hs-layout'>,</span> <span class='hs-varid'>typeSymbolKind</span><span class='hs-layout'>,</span>
<a name="line-59"></a>
<a name="line-60"></a>        <span class='hs-comment'>-- * Parallel arrays</span>
<a name="line-61"></a>        <span class='hs-varid'>mkPArrTy</span><span class='hs-layout'>,</span>
<a name="line-62"></a>        <span class='hs-varid'>parrTyCon</span><span class='hs-layout'>,</span> <span class='hs-varid'>parrFakeCon</span><span class='hs-layout'>,</span> <span class='hs-varid'>isPArrTyCon</span><span class='hs-layout'>,</span> <span class='hs-varid'>isPArrFakeCon</span><span class='hs-layout'>,</span>
<a name="line-63"></a>        <span class='hs-varid'>parrTyCon_RDR</span><span class='hs-layout'>,</span> <span class='hs-varid'>parrTyConName</span><span class='hs-layout'>,</span>
<a name="line-64"></a>
<a name="line-65"></a>        <span class='hs-comment'>-- * Equality predicates</span>
<a name="line-66"></a>        <span class='hs-varid'>eqTyCon_RDR</span><span class='hs-layout'>,</span> <span class='hs-varid'>eqTyCon</span><span class='hs-layout'>,</span> <span class='hs-varid'>eqTyConName</span><span class='hs-layout'>,</span> <span class='hs-varid'>eqBoxDataCon</span><span class='hs-layout'>,</span>
<a name="line-67"></a>        <span class='hs-varid'>coercibleTyCon</span><span class='hs-layout'>,</span> <span class='hs-varid'>coercibleDataCon</span><span class='hs-layout'>,</span> <span class='hs-varid'>coercibleClass</span><span class='hs-layout'>,</span>
<a name="line-68"></a>
<a name="line-69"></a>        <span class='hs-varid'>mkWiredInTyConName</span> <span class='hs-comment'>-- This is used in TcTypeNats to define the</span>
<a name="line-70"></a>                           <span class='hs-comment'>-- built-in functions for evaluation.</span>
<a name="line-71"></a>    <span class='hs-layout'>)</span> <span class='hs-keyword'>where</span>
<a name="line-72"></a>
<a name="line-73"></a><span class='hs-cpp'>#include "HsVersions.h"</span>
<a name="line-74"></a>
<a name="line-75"></a><span class='hs-keyword'>import</span> <span class='hs-comment'>{-# SOURCE #-}</span> <span class='hs-conid'>MkId</span><span class='hs-layout'>(</span> <span class='hs-varid'>mkDataConWorkId</span> <span class='hs-layout'>)</span>
<a name="line-76"></a>
<a name="line-77"></a><span class='hs-comment'>-- friends:</span>
<a name="line-78"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>PrelNames</span>
<a name="line-79"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>TysPrim</span>
<a name="line-80"></a>
<a name="line-81"></a><span class='hs-comment'>-- others:</span>
<a name="line-82"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>Constants</span>        <span class='hs-layout'>(</span> <span class='hs-varid'>mAX_TUPLE_SIZE</span> <span class='hs-layout'>)</span>
<a name="line-83"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>Module</span>           <span class='hs-layout'>(</span> <span class='hs-conid'>Module</span> <span class='hs-layout'>)</span>
<a name="line-84"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>Type</span>             <span class='hs-layout'>(</span> <span class='hs-varid'>mkTyConApp</span> <span class='hs-layout'>)</span>
<a name="line-85"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>DataCon</span>
<a name="line-86"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>ConLike</span>
<a name="line-87"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>Var</span>
<a name="line-88"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>TyCon</span>
<a name="line-89"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>Class</span>            <span class='hs-layout'>(</span> <span class='hs-conid'>Class</span><span class='hs-layout'>,</span> <span class='hs-varid'>mkClass</span> <span class='hs-layout'>)</span>
<a name="line-90"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>TypeRep</span>
<a name="line-91"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>RdrName</span>
<a name="line-92"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>Name</span>
<a name="line-93"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>BasicTypes</span>       <span class='hs-layout'>(</span> <span class='hs-conid'>TupleSort</span><span class='hs-layout'>(</span><span class='hs-keyglyph'>..</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span> <span class='hs-varid'>tupleSortBoxity</span><span class='hs-layout'>,</span>
<a name="line-94"></a>                          <span class='hs-conid'>Arity</span><span class='hs-layout'>,</span> <span class='hs-conid'>RecFlag</span><span class='hs-layout'>(</span><span class='hs-keyglyph'>..</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span> <span class='hs-conid'>Boxity</span><span class='hs-layout'>(</span><span class='hs-keyglyph'>..</span><span class='hs-layout'>)</span> <span class='hs-layout'>)</span>
<a name="line-95"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>ForeignCall</span>
<a name="line-96"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>Unique</span>           <span class='hs-layout'>(</span> <span class='hs-varid'>incrUnique</span><span class='hs-layout'>,</span> <span class='hs-varid'>mkTupleTyConUnique</span><span class='hs-layout'>,</span>
<a name="line-97"></a>                          <span class='hs-varid'>mkTupleDataConUnique</span><span class='hs-layout'>,</span> <span class='hs-varid'>mkPArrDataConUnique</span> <span class='hs-layout'>)</span>
<a name="line-98"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>Data</span><span class='hs-varop'>.</span><span class='hs-conid'>Array</span>
<a name="line-99"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>FastString</span>
<a name="line-100"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>Outputable</span>
<a name="line-101"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>Config</span>
<a name="line-102"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>Util</span>
<a name="line-103"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>BooleanFormula</span>   <span class='hs-layout'>(</span> <span class='hs-varid'>mkAnd</span> <span class='hs-layout'>)</span>
<a name="line-104"></a>
<a name="line-105"></a><a name="alpha_tyvar"></a><span class='hs-definition'>alpha_tyvar</span> <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>TyVar</span><span class='hs-keyglyph'>]</span>
<a name="line-106"></a><span class='hs-definition'>alpha_tyvar</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyglyph'>[</span><span class='hs-varid'>alphaTyVar</span><span class='hs-keyglyph'>]</span>
<a name="line-107"></a>
<a name="line-108"></a><a name="alpha_ty"></a><span class='hs-definition'>alpha_ty</span> <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>Type</span><span class='hs-keyglyph'>]</span>
<a name="line-109"></a><span class='hs-definition'>alpha_ty</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyglyph'>[</span><span class='hs-varid'>alphaTy</span><span class='hs-keyglyph'>]</span>
</pre>\end{code}


%************************************************************************
%*                                                                      *
\subsection{Wired in type constructors}
%*                                                                      *
%************************************************************************

If you change which things are wired in, make sure you change their
names in PrelNames, so they use wTcQual, wDataQual, etc

\begin{code}
<pre><a name="line-1"></a><a name="wiredInTyCons"></a><span class='hs-comment'>-- This list is used only to define PrelInfo.wiredInThings. That in turn</span>
<a name="line-2"></a><span class='hs-comment'>-- is used to initialise the name environment carried around by the renamer.</span>
<a name="line-3"></a><span class='hs-comment'>-- This means that if we look up the name of a TyCon (or its implicit binders)</span>
<a name="line-4"></a><span class='hs-comment'>-- that occurs in this list that name will be assigned the wired-in key we</span>
<a name="line-5"></a><span class='hs-comment'>-- define here.</span>
<a name="line-6"></a><span class='hs-comment'>--</span>
<a name="line-7"></a><span class='hs-comment'>-- Because of their infinite nature, this list excludes tuples, Any and implicit</span>
<a name="line-8"></a><span class='hs-comment'>-- parameter TyCons. Instead, we have a hack in lookupOrigNameCache to deal with</span>
<a name="line-9"></a><span class='hs-comment'>-- these names.</span>
<a name="line-10"></a><span class='hs-comment'>--</span>
<a name="line-11"></a><span class='hs-comment'>-- See also Note [Known-key names]</span>
<a name="line-12"></a><span class='hs-definition'>wiredInTyCons</span> <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>TyCon</span><span class='hs-keyglyph'>]</span>
<a name="line-13"></a>
<a name="line-14"></a><span class='hs-definition'>wiredInTyCons</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyglyph'>[</span> <span class='hs-varid'>unitTyCon</span>     <span class='hs-comment'>-- Not treated like other tuples, because</span>
<a name="line-15"></a>                                <span class='hs-comment'>-- it's defined in GHC.Base, and there's only</span>
<a name="line-16"></a>                                <span class='hs-comment'>-- one of it.  We put it in wiredInTyCons so</span>
<a name="line-17"></a>                                <span class='hs-comment'>-- that it'll pre-populate the name cache, so</span>
<a name="line-18"></a>                                <span class='hs-comment'>-- the special case in lookupOrigNameCache</span>
<a name="line-19"></a>                                <span class='hs-comment'>-- doesn't need to look out for it</span>
<a name="line-20"></a>              <span class='hs-layout'>,</span> <span class='hs-varid'>boolTyCon</span>
<a name="line-21"></a>              <span class='hs-layout'>,</span> <span class='hs-varid'>charTyCon</span>
<a name="line-22"></a>              <span class='hs-layout'>,</span> <span class='hs-varid'>doubleTyCon</span>
<a name="line-23"></a>              <span class='hs-layout'>,</span> <span class='hs-varid'>floatTyCon</span>
<a name="line-24"></a>              <span class='hs-layout'>,</span> <span class='hs-varid'>intTyCon</span>
<a name="line-25"></a>              <span class='hs-layout'>,</span> <span class='hs-varid'>wordTyCon</span>
<a name="line-26"></a>              <span class='hs-layout'>,</span> <span class='hs-varid'>listTyCon</span>
<a name="line-27"></a>              <span class='hs-layout'>,</span> <span class='hs-varid'>parrTyCon</span>
<a name="line-28"></a>              <span class='hs-layout'>,</span> <span class='hs-varid'>eqTyCon</span>
<a name="line-29"></a>              <span class='hs-layout'>,</span> <span class='hs-varid'>coercibleTyCon</span>
<a name="line-30"></a>              <span class='hs-layout'>,</span> <span class='hs-varid'>typeNatKindCon</span>
<a name="line-31"></a>              <span class='hs-layout'>,</span> <span class='hs-varid'>typeSymbolKindCon</span>
<a name="line-32"></a>              <span class='hs-keyglyph'>]</span>
<a name="line-33"></a>           <span class='hs-varop'>++</span> <span class='hs-layout'>(</span><span class='hs-keyword'>case</span> <span class='hs-varid'>cIntegerLibraryType</span> <span class='hs-keyword'>of</span>
<a name="line-34"></a>               <span class='hs-conid'>IntegerGMP</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyglyph'>[</span><span class='hs-varid'>integerTyCon</span><span class='hs-keyglyph'>]</span>
<a name="line-35"></a>               <span class='hs-keyword'>_</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>[]</span><span class='hs-layout'>)</span>
</pre>\end{code}

\begin{code}
<pre><a name="line-1"></a><a name="mkWiredInTyConName"></a><span class='hs-definition'>mkWiredInTyConName</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>BuiltInSyntax</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Module</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>FastString</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Unique</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>TyCon</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Name</span>
<a name="line-2"></a><span class='hs-definition'>mkWiredInTyConName</span> <span class='hs-varid'>built_in</span> <span class='hs-varid'>modu</span> <span class='hs-varid'>fs</span> <span class='hs-varid'>unique</span> <span class='hs-varid'>tycon</span>
<a name="line-3"></a>  <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkWiredInName</span> <span class='hs-varid'>modu</span> <span class='hs-layout'>(</span><span class='hs-varid'>mkTcOccFS</span> <span class='hs-varid'>fs</span><span class='hs-layout'>)</span> <span class='hs-varid'>unique</span>
<a name="line-4"></a>                  <span class='hs-layout'>(</span><span class='hs-conid'>ATyCon</span> <span class='hs-varid'>tycon</span><span class='hs-layout'>)</span>        <span class='hs-comment'>-- Relevant TyCon</span>
<a name="line-5"></a>                  <span class='hs-varid'>built_in</span>
<a name="line-6"></a>
<a name="line-7"></a><a name="mkWiredInDataConName"></a><span class='hs-definition'>mkWiredInDataConName</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>BuiltInSyntax</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Module</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>FastString</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Unique</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DataCon</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Name</span>
<a name="line-8"></a><span class='hs-definition'>mkWiredInDataConName</span> <span class='hs-varid'>built_in</span> <span class='hs-varid'>modu</span> <span class='hs-varid'>fs</span> <span class='hs-varid'>unique</span> <span class='hs-varid'>datacon</span>
<a name="line-9"></a>  <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkWiredInName</span> <span class='hs-varid'>modu</span> <span class='hs-layout'>(</span><span class='hs-varid'>mkDataOccFS</span> <span class='hs-varid'>fs</span><span class='hs-layout'>)</span> <span class='hs-varid'>unique</span>
<a name="line-10"></a>                  <span class='hs-layout'>(</span><span class='hs-conid'>AConLike</span> <span class='hs-layout'>(</span><span class='hs-conid'>RealDataCon</span> <span class='hs-varid'>datacon</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>    <span class='hs-comment'>-- Relevant DataCon</span>
<a name="line-11"></a>                  <span class='hs-varid'>built_in</span>
<a name="line-12"></a>
<a name="line-13"></a><a name="eqTyConName"></a><span class='hs-definition'>eqTyConName</span><span class='hs-layout'>,</span> <span class='hs-varid'>eqBoxDataConName</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Name</span>
<a name="line-14"></a><span class='hs-definition'>eqTyConName</span>      <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkWiredInTyConName</span>   <span class='hs-conid'>BuiltInSyntax</span> <span class='hs-varid'>gHC_TYPES</span> <span class='hs-layout'>(</span><span class='hs-varid'>fsLit</span> <span class='hs-str'>"~"</span><span class='hs-layout'>)</span>   <span class='hs-varid'>eqTyConKey</span>      <span class='hs-varid'>eqTyCon</span>
<a name="line-15"></a><a name="eqBoxDataConName"></a><span class='hs-definition'>eqBoxDataConName</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkWiredInDataConName</span> <span class='hs-conid'>UserSyntax</span>    <span class='hs-varid'>gHC_TYPES</span> <span class='hs-layout'>(</span><span class='hs-varid'>fsLit</span> <span class='hs-str'>"Eq#"</span><span class='hs-layout'>)</span> <span class='hs-varid'>eqBoxDataConKey</span> <span class='hs-varid'>eqBoxDataCon</span>
<a name="line-16"></a>
<a name="line-17"></a><a name="coercibleTyConName"></a><span class='hs-definition'>coercibleTyConName</span><span class='hs-layout'>,</span> <span class='hs-varid'>coercibleDataConName</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Name</span>
<a name="line-18"></a><span class='hs-definition'>coercibleTyConName</span>   <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkWiredInTyConName</span>   <span class='hs-conid'>UserSyntax</span> <span class='hs-varid'>gHC_TYPES</span> <span class='hs-layout'>(</span><span class='hs-varid'>fsLit</span> <span class='hs-str'>"Coercible"</span><span class='hs-layout'>)</span>  <span class='hs-varid'>coercibleTyConKey</span>   <span class='hs-varid'>coercibleTyCon</span>
<a name="line-19"></a><a name="coercibleDataConName"></a><span class='hs-definition'>coercibleDataConName</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkWiredInDataConName</span> <span class='hs-conid'>UserSyntax</span> <span class='hs-varid'>gHC_TYPES</span> <span class='hs-layout'>(</span><span class='hs-varid'>fsLit</span> <span class='hs-str'>"MkCoercible"</span><span class='hs-layout'>)</span> <span class='hs-varid'>coercibleDataConKey</span> <span class='hs-varid'>coercibleDataCon</span>
<a name="line-20"></a>
<a name="line-21"></a><a name="charTyConName"></a><span class='hs-definition'>charTyConName</span><span class='hs-layout'>,</span> <span class='hs-varid'>charDataConName</span><span class='hs-layout'>,</span> <span class='hs-varid'>intTyConName</span><span class='hs-layout'>,</span> <span class='hs-varid'>intDataConName</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Name</span>
<a name="line-22"></a><span class='hs-definition'>charTyConName</span>     <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkWiredInTyConName</span>   <span class='hs-conid'>UserSyntax</span> <span class='hs-varid'>gHC_TYPES</span> <span class='hs-layout'>(</span><span class='hs-varid'>fsLit</span> <span class='hs-str'>"Char"</span><span class='hs-layout'>)</span> <span class='hs-varid'>charTyConKey</span> <span class='hs-varid'>charTyCon</span>
<a name="line-23"></a><a name="charDataConName"></a><span class='hs-definition'>charDataConName</span>   <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkWiredInDataConName</span> <span class='hs-conid'>UserSyntax</span> <span class='hs-varid'>gHC_TYPES</span> <span class='hs-layout'>(</span><span class='hs-varid'>fsLit</span> <span class='hs-str'>"C#"</span><span class='hs-layout'>)</span> <span class='hs-varid'>charDataConKey</span> <span class='hs-varid'>charDataCon</span>
<a name="line-24"></a><a name="intTyConName"></a><span class='hs-definition'>intTyConName</span>      <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkWiredInTyConName</span>   <span class='hs-conid'>UserSyntax</span> <span class='hs-varid'>gHC_TYPES</span> <span class='hs-layout'>(</span><span class='hs-varid'>fsLit</span> <span class='hs-str'>"Int"</span><span class='hs-layout'>)</span> <span class='hs-varid'>intTyConKey</span>   <span class='hs-varid'>intTyCon</span>
<a name="line-25"></a><a name="intDataConName"></a><span class='hs-definition'>intDataConName</span>    <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkWiredInDataConName</span> <span class='hs-conid'>UserSyntax</span> <span class='hs-varid'>gHC_TYPES</span> <span class='hs-layout'>(</span><span class='hs-varid'>fsLit</span> <span class='hs-str'>"I#"</span><span class='hs-layout'>)</span> <span class='hs-varid'>intDataConKey</span>  <span class='hs-varid'>intDataCon</span>
<a name="line-26"></a>
<a name="line-27"></a><a name="boolTyConName"></a><span class='hs-definition'>boolTyConName</span><span class='hs-layout'>,</span> <span class='hs-varid'>falseDataConName</span><span class='hs-layout'>,</span> <span class='hs-varid'>trueDataConName</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Name</span>
<a name="line-28"></a><span class='hs-definition'>boolTyConName</span>     <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkWiredInTyConName</span>   <span class='hs-conid'>UserSyntax</span> <span class='hs-varid'>gHC_TYPES</span> <span class='hs-layout'>(</span><span class='hs-varid'>fsLit</span> <span class='hs-str'>"Bool"</span><span class='hs-layout'>)</span> <span class='hs-varid'>boolTyConKey</span> <span class='hs-varid'>boolTyCon</span>
<a name="line-29"></a><a name="falseDataConName"></a><span class='hs-definition'>falseDataConName</span>  <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkWiredInDataConName</span> <span class='hs-conid'>UserSyntax</span> <span class='hs-varid'>gHC_TYPES</span> <span class='hs-layout'>(</span><span class='hs-varid'>fsLit</span> <span class='hs-str'>"False"</span><span class='hs-layout'>)</span> <span class='hs-varid'>falseDataConKey</span> <span class='hs-varid'>falseDataCon</span>
<a name="line-30"></a><a name="trueDataConName"></a><span class='hs-definition'>trueDataConName</span>   <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkWiredInDataConName</span> <span class='hs-conid'>UserSyntax</span> <span class='hs-varid'>gHC_TYPES</span> <span class='hs-layout'>(</span><span class='hs-varid'>fsLit</span> <span class='hs-str'>"True"</span><span class='hs-layout'>)</span>  <span class='hs-varid'>trueDataConKey</span>  <span class='hs-varid'>trueDataCon</span>
<a name="line-31"></a>
<a name="line-32"></a><a name="listTyConName"></a><span class='hs-definition'>listTyConName</span><span class='hs-layout'>,</span> <span class='hs-varid'>nilDataConName</span><span class='hs-layout'>,</span> <span class='hs-varid'>consDataConName</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Name</span>
<a name="line-33"></a><span class='hs-definition'>listTyConName</span>     <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkWiredInTyConName</span>   <span class='hs-conid'>BuiltInSyntax</span> <span class='hs-varid'>gHC_TYPES</span> <span class='hs-layout'>(</span><span class='hs-varid'>fsLit</span> <span class='hs-str'>"[]"</span><span class='hs-layout'>)</span> <span class='hs-varid'>listTyConKey</span> <span class='hs-varid'>listTyCon</span>
<a name="line-34"></a><a name="nilDataConName"></a><span class='hs-definition'>nilDataConName</span>    <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkWiredInDataConName</span> <span class='hs-conid'>BuiltInSyntax</span> <span class='hs-varid'>gHC_TYPES</span> <span class='hs-layout'>(</span><span class='hs-varid'>fsLit</span> <span class='hs-str'>"[]"</span><span class='hs-layout'>)</span> <span class='hs-varid'>nilDataConKey</span> <span class='hs-varid'>nilDataCon</span>
<a name="line-35"></a><a name="consDataConName"></a><span class='hs-definition'>consDataConName</span>   <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkWiredInDataConName</span> <span class='hs-conid'>BuiltInSyntax</span> <span class='hs-varid'>gHC_TYPES</span> <span class='hs-layout'>(</span><span class='hs-varid'>fsLit</span> <span class='hs-str'>":"</span><span class='hs-layout'>)</span> <span class='hs-varid'>consDataConKey</span> <span class='hs-varid'>consDataCon</span>
<a name="line-36"></a>
<a name="line-37"></a><a name="wordTyConName"></a><span class='hs-definition'>wordTyConName</span><span class='hs-layout'>,</span> <span class='hs-varid'>wordDataConName</span><span class='hs-layout'>,</span> <span class='hs-varid'>floatTyConName</span><span class='hs-layout'>,</span> <span class='hs-varid'>floatDataConName</span><span class='hs-layout'>,</span> <span class='hs-varid'>doubleTyConName</span><span class='hs-layout'>,</span> <span class='hs-varid'>doubleDataConName</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Name</span>
<a name="line-38"></a><span class='hs-definition'>wordTyConName</span>      <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkWiredInTyConName</span>   <span class='hs-conid'>UserSyntax</span> <span class='hs-varid'>gHC_TYPES</span> <span class='hs-layout'>(</span><span class='hs-varid'>fsLit</span> <span class='hs-str'>"Word"</span><span class='hs-layout'>)</span>   <span class='hs-varid'>wordTyConKey</span>     <span class='hs-varid'>wordTyCon</span>
<a name="line-39"></a><a name="wordDataConName"></a><span class='hs-definition'>wordDataConName</span>    <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkWiredInDataConName</span> <span class='hs-conid'>UserSyntax</span> <span class='hs-varid'>gHC_TYPES</span> <span class='hs-layout'>(</span><span class='hs-varid'>fsLit</span> <span class='hs-str'>"W#"</span><span class='hs-layout'>)</span>     <span class='hs-varid'>wordDataConKey</span>   <span class='hs-varid'>wordDataCon</span>
<a name="line-40"></a><a name="floatTyConName"></a><span class='hs-definition'>floatTyConName</span>     <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkWiredInTyConName</span>   <span class='hs-conid'>UserSyntax</span> <span class='hs-varid'>gHC_TYPES</span> <span class='hs-layout'>(</span><span class='hs-varid'>fsLit</span> <span class='hs-str'>"Float"</span><span class='hs-layout'>)</span>  <span class='hs-varid'>floatTyConKey</span>    <span class='hs-varid'>floatTyCon</span>
<a name="line-41"></a><a name="floatDataConName"></a><span class='hs-definition'>floatDataConName</span>   <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkWiredInDataConName</span> <span class='hs-conid'>UserSyntax</span> <span class='hs-varid'>gHC_TYPES</span> <span class='hs-layout'>(</span><span class='hs-varid'>fsLit</span> <span class='hs-str'>"F#"</span><span class='hs-layout'>)</span>     <span class='hs-varid'>floatDataConKey</span>  <span class='hs-varid'>floatDataCon</span>
<a name="line-42"></a><a name="doubleTyConName"></a><span class='hs-definition'>doubleTyConName</span>    <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkWiredInTyConName</span>   <span class='hs-conid'>UserSyntax</span> <span class='hs-varid'>gHC_TYPES</span> <span class='hs-layout'>(</span><span class='hs-varid'>fsLit</span> <span class='hs-str'>"Double"</span><span class='hs-layout'>)</span> <span class='hs-varid'>doubleTyConKey</span>   <span class='hs-varid'>doubleTyCon</span>
<a name="line-43"></a><a name="doubleDataConName"></a><span class='hs-definition'>doubleDataConName</span>  <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkWiredInDataConName</span> <span class='hs-conid'>UserSyntax</span> <span class='hs-varid'>gHC_TYPES</span> <span class='hs-layout'>(</span><span class='hs-varid'>fsLit</span> <span class='hs-str'>"D#"</span><span class='hs-layout'>)</span>     <span class='hs-varid'>doubleDataConKey</span> <span class='hs-varid'>doubleDataCon</span>
<a name="line-44"></a>
<a name="line-45"></a><a name="typeNatKindConName"></a><span class='hs-comment'>-- Kinds</span>
<a name="line-46"></a><span class='hs-definition'>typeNatKindConName</span><span class='hs-layout'>,</span> <span class='hs-varid'>typeSymbolKindConName</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Name</span>
<a name="line-47"></a><span class='hs-definition'>typeNatKindConName</span>    <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkWiredInTyConName</span> <span class='hs-conid'>UserSyntax</span> <span class='hs-varid'>gHC_TYPELITS</span> <span class='hs-layout'>(</span><span class='hs-varid'>fsLit</span> <span class='hs-str'>"Nat"</span><span class='hs-layout'>)</span>    <span class='hs-varid'>typeNatKindConNameKey</span>    <span class='hs-varid'>typeNatKindCon</span>
<a name="line-48"></a><a name="typeSymbolKindConName"></a><span class='hs-definition'>typeSymbolKindConName</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkWiredInTyConName</span> <span class='hs-conid'>UserSyntax</span> <span class='hs-varid'>gHC_TYPELITS</span> <span class='hs-layout'>(</span><span class='hs-varid'>fsLit</span> <span class='hs-str'>"Symbol"</span><span class='hs-layout'>)</span> <span class='hs-varid'>typeSymbolKindConNameKey</span> <span class='hs-varid'>typeSymbolKindCon</span>
<a name="line-49"></a>
<a name="line-50"></a><a name="integerRealTyConName"></a><span class='hs-comment'>-- For integer-gmp only:</span>
<a name="line-51"></a><span class='hs-definition'>integerRealTyConName</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Name</span>
<a name="line-52"></a><span class='hs-definition'>integerRealTyConName</span>    <span class='hs-keyglyph'>=</span> <span class='hs-keyword'>case</span> <span class='hs-varid'>cIntegerLibraryType</span> <span class='hs-keyword'>of</span>
<a name="line-53"></a>                          <span class='hs-conid'>IntegerGMP</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>mkWiredInTyConName</span>   <span class='hs-conid'>UserSyntax</span> <span class='hs-varid'>gHC_INTEGER_TYPE</span> <span class='hs-layout'>(</span><span class='hs-varid'>fsLit</span> <span class='hs-str'>"Integer"</span><span class='hs-layout'>)</span> <span class='hs-varid'>integerTyConKey</span> <span class='hs-varid'>integerTyCon</span>
<a name="line-54"></a>                          <span class='hs-keyword'>_</span> <span class='hs-keyglyph'>-&gt;</span>          <span class='hs-varid'>panic</span> <span class='hs-str'>"integerRealTyConName evaluated, but not integer-gmp"</span>
<a name="line-55"></a><a name="integerGmpSDataConName"></a><span class='hs-definition'>integerGmpSDataConName</span><span class='hs-layout'>,</span> <span class='hs-varid'>integerGmpJDataConName</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Name</span>
<a name="line-56"></a><span class='hs-definition'>integerGmpSDataConName</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkWiredInDataConName</span> <span class='hs-conid'>UserSyntax</span> <span class='hs-varid'>gHC_INTEGER_TYPE</span> <span class='hs-layout'>(</span><span class='hs-varid'>fsLit</span> <span class='hs-str'>"S#"</span><span class='hs-layout'>)</span> <span class='hs-varid'>integerGmpSDataConKey</span> <span class='hs-varid'>integerGmpSDataCon</span>
<a name="line-57"></a><a name="integerGmpJDataConName"></a><span class='hs-definition'>integerGmpJDataConName</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkWiredInDataConName</span> <span class='hs-conid'>UserSyntax</span> <span class='hs-varid'>gHC_INTEGER_TYPE</span> <span class='hs-layout'>(</span><span class='hs-varid'>fsLit</span> <span class='hs-str'>"J#"</span><span class='hs-layout'>)</span> <span class='hs-varid'>integerGmpJDataConKey</span> <span class='hs-varid'>integerGmpJDataCon</span>
<a name="line-58"></a>
<a name="line-59"></a><a name="parrTyConName"></a><span class='hs-definition'>parrTyConName</span><span class='hs-layout'>,</span> <span class='hs-varid'>parrDataConName</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Name</span>
<a name="line-60"></a><span class='hs-definition'>parrTyConName</span>   <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkWiredInTyConName</span>   <span class='hs-conid'>BuiltInSyntax</span>
<a name="line-61"></a>                    <span class='hs-varid'>gHC_PARR'</span> <span class='hs-layout'>(</span><span class='hs-varid'>fsLit</span> <span class='hs-str'>"[::]"</span><span class='hs-layout'>)</span> <span class='hs-varid'>parrTyConKey</span> <span class='hs-varid'>parrTyCon</span>
<a name="line-62"></a><a name="parrDataConName"></a><span class='hs-definition'>parrDataConName</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkWiredInDataConName</span> <span class='hs-conid'>UserSyntax</span>
<a name="line-63"></a>                    <span class='hs-varid'>gHC_PARR'</span> <span class='hs-layout'>(</span><span class='hs-varid'>fsLit</span> <span class='hs-str'>"PArr"</span><span class='hs-layout'>)</span> <span class='hs-varid'>parrDataConKey</span> <span class='hs-varid'>parrDataCon</span>
<a name="line-64"></a>
<a name="line-65"></a><a name="boolTyCon_RDR"></a><span class='hs-definition'>boolTyCon_RDR</span><span class='hs-layout'>,</span> <span class='hs-varid'>false_RDR</span><span class='hs-layout'>,</span> <span class='hs-varid'>true_RDR</span><span class='hs-layout'>,</span> <span class='hs-varid'>intTyCon_RDR</span><span class='hs-layout'>,</span> <span class='hs-varid'>charTyCon_RDR</span><span class='hs-layout'>,</span>
<a name="line-66"></a>    <span class='hs-varid'>intDataCon_RDR</span><span class='hs-layout'>,</span> <span class='hs-varid'>listTyCon_RDR</span><span class='hs-layout'>,</span> <span class='hs-varid'>consDataCon_RDR</span><span class='hs-layout'>,</span> <span class='hs-varid'>parrTyCon_RDR</span><span class='hs-layout'>,</span> <span class='hs-varid'>eqTyCon_RDR</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>RdrName</span>
<a name="line-67"></a><span class='hs-definition'>boolTyCon_RDR</span>   <span class='hs-keyglyph'>=</span> <span class='hs-varid'>nameRdrName</span> <span class='hs-varid'>boolTyConName</span>
<a name="line-68"></a><a name="false_RDR"></a><span class='hs-definition'>false_RDR</span>       <span class='hs-keyglyph'>=</span> <span class='hs-varid'>nameRdrName</span> <span class='hs-varid'>falseDataConName</span>
<a name="line-69"></a><a name="true_RDR"></a><span class='hs-definition'>true_RDR</span>        <span class='hs-keyglyph'>=</span> <span class='hs-varid'>nameRdrName</span> <span class='hs-varid'>trueDataConName</span>
<a name="line-70"></a><a name="intTyCon_RDR"></a><span class='hs-definition'>intTyCon_RDR</span>    <span class='hs-keyglyph'>=</span> <span class='hs-varid'>nameRdrName</span> <span class='hs-varid'>intTyConName</span>
<a name="line-71"></a><a name="charTyCon_RDR"></a><span class='hs-definition'>charTyCon_RDR</span>   <span class='hs-keyglyph'>=</span> <span class='hs-varid'>nameRdrName</span> <span class='hs-varid'>charTyConName</span>
<a name="line-72"></a><a name="intDataCon_RDR"></a><span class='hs-definition'>intDataCon_RDR</span>  <span class='hs-keyglyph'>=</span> <span class='hs-varid'>nameRdrName</span> <span class='hs-varid'>intDataConName</span>
<a name="line-73"></a><a name="listTyCon_RDR"></a><span class='hs-definition'>listTyCon_RDR</span>   <span class='hs-keyglyph'>=</span> <span class='hs-varid'>nameRdrName</span> <span class='hs-varid'>listTyConName</span>
<a name="line-74"></a><a name="consDataCon_RDR"></a><span class='hs-definition'>consDataCon_RDR</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>nameRdrName</span> <span class='hs-varid'>consDataConName</span>
<a name="line-75"></a><a name="parrTyCon_RDR"></a><span class='hs-definition'>parrTyCon_RDR</span>   <span class='hs-keyglyph'>=</span> <span class='hs-varid'>nameRdrName</span> <span class='hs-varid'>parrTyConName</span>
<a name="line-76"></a><a name="eqTyCon_RDR"></a><span class='hs-definition'>eqTyCon_RDR</span>     <span class='hs-keyglyph'>=</span> <span class='hs-varid'>nameRdrName</span> <span class='hs-varid'>eqTyConName</span>
</pre>\end{code}

%************************************************************************
%*                                                                      *
\subsection{mkWiredInTyCon}
%*                                                                      *
%************************************************************************

\begin{code}
<pre><a name="line-1"></a><a name="pcNonRecDataTyCon"></a><span class='hs-definition'>pcNonRecDataTyCon</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Name</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Maybe</span> <span class='hs-conid'>CType</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>TyVar</span><span class='hs-keyglyph'>]</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>DataCon</span><span class='hs-keyglyph'>]</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>TyCon</span>
<a name="line-2"></a><span class='hs-comment'>-- Not an enumeration, not promotable</span>
<a name="line-3"></a><span class='hs-definition'>pcNonRecDataTyCon</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>pcTyCon</span> <span class='hs-conid'>False</span> <span class='hs-conid'>NonRecursive</span> <span class='hs-conid'>False</span>
<a name="line-4"></a>
<a name="line-5"></a><a name="pcTyCon"></a><span class='hs-comment'>-- This function assumes that the types it creates have all parameters at</span>
<a name="line-6"></a><span class='hs-comment'>-- Representational role!</span>
<a name="line-7"></a><span class='hs-definition'>pcTyCon</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Bool</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>RecFlag</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Bool</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Name</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Maybe</span> <span class='hs-conid'>CType</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>TyVar</span><span class='hs-keyglyph'>]</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>DataCon</span><span class='hs-keyglyph'>]</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>TyCon</span>
<a name="line-8"></a><span class='hs-definition'>pcTyCon</span> <span class='hs-varid'>is_enum</span> <span class='hs-varid'>is_rec</span> <span class='hs-varid'>is_prom</span> <span class='hs-varid'>name</span> <span class='hs-varid'>cType</span> <span class='hs-varid'>tyvars</span> <span class='hs-varid'>cons</span>
<a name="line-9"></a>  <span class='hs-keyglyph'>=</span> <span class='hs-varid'>tycon</span>
<a name="line-10"></a>  <span class='hs-keyword'>where</span>
<a name="line-11"></a>    <span class='hs-varid'>tycon</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>buildAlgTyCon</span> <span class='hs-varid'>name</span>
<a name="line-12"></a>                <span class='hs-varid'>tyvars</span>
<a name="line-13"></a>                <span class='hs-layout'>(</span><span class='hs-varid'>map</span> <span class='hs-layout'>(</span><span class='hs-varid'>const</span> <span class='hs-conid'>Representational</span><span class='hs-layout'>)</span> <span class='hs-varid'>tyvars</span><span class='hs-layout'>)</span>
<a name="line-14"></a>                <span class='hs-varid'>cType</span>
<a name="line-15"></a>                <span class='hs-conid'>[]</span>              <span class='hs-comment'>-- No stupid theta</span>
<a name="line-16"></a>                <span class='hs-layout'>(</span><span class='hs-conid'>DataTyCon</span> <span class='hs-varid'>cons</span> <span class='hs-varid'>is_enum</span><span class='hs-layout'>)</span>
<a name="line-17"></a>                <span class='hs-varid'>is_rec</span>
<a name="line-18"></a>                <span class='hs-varid'>is_prom</span>
<a name="line-19"></a>                <span class='hs-conid'>False</span>           <span class='hs-comment'>-- Not in GADT syntax</span>
<a name="line-20"></a>                <span class='hs-conid'>NoParentTyCon</span>
<a name="line-21"></a>
<a name="line-22"></a><a name="pcDataCon"></a><span class='hs-definition'>pcDataCon</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Name</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>TyVar</span><span class='hs-keyglyph'>]</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>Type</span><span class='hs-keyglyph'>]</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>TyCon</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DataCon</span>
<a name="line-23"></a><span class='hs-definition'>pcDataCon</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>pcDataConWithFixity</span> <span class='hs-conid'>False</span>
<a name="line-24"></a>
<a name="line-25"></a><a name="pcDataConWithFixity"></a><span class='hs-definition'>pcDataConWithFixity</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Bool</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Name</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>TyVar</span><span class='hs-keyglyph'>]</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>Type</span><span class='hs-keyglyph'>]</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>TyCon</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DataCon</span>
<a name="line-26"></a><span class='hs-definition'>pcDataConWithFixity</span> <span class='hs-varid'>infx</span> <span class='hs-varid'>n</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>pcDataConWithFixity'</span> <span class='hs-varid'>infx</span> <span class='hs-varid'>n</span> <span class='hs-layout'>(</span><span class='hs-varid'>incrUnique</span> <span class='hs-layout'>(</span><span class='hs-varid'>nameUnique</span> <span class='hs-varid'>n</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-27"></a><span class='hs-comment'>-- The Name's unique is the first of two free uniques;</span>
<a name="line-28"></a><span class='hs-comment'>-- the first is used for the datacon itself,</span>
<a name="line-29"></a><span class='hs-comment'>-- the second is used for the "worker name"</span>
<a name="line-30"></a><span class='hs-comment'>--</span>
<a name="line-31"></a><span class='hs-comment'>-- To support this the mkPreludeDataConUnique function "allocates"</span>
<a name="line-32"></a><span class='hs-comment'>-- one DataCon unique per pair of Ints.</span>
<a name="line-33"></a>
<a name="line-34"></a><a name="pcDataConWithFixity'"></a><span class='hs-definition'>pcDataConWithFixity'</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Bool</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Name</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Unique</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>TyVar</span><span class='hs-keyglyph'>]</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>Type</span><span class='hs-keyglyph'>]</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>TyCon</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DataCon</span>
<a name="line-35"></a><span class='hs-comment'>-- The Name should be in the DataName name space; it's the name</span>
<a name="line-36"></a><span class='hs-comment'>-- of the DataCon itself.</span>
<a name="line-37"></a>
<a name="line-38"></a><span class='hs-definition'>pcDataConWithFixity'</span> <span class='hs-varid'>declared_infix</span> <span class='hs-varid'>dc_name</span> <span class='hs-varid'>wrk_key</span> <span class='hs-varid'>tyvars</span> <span class='hs-varid'>arg_tys</span> <span class='hs-varid'>tycon</span>
<a name="line-39"></a>  <span class='hs-keyglyph'>=</span> <span class='hs-varid'>data_con</span>
<a name="line-40"></a>  <span class='hs-keyword'>where</span>
<a name="line-41"></a>    <span class='hs-varid'>data_con</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkDataCon</span> <span class='hs-varid'>dc_name</span> <span class='hs-varid'>declared_infix</span>
<a name="line-42"></a>                <span class='hs-layout'>(</span><span class='hs-varid'>map</span> <span class='hs-layout'>(</span><span class='hs-varid'>const</span> <span class='hs-conid'>HsNoBang</span><span class='hs-layout'>)</span> <span class='hs-varid'>arg_tys</span><span class='hs-layout'>)</span>
<a name="line-43"></a>                <span class='hs-conid'>[]</span>      <span class='hs-comment'>-- No labelled fields</span>
<a name="line-44"></a>                <span class='hs-varid'>tyvars</span>
<a name="line-45"></a>                <span class='hs-conid'>[]</span>      <span class='hs-comment'>-- No existential type variables</span>
<a name="line-46"></a>                <span class='hs-conid'>[]</span>      <span class='hs-comment'>-- No equality spec</span>
<a name="line-47"></a>                <span class='hs-conid'>[]</span>      <span class='hs-comment'>-- No theta</span>
<a name="line-48"></a>                <span class='hs-varid'>arg_tys</span> <span class='hs-layout'>(</span><span class='hs-varid'>mkTyConApp</span> <span class='hs-varid'>tycon</span> <span class='hs-layout'>(</span><span class='hs-varid'>mkTyVarTys</span> <span class='hs-varid'>tyvars</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-49"></a>                <span class='hs-varid'>tycon</span>
<a name="line-50"></a>                <span class='hs-conid'>[]</span>      <span class='hs-comment'>-- No stupid theta</span>
<a name="line-51"></a>                <span class='hs-layout'>(</span><span class='hs-varid'>mkDataConWorkId</span> <span class='hs-varid'>wrk_name</span> <span class='hs-varid'>data_con</span><span class='hs-layout'>)</span>
<a name="line-52"></a>                <span class='hs-conid'>NoDataConRep</span>    <span class='hs-comment'>-- Wired-in types are too simple to need wrappers</span>
<a name="line-53"></a>
<a name="line-54"></a>    <span class='hs-varid'>modu</span>     <span class='hs-keyglyph'>=</span> <span class='hs-conid'>ASSERT</span><span class='hs-layout'>(</span> <span class='hs-varid'>isExternalName</span> <span class='hs-varid'>dc_name</span> <span class='hs-layout'>)</span>
<a name="line-55"></a>               <span class='hs-varid'>nameModule</span> <span class='hs-varid'>dc_name</span>
<a name="line-56"></a>    <span class='hs-varid'>wrk_occ</span>  <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkDataConWorkerOcc</span> <span class='hs-layout'>(</span><span class='hs-varid'>nameOccName</span> <span class='hs-varid'>dc_name</span><span class='hs-layout'>)</span>
<a name="line-57"></a>    <span class='hs-varid'>wrk_name</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkWiredInName</span> <span class='hs-varid'>modu</span> <span class='hs-varid'>wrk_occ</span> <span class='hs-varid'>wrk_key</span>
<a name="line-58"></a>                             <span class='hs-layout'>(</span><span class='hs-conid'>AnId</span> <span class='hs-layout'>(</span><span class='hs-varid'>dataConWorkId</span> <span class='hs-varid'>data_con</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span> <span class='hs-conid'>UserSyntax</span>
</pre>\end{code}


%************************************************************************
%*                                                                      *
      Kinds
%*                                                                      *
%************************************************************************

\begin{code}
<pre><a name="line-1"></a><a name="typeNatKindCon"></a><span class='hs-definition'>typeNatKindCon</span><span class='hs-layout'>,</span> <span class='hs-varid'>typeSymbolKindCon</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>TyCon</span>
<a name="line-2"></a><span class='hs-comment'>-- data Nat</span>
<a name="line-3"></a><span class='hs-comment'>-- data Symbol</span>
<a name="line-4"></a><span class='hs-definition'>typeNatKindCon</span>    <span class='hs-keyglyph'>=</span> <span class='hs-varid'>pcTyCon</span> <span class='hs-conid'>False</span> <span class='hs-conid'>NonRecursive</span> <span class='hs-conid'>True</span> <span class='hs-varid'>typeNatKindConName</span>    <span class='hs-conid'>Nothing</span> <span class='hs-conid'>[]</span> <span class='hs-conid'>[]</span>
<a name="line-5"></a><a name="typeSymbolKindCon"></a><span class='hs-definition'>typeSymbolKindCon</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>pcTyCon</span> <span class='hs-conid'>False</span> <span class='hs-conid'>NonRecursive</span> <span class='hs-conid'>True</span> <span class='hs-varid'>typeSymbolKindConName</span> <span class='hs-conid'>Nothing</span> <span class='hs-conid'>[]</span> <span class='hs-conid'>[]</span>
<a name="line-6"></a>
<a name="line-7"></a><a name="typeNatKind"></a><span class='hs-definition'>typeNatKind</span><span class='hs-layout'>,</span> <span class='hs-varid'>typeSymbolKind</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Kind</span>
<a name="line-8"></a><span class='hs-definition'>typeNatKind</span>    <span class='hs-keyglyph'>=</span> <span class='hs-conid'>TyConApp</span> <span class='hs-layout'>(</span><span class='hs-varid'>promoteTyCon</span> <span class='hs-varid'>typeNatKindCon</span><span class='hs-layout'>)</span>    <span class='hs-conid'>[]</span>
<a name="line-9"></a><a name="typeSymbolKind"></a><span class='hs-definition'>typeSymbolKind</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>TyConApp</span> <span class='hs-layout'>(</span><span class='hs-varid'>promoteTyCon</span> <span class='hs-varid'>typeSymbolKindCon</span><span class='hs-layout'>)</span> <span class='hs-conid'>[]</span>
</pre>\end{code}


%************************************************************************
%*                                                                      *
                Stuff for dealing with tuples
%*                                                                      *
%************************************************************************

Note [How tuples work]  See also Note [Known-key names] in PrelNames
~~~~~~~~~~~~~~~~~~~~~~
* There are three families of tuple TyCons and corresponding
  DataCons, (boxed, unboxed, and constraint tuples), expressed by the
  type BasicTypes.TupleSort.

* DataCons (and workers etc) for BoxedTuple and ConstraintTuple have
    - distinct Uniques
    - the same OccName
  Using the same OccName means (hack!) that a single copy of the
  runtime library code (info tables etc) works for both.

* When looking up an OccName in the original-name cache
  (IfaceEnv.lookupOrigNameCache), we spot the tuple OccName to make sure
  we get the right wired-in name.  This guy can't tell the difference
  betweeen BoxedTuple and ConstraintTuple (same OccName!), so tuples
  are not serialised into interface files using OccNames at all.

\begin{code}
<pre><a name="line-1"></a><a name="isBuiltInOcc_maybe"></a><span class='hs-definition'>isBuiltInOcc_maybe</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>OccName</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Maybe</span> <span class='hs-conid'>Name</span>
<a name="line-2"></a><span class='hs-comment'>-- Built in syntax isn't "in scope" so these OccNames </span>
<a name="line-3"></a><span class='hs-comment'>-- map to wired-in Names with BuiltInSyntax</span>
<a name="line-4"></a><span class='hs-definition'>isBuiltInOcc_maybe</span> <span class='hs-varid'>occ</span>
<a name="line-5"></a>  <span class='hs-keyglyph'>=</span> <span class='hs-keyword'>case</span> <span class='hs-varid'>occNameString</span> <span class='hs-varid'>occ</span> <span class='hs-keyword'>of</span>
<a name="line-6"></a>        <span class='hs-str'>"[]"</span>             <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>choose_ns</span> <span class='hs-varid'>listTyCon</span> <span class='hs-varid'>nilDataCon</span>
<a name="line-7"></a>        <span class='hs-str'>":"</span>              <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Just</span> <span class='hs-varid'>consDataConName</span>
<a name="line-8"></a>        <span class='hs-str'>"[::]"</span>           <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Just</span> <span class='hs-varid'>parrTyConName</span>
<a name="line-9"></a>        <span class='hs-str'>"(##)"</span>           <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>choose_ns</span> <span class='hs-varid'>unboxedUnitTyCon</span> <span class='hs-varid'>unboxedUnitDataCon</span>
<a name="line-10"></a>        <span class='hs-str'>"()"</span>             <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>choose_ns</span> <span class='hs-varid'>unitTyCon</span>        <span class='hs-varid'>unitDataCon</span>
<a name="line-11"></a>        <span class='hs-chr'>'('</span><span class='hs-conop'>:</span><span class='hs-chr'>'#'</span><span class='hs-conop'>:</span><span class='hs-chr'>','</span><span class='hs-conop'>:</span><span class='hs-varid'>rest</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>parse_tuple</span> <span class='hs-conid'>UnboxedTuple</span> <span class='hs-num'>2</span> <span class='hs-varid'>rest</span>
<a name="line-12"></a>        <span class='hs-chr'>'('</span><span class='hs-conop'>:</span><span class='hs-chr'>','</span><span class='hs-conop'>:</span><span class='hs-varid'>rest</span>     <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>parse_tuple</span> <span class='hs-conid'>BoxedTuple</span>   <span class='hs-num'>2</span> <span class='hs-varid'>rest</span>
<a name="line-13"></a>        <span class='hs-sel'>_other</span>           <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Nothing</span>
<a name="line-14"></a>  <span class='hs-keyword'>where</span>
<a name="line-15"></a>    <span class='hs-varid'>ns</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>occNameSpace</span> <span class='hs-varid'>occ</span>
<a name="line-16"></a>
<a name="line-17"></a>    <span class='hs-varid'>parse_tuple</span> <span class='hs-varid'>sort</span> <span class='hs-varid'>n</span> <span class='hs-varid'>rest</span>
<a name="line-18"></a>      <span class='hs-keyglyph'>|</span> <span class='hs-layout'>(</span><span class='hs-chr'>','</span> <span class='hs-conop'>:</span> <span class='hs-varid'>rest2</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>&lt;-</span> <span class='hs-varid'>rest</span>   <span class='hs-keyglyph'>=</span> <span class='hs-varid'>parse_tuple</span> <span class='hs-varid'>sort</span> <span class='hs-layout'>(</span><span class='hs-varid'>n</span><span class='hs-varop'>+</span><span class='hs-num'>1</span><span class='hs-layout'>)</span> <span class='hs-varid'>rest2</span>
<a name="line-19"></a>      <span class='hs-keyglyph'>|</span> <span class='hs-varid'>tail_matches</span> <span class='hs-varid'>sort</span> <span class='hs-varid'>rest</span>  <span class='hs-keyglyph'>=</span> <span class='hs-varid'>choose_ns</span> <span class='hs-layout'>(</span><span class='hs-varid'>tupleTyCon</span> <span class='hs-varid'>sort</span> <span class='hs-varid'>n</span><span class='hs-layout'>)</span>
<a name="line-20"></a>                                            <span class='hs-layout'>(</span><span class='hs-varid'>tupleCon</span>   <span class='hs-varid'>sort</span> <span class='hs-varid'>n</span><span class='hs-layout'>)</span>
<a name="line-21"></a>      <span class='hs-keyglyph'>|</span> <span class='hs-varid'>otherwise</span>               <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Nothing</span>
<a name="line-22"></a>
<a name="line-23"></a>    <span class='hs-varid'>tail_matches</span> <span class='hs-conid'>BoxedTuple</span>   <span class='hs-str'>")"</span>  <span class='hs-keyglyph'>=</span> <span class='hs-conid'>True</span>
<a name="line-24"></a>    <span class='hs-varid'>tail_matches</span> <span class='hs-conid'>UnboxedTuple</span> <span class='hs-str'>"#)"</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>True</span>
<a name="line-25"></a>    <span class='hs-varid'>tail_matches</span> <span class='hs-keyword'>_</span>            <span class='hs-keyword'>_</span>    <span class='hs-keyglyph'>=</span> <span class='hs-conid'>False</span>
<a name="line-26"></a>  
<a name="line-27"></a>    <span class='hs-varid'>choose_ns</span> <span class='hs-varid'>tc</span> <span class='hs-varid'>dc</span>
<a name="line-28"></a>      <span class='hs-keyglyph'>|</span> <span class='hs-varid'>isTcClsNameSpace</span> <span class='hs-varid'>ns</span>   <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Just</span> <span class='hs-layout'>(</span><span class='hs-varid'>getName</span> <span class='hs-varid'>tc</span><span class='hs-layout'>)</span>
<a name="line-29"></a>      <span class='hs-keyglyph'>|</span> <span class='hs-varid'>isDataConNameSpace</span> <span class='hs-varid'>ns</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Just</span> <span class='hs-layout'>(</span><span class='hs-varid'>getName</span> <span class='hs-varid'>dc</span><span class='hs-layout'>)</span>
<a name="line-30"></a>      <span class='hs-keyglyph'>|</span> <span class='hs-varid'>otherwise</span>             <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Just</span> <span class='hs-layout'>(</span><span class='hs-varid'>getName</span> <span class='hs-layout'>(</span><span class='hs-varid'>dataConWorkId</span> <span class='hs-varid'>dc</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-31"></a>
<a name="line-32"></a><a name="mkTupleOcc"></a><span class='hs-definition'>mkTupleOcc</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>NameSpace</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>TupleSort</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Arity</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>OccName</span>
<a name="line-33"></a><span class='hs-definition'>mkTupleOcc</span> <span class='hs-varid'>ns</span> <span class='hs-varid'>sort</span> <span class='hs-varid'>ar</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkOccName</span> <span class='hs-varid'>ns</span> <span class='hs-varid'>str</span>
<a name="line-34"></a>  <span class='hs-keyword'>where</span>
<a name="line-35"></a>    <span class='hs-comment'>-- No need to cache these, the caching is done in mk_tuple</span>
<a name="line-36"></a>    <span class='hs-varid'>str</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyword'>case</span> <span class='hs-varid'>sort</span> <span class='hs-keyword'>of</span>
<a name="line-37"></a>                <span class='hs-conid'>UnboxedTuple</span>    <span class='hs-keyglyph'>-&gt;</span> <span class='hs-chr'>'('</span> <span class='hs-conop'>:</span> <span class='hs-chr'>'#'</span> <span class='hs-conop'>:</span> <span class='hs-varid'>commas</span> <span class='hs-varop'>++</span> <span class='hs-str'>"#)"</span>
<a name="line-38"></a>                <span class='hs-conid'>BoxedTuple</span>      <span class='hs-keyglyph'>-&gt;</span> <span class='hs-chr'>'('</span> <span class='hs-conop'>:</span> <span class='hs-varid'>commas</span> <span class='hs-varop'>++</span> <span class='hs-str'>")"</span>
<a name="line-39"></a>                <span class='hs-conid'>ConstraintTuple</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-chr'>'('</span> <span class='hs-conop'>:</span> <span class='hs-varid'>commas</span> <span class='hs-varop'>++</span> <span class='hs-str'>")"</span>
<a name="line-40"></a>
<a name="line-41"></a>    <span class='hs-varid'>commas</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>take</span> <span class='hs-layout'>(</span><span class='hs-varid'>ar</span><span class='hs-comment'>-</span><span class='hs-num'>1</span><span class='hs-layout'>)</span> <span class='hs-layout'>(</span><span class='hs-varid'>repeat</span> <span class='hs-chr'>','</span><span class='hs-layout'>)</span>
<a name="line-42"></a>
<a name="line-43"></a>    <span class='hs-comment'>-- Cute hack: we reuse the standard tuple OccNames (and hence code)</span>
<a name="line-44"></a>    <span class='hs-comment'>-- for fact tuples, but give them different Uniques so they are not equal.</span>
<a name="line-45"></a>    <span class='hs-comment'>--</span>
<a name="line-46"></a>    <span class='hs-comment'>-- You might think that this will go wrong because isBuiltInOcc_maybe won't</span>
<a name="line-47"></a>    <span class='hs-comment'>-- be able to tell the difference between boxed tuples and constraint tuples. BUT:</span>
<a name="line-48"></a>    <span class='hs-comment'>--  1. Constraint tuples never occur directly in user code, so it doesn't matter</span>
<a name="line-49"></a>    <span class='hs-comment'>--     that we can't detect them in Orig OccNames originating from the user</span>
<a name="line-50"></a>    <span class='hs-comment'>--     programs (or those built by setRdrNameSpace used on an Exact tuple Name)</span>
<a name="line-51"></a>    <span class='hs-comment'>--  2. Interface files have a special representation for tuple *occurrences*</span>
<a name="line-52"></a>    <span class='hs-comment'>--     in IfaceTyCons, their workers (in IfaceSyn) and their DataCons (in case</span>
<a name="line-53"></a>    <span class='hs-comment'>--     alternatives). Thus we don't rely on the OccName to figure out what kind</span>
<a name="line-54"></a>    <span class='hs-comment'>--     of tuple an occurrence was trying to use in these situations.</span>
<a name="line-55"></a>    <span class='hs-comment'>--  3. We *don't* represent tuple data type declarations specially, so those</span>
<a name="line-56"></a>    <span class='hs-comment'>--     are still turned into wired-in names via isBuiltInOcc_maybe. But that's OK</span>
<a name="line-57"></a>    <span class='hs-comment'>--     because we don't actually need to declare constraint tuples thanks to this hack.</span>
<a name="line-58"></a>    <span class='hs-comment'>--</span>
<a name="line-59"></a>    <span class='hs-comment'>-- So basically any OccName like (,,) flowing to isBuiltInOcc_maybe will always</span>
<a name="line-60"></a>    <span class='hs-comment'>-- refer to the standard boxed tuple. Cool :-)</span>
<a name="line-61"></a>
<a name="line-62"></a>
<a name="line-63"></a><a name="tupleTyCon"></a><span class='hs-definition'>tupleTyCon</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>TupleSort</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Arity</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>TyCon</span>
<a name="line-64"></a><span class='hs-definition'>tupleTyCon</span> <span class='hs-varid'>sort</span> <span class='hs-varid'>i</span> <span class='hs-keyglyph'>|</span> <span class='hs-varid'>i</span> <span class='hs-varop'>&gt;</span> <span class='hs-varid'>mAX_TUPLE_SIZE</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>fst</span> <span class='hs-layout'>(</span><span class='hs-varid'>mk_tuple</span> <span class='hs-varid'>sort</span> <span class='hs-varid'>i</span><span class='hs-layout'>)</span>  <span class='hs-comment'>-- Build one specially</span>
<a name="line-65"></a><span class='hs-definition'>tupleTyCon</span> <span class='hs-conid'>BoxedTuple</span>   <span class='hs-varid'>i</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>fst</span> <span class='hs-layout'>(</span><span class='hs-varid'>boxedTupleArr</span>   <span class='hs-varop'>!</span> <span class='hs-varid'>i</span><span class='hs-layout'>)</span>
<a name="line-66"></a><span class='hs-definition'>tupleTyCon</span> <span class='hs-conid'>UnboxedTuple</span> <span class='hs-varid'>i</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>fst</span> <span class='hs-layout'>(</span><span class='hs-varid'>unboxedTupleArr</span> <span class='hs-varop'>!</span> <span class='hs-varid'>i</span><span class='hs-layout'>)</span>
<a name="line-67"></a><span class='hs-definition'>tupleTyCon</span> <span class='hs-conid'>ConstraintTuple</span>    <span class='hs-varid'>i</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>fst</span> <span class='hs-layout'>(</span><span class='hs-varid'>factTupleArr</span>    <span class='hs-varop'>!</span> <span class='hs-varid'>i</span><span class='hs-layout'>)</span>
<a name="line-68"></a>
<a name="line-69"></a><a name="promotedTupleTyCon"></a><span class='hs-definition'>promotedTupleTyCon</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>TupleSort</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Arity</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>TyCon</span>
<a name="line-70"></a><span class='hs-definition'>promotedTupleTyCon</span> <span class='hs-varid'>sort</span> <span class='hs-varid'>i</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>promoteTyCon</span> <span class='hs-layout'>(</span><span class='hs-varid'>tupleTyCon</span> <span class='hs-varid'>sort</span> <span class='hs-varid'>i</span><span class='hs-layout'>)</span>
<a name="line-71"></a>
<a name="line-72"></a><a name="promotedTupleDataCon"></a><span class='hs-definition'>promotedTupleDataCon</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>TupleSort</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Arity</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>TyCon</span>
<a name="line-73"></a><span class='hs-definition'>promotedTupleDataCon</span> <span class='hs-varid'>sort</span> <span class='hs-varid'>i</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>promoteDataCon</span> <span class='hs-layout'>(</span><span class='hs-varid'>tupleCon</span> <span class='hs-varid'>sort</span> <span class='hs-varid'>i</span><span class='hs-layout'>)</span>
<a name="line-74"></a>
<a name="line-75"></a><a name="tupleCon"></a><span class='hs-definition'>tupleCon</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>TupleSort</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Arity</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DataCon</span>
<a name="line-76"></a><span class='hs-definition'>tupleCon</span> <span class='hs-varid'>sort</span> <span class='hs-varid'>i</span> <span class='hs-keyglyph'>|</span> <span class='hs-varid'>i</span> <span class='hs-varop'>&gt;</span> <span class='hs-varid'>mAX_TUPLE_SIZE</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>snd</span> <span class='hs-layout'>(</span><span class='hs-varid'>mk_tuple</span> <span class='hs-varid'>sort</span> <span class='hs-varid'>i</span><span class='hs-layout'>)</span>    <span class='hs-comment'>-- Build one specially</span>
<a name="line-77"></a><span class='hs-definition'>tupleCon</span> <span class='hs-conid'>BoxedTuple</span>   <span class='hs-varid'>i</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>snd</span> <span class='hs-layout'>(</span><span class='hs-varid'>boxedTupleArr</span>   <span class='hs-varop'>!</span> <span class='hs-varid'>i</span><span class='hs-layout'>)</span>
<a name="line-78"></a><span class='hs-definition'>tupleCon</span> <span class='hs-conid'>UnboxedTuple</span> <span class='hs-varid'>i</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>snd</span> <span class='hs-layout'>(</span><span class='hs-varid'>unboxedTupleArr</span> <span class='hs-varop'>!</span> <span class='hs-varid'>i</span><span class='hs-layout'>)</span>
<a name="line-79"></a><span class='hs-definition'>tupleCon</span> <span class='hs-conid'>ConstraintTuple</span>    <span class='hs-varid'>i</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>snd</span> <span class='hs-layout'>(</span><span class='hs-varid'>factTupleArr</span>    <span class='hs-varop'>!</span> <span class='hs-varid'>i</span><span class='hs-layout'>)</span>
<a name="line-80"></a>
<a name="line-81"></a><a name="boxedTupleArr"></a><span class='hs-definition'>boxedTupleArr</span><span class='hs-layout'>,</span> <span class='hs-varid'>unboxedTupleArr</span><span class='hs-layout'>,</span> <span class='hs-varid'>factTupleArr</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Array</span> <span class='hs-conid'>Int</span> <span class='hs-layout'>(</span><span class='hs-conid'>TyCon</span><span class='hs-layout'>,</span><span class='hs-conid'>DataCon</span><span class='hs-layout'>)</span>
<a name="line-82"></a><span class='hs-definition'>boxedTupleArr</span>   <span class='hs-keyglyph'>=</span> <span class='hs-varid'>listArray</span> <span class='hs-layout'>(</span><span class='hs-num'>0</span><span class='hs-layout'>,</span><span class='hs-varid'>mAX_TUPLE_SIZE</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>[</span><span class='hs-varid'>mk_tuple</span> <span class='hs-conid'>BoxedTuple</span> <span class='hs-varid'>i</span> <span class='hs-keyglyph'>|</span> <span class='hs-varid'>i</span> <span class='hs-keyglyph'>&lt;-</span> <span class='hs-keyglyph'>[</span><span class='hs-num'>0</span><span class='hs-keyglyph'>..</span><span class='hs-varid'>mAX_TUPLE_SIZE</span><span class='hs-keyglyph'>]</span><span class='hs-keyglyph'>]</span>
<a name="line-83"></a><a name="unboxedTupleArr"></a><span class='hs-definition'>unboxedTupleArr</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>listArray</span> <span class='hs-layout'>(</span><span class='hs-num'>0</span><span class='hs-layout'>,</span><span class='hs-varid'>mAX_TUPLE_SIZE</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>[</span><span class='hs-varid'>mk_tuple</span> <span class='hs-conid'>UnboxedTuple</span> <span class='hs-varid'>i</span> <span class='hs-keyglyph'>|</span> <span class='hs-varid'>i</span> <span class='hs-keyglyph'>&lt;-</span> <span class='hs-keyglyph'>[</span><span class='hs-num'>0</span><span class='hs-keyglyph'>..</span><span class='hs-varid'>mAX_TUPLE_SIZE</span><span class='hs-keyglyph'>]</span><span class='hs-keyglyph'>]</span>
<a name="line-84"></a><a name="factTupleArr"></a><span class='hs-definition'>factTupleArr</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>listArray</span> <span class='hs-layout'>(</span><span class='hs-num'>0</span><span class='hs-layout'>,</span><span class='hs-varid'>mAX_TUPLE_SIZE</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>[</span><span class='hs-varid'>mk_tuple</span> <span class='hs-conid'>ConstraintTuple</span> <span class='hs-varid'>i</span> <span class='hs-keyglyph'>|</span> <span class='hs-varid'>i</span> <span class='hs-keyglyph'>&lt;-</span> <span class='hs-keyglyph'>[</span><span class='hs-num'>0</span><span class='hs-keyglyph'>..</span><span class='hs-varid'>mAX_TUPLE_SIZE</span><span class='hs-keyglyph'>]</span><span class='hs-keyglyph'>]</span>
<a name="line-85"></a>
<a name="line-86"></a><a name="mk_tuple"></a><span class='hs-definition'>mk_tuple</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>TupleSort</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Int</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-layout'>(</span><span class='hs-conid'>TyCon</span><span class='hs-layout'>,</span><span class='hs-conid'>DataCon</span><span class='hs-layout'>)</span>
<a name="line-87"></a><span class='hs-definition'>mk_tuple</span> <span class='hs-varid'>sort</span> <span class='hs-varid'>arity</span> <span class='hs-keyglyph'>=</span> <span class='hs-layout'>(</span><span class='hs-varid'>tycon</span><span class='hs-layout'>,</span> <span class='hs-varid'>tuple_con</span><span class='hs-layout'>)</span>
<a name="line-88"></a>  <span class='hs-keyword'>where</span>
<a name="line-89"></a>        <span class='hs-varid'>tycon</span>   <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkTupleTyCon</span> <span class='hs-varid'>tc_name</span> <span class='hs-varid'>tc_kind</span> <span class='hs-varid'>arity</span> <span class='hs-varid'>tyvars</span> <span class='hs-varid'>tuple_con</span> <span class='hs-varid'>sort</span> <span class='hs-varid'>prom_tc</span>
<a name="line-90"></a>        <span class='hs-varid'>prom_tc</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyword'>case</span> <span class='hs-varid'>sort</span> <span class='hs-keyword'>of</span>
<a name="line-91"></a>          <span class='hs-conid'>BoxedTuple</span>      <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Just</span> <span class='hs-layout'>(</span><span class='hs-varid'>mkPromotedTyCon</span> <span class='hs-varid'>tycon</span> <span class='hs-layout'>(</span><span class='hs-varid'>promoteKind</span> <span class='hs-varid'>tc_kind</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-92"></a>          <span class='hs-conid'>UnboxedTuple</span>    <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Nothing</span>
<a name="line-93"></a>          <span class='hs-conid'>ConstraintTuple</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Nothing</span>
<a name="line-94"></a>
<a name="line-95"></a>        <span class='hs-varid'>modu</span>    <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkTupleModule</span> <span class='hs-varid'>sort</span>
<a name="line-96"></a>        <span class='hs-varid'>tc_name</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkWiredInName</span> <span class='hs-varid'>modu</span> <span class='hs-layout'>(</span><span class='hs-varid'>mkTupleOcc</span> <span class='hs-varid'>tcName</span> <span class='hs-varid'>sort</span> <span class='hs-varid'>arity</span><span class='hs-layout'>)</span> <span class='hs-varid'>tc_uniq</span>
<a name="line-97"></a>                                <span class='hs-layout'>(</span><span class='hs-conid'>ATyCon</span> <span class='hs-varid'>tycon</span><span class='hs-layout'>)</span> <span class='hs-conid'>BuiltInSyntax</span>
<a name="line-98"></a>        <span class='hs-varid'>tc_kind</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkArrowKinds</span> <span class='hs-layout'>(</span><span class='hs-varid'>map</span> <span class='hs-varid'>tyVarKind</span> <span class='hs-varid'>tyvars</span><span class='hs-layout'>)</span> <span class='hs-varid'>res_kind</span>
<a name="line-99"></a>        <span class='hs-varid'>res_kind</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyword'>case</span> <span class='hs-varid'>sort</span> <span class='hs-keyword'>of</span>
<a name="line-100"></a>          <span class='hs-conid'>BoxedTuple</span>      <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>liftedTypeKind</span>
<a name="line-101"></a>          <span class='hs-conid'>UnboxedTuple</span>    <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>unliftedTypeKind</span>
<a name="line-102"></a>          <span class='hs-conid'>ConstraintTuple</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>constraintKind</span>
<a name="line-103"></a>
<a name="line-104"></a>        <span class='hs-varid'>tyvars</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>take</span> <span class='hs-varid'>arity</span> <span class='hs-varop'>$</span> <span class='hs-keyword'>case</span> <span class='hs-varid'>sort</span> <span class='hs-keyword'>of</span>
<a name="line-105"></a>          <span class='hs-conid'>BoxedTuple</span>      <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>alphaTyVars</span>
<a name="line-106"></a>          <span class='hs-conid'>UnboxedTuple</span>    <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>openAlphaTyVars</span>
<a name="line-107"></a>          <span class='hs-conid'>ConstraintTuple</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>tyVarList</span> <span class='hs-varid'>constraintKind</span>
<a name="line-108"></a>
<a name="line-109"></a>        <span class='hs-varid'>tuple_con</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>pcDataCon</span> <span class='hs-varid'>dc_name</span> <span class='hs-varid'>tyvars</span> <span class='hs-varid'>tyvar_tys</span> <span class='hs-varid'>tycon</span>
<a name="line-110"></a>        <span class='hs-varid'>tyvar_tys</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkTyVarTys</span> <span class='hs-varid'>tyvars</span>
<a name="line-111"></a>        <span class='hs-varid'>dc_name</span>   <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkWiredInName</span> <span class='hs-varid'>modu</span> <span class='hs-layout'>(</span><span class='hs-varid'>mkTupleOcc</span> <span class='hs-varid'>dataName</span> <span class='hs-varid'>sort</span> <span class='hs-varid'>arity</span><span class='hs-layout'>)</span> <span class='hs-varid'>dc_uniq</span>
<a name="line-112"></a>                                  <span class='hs-layout'>(</span><span class='hs-conid'>AConLike</span> <span class='hs-layout'>(</span><span class='hs-conid'>RealDataCon</span> <span class='hs-varid'>tuple_con</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span> <span class='hs-conid'>BuiltInSyntax</span>
<a name="line-113"></a>        <span class='hs-varid'>tc_uniq</span>   <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkTupleTyConUnique</span>   <span class='hs-varid'>sort</span> <span class='hs-varid'>arity</span>
<a name="line-114"></a>        <span class='hs-varid'>dc_uniq</span>   <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkTupleDataConUnique</span> <span class='hs-varid'>sort</span> <span class='hs-varid'>arity</span>
<a name="line-115"></a>
<a name="line-116"></a><a name="unitTyCon"></a><span class='hs-definition'>unitTyCon</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>TyCon</span>
<a name="line-117"></a><span class='hs-definition'>unitTyCon</span>     <span class='hs-keyglyph'>=</span> <span class='hs-varid'>tupleTyCon</span> <span class='hs-conid'>BoxedTuple</span> <span class='hs-num'>0</span>
<a name="line-118"></a><a name="unitDataCon"></a><span class='hs-definition'>unitDataCon</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DataCon</span>
<a name="line-119"></a><span class='hs-definition'>unitDataCon</span>   <span class='hs-keyglyph'>=</span> <span class='hs-varid'>head</span> <span class='hs-layout'>(</span><span class='hs-varid'>tyConDataCons</span> <span class='hs-varid'>unitTyCon</span><span class='hs-layout'>)</span>
<a name="line-120"></a><a name="unitDataConId"></a><span class='hs-definition'>unitDataConId</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Id</span>
<a name="line-121"></a><span class='hs-definition'>unitDataConId</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>dataConWorkId</span> <span class='hs-varid'>unitDataCon</span>
<a name="line-122"></a>
<a name="line-123"></a><a name="pairTyCon"></a><span class='hs-definition'>pairTyCon</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>TyCon</span>
<a name="line-124"></a><span class='hs-definition'>pairTyCon</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>tupleTyCon</span> <span class='hs-conid'>BoxedTuple</span> <span class='hs-num'>2</span>
<a name="line-125"></a>
<a name="line-126"></a><a name="unboxedUnitTyCon"></a><span class='hs-definition'>unboxedUnitTyCon</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>TyCon</span>
<a name="line-127"></a><span class='hs-definition'>unboxedUnitTyCon</span>   <span class='hs-keyglyph'>=</span> <span class='hs-varid'>tupleTyCon</span> <span class='hs-conid'>UnboxedTuple</span> <span class='hs-num'>0</span>
<a name="line-128"></a><a name="unboxedUnitDataCon"></a><span class='hs-definition'>unboxedUnitDataCon</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DataCon</span>
<a name="line-129"></a><span class='hs-definition'>unboxedUnitDataCon</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>tupleCon</span>   <span class='hs-conid'>UnboxedTuple</span> <span class='hs-num'>0</span>
<a name="line-130"></a>
<a name="line-131"></a><a name="unboxedSingletonTyCon"></a><span class='hs-definition'>unboxedSingletonTyCon</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>TyCon</span>
<a name="line-132"></a><span class='hs-definition'>unboxedSingletonTyCon</span>   <span class='hs-keyglyph'>=</span> <span class='hs-varid'>tupleTyCon</span> <span class='hs-conid'>UnboxedTuple</span> <span class='hs-num'>1</span>
<a name="line-133"></a><a name="unboxedSingletonDataCon"></a><span class='hs-definition'>unboxedSingletonDataCon</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DataCon</span>
<a name="line-134"></a><span class='hs-definition'>unboxedSingletonDataCon</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>tupleCon</span>   <span class='hs-conid'>UnboxedTuple</span> <span class='hs-num'>1</span>
<a name="line-135"></a>
<a name="line-136"></a><a name="unboxedPairTyCon"></a><span class='hs-definition'>unboxedPairTyCon</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>TyCon</span>
<a name="line-137"></a><span class='hs-definition'>unboxedPairTyCon</span>   <span class='hs-keyglyph'>=</span> <span class='hs-varid'>tupleTyCon</span> <span class='hs-conid'>UnboxedTuple</span> <span class='hs-num'>2</span>
<a name="line-138"></a><a name="unboxedPairDataCon"></a><span class='hs-definition'>unboxedPairDataCon</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DataCon</span>
<a name="line-139"></a><span class='hs-definition'>unboxedPairDataCon</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>tupleCon</span>   <span class='hs-conid'>UnboxedTuple</span> <span class='hs-num'>2</span>
</pre>\end{code}


%************************************************************************
%*                                                                      *
\subsection[TysWiredIn-boxed-prim]{The ``boxed primitive'' types (@Char@, @Int@, etc)}
%*                                                                      *
%************************************************************************

\begin{code}
<pre><a name="line-1"></a><a name="eqTyCon"></a><span class='hs-definition'>eqTyCon</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>TyCon</span>
<a name="line-2"></a><span class='hs-definition'>eqTyCon</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkAlgTyCon</span> <span class='hs-varid'>eqTyConName</span>
<a name="line-3"></a>            <span class='hs-layout'>(</span><span class='hs-conid'>ForAllTy</span> <span class='hs-varid'>kv</span> <span class='hs-varop'>$</span> <span class='hs-varid'>mkArrowKinds</span> <span class='hs-keyglyph'>[</span><span class='hs-varid'>k</span><span class='hs-layout'>,</span> <span class='hs-varid'>k</span><span class='hs-keyglyph'>]</span> <span class='hs-varid'>constraintKind</span><span class='hs-layout'>)</span>
<a name="line-4"></a>            <span class='hs-keyglyph'>[</span><span class='hs-varid'>kv</span><span class='hs-layout'>,</span> <span class='hs-varid'>a</span><span class='hs-layout'>,</span> <span class='hs-varid'>b</span><span class='hs-keyglyph'>]</span>
<a name="line-5"></a>            <span class='hs-keyglyph'>[</span><span class='hs-conid'>Nominal</span><span class='hs-layout'>,</span> <span class='hs-conid'>Nominal</span><span class='hs-layout'>,</span> <span class='hs-conid'>Nominal</span><span class='hs-keyglyph'>]</span>
<a name="line-6"></a>            <span class='hs-conid'>Nothing</span>
<a name="line-7"></a>            <span class='hs-conid'>[]</span>      <span class='hs-comment'>-- No stupid theta</span>
<a name="line-8"></a>            <span class='hs-layout'>(</span><span class='hs-conid'>DataTyCon</span> <span class='hs-keyglyph'>[</span><span class='hs-varid'>eqBoxDataCon</span><span class='hs-keyglyph'>]</span> <span class='hs-conid'>False</span><span class='hs-layout'>)</span>
<a name="line-9"></a>            <span class='hs-conid'>NoParentTyCon</span>
<a name="line-10"></a>            <span class='hs-conid'>NonRecursive</span>
<a name="line-11"></a>            <span class='hs-conid'>False</span>
<a name="line-12"></a>            <span class='hs-conid'>Nothing</span>   <span class='hs-comment'>-- No parent for constraint-kinded types</span>
<a name="line-13"></a>  <span class='hs-keyword'>where</span>
<a name="line-14"></a>    <span class='hs-varid'>kv</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>kKiVar</span>
<a name="line-15"></a>    <span class='hs-varid'>k</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkTyVarTy</span> <span class='hs-varid'>kv</span>
<a name="line-16"></a>    <span class='hs-varid'>a</span><span class='hs-conop'>:</span><span class='hs-varid'>b</span><span class='hs-conop'>:</span><span class='hs-keyword'>_</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>tyVarList</span> <span class='hs-varid'>k</span>
<a name="line-17"></a>
<a name="line-18"></a><a name="eqBoxDataCon"></a><span class='hs-definition'>eqBoxDataCon</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DataCon</span>
<a name="line-19"></a><span class='hs-definition'>eqBoxDataCon</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>pcDataCon</span> <span class='hs-varid'>eqBoxDataConName</span> <span class='hs-varid'>args</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>TyConApp</span> <span class='hs-varid'>eqPrimTyCon</span> <span class='hs-layout'>(</span><span class='hs-varid'>map</span> <span class='hs-varid'>mkTyVarTy</span> <span class='hs-varid'>args</span><span class='hs-layout'>)</span><span class='hs-keyglyph'>]</span> <span class='hs-varid'>eqTyCon</span>
<a name="line-20"></a>  <span class='hs-keyword'>where</span>
<a name="line-21"></a>    <span class='hs-varid'>kv</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>kKiVar</span>
<a name="line-22"></a>    <span class='hs-varid'>k</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkTyVarTy</span> <span class='hs-varid'>kv</span>
<a name="line-23"></a>    <span class='hs-varid'>a</span><span class='hs-conop'>:</span><span class='hs-varid'>b</span><span class='hs-conop'>:</span><span class='hs-keyword'>_</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>tyVarList</span> <span class='hs-varid'>k</span>
<a name="line-24"></a>    <span class='hs-varid'>args</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyglyph'>[</span><span class='hs-varid'>kv</span><span class='hs-layout'>,</span> <span class='hs-varid'>a</span><span class='hs-layout'>,</span> <span class='hs-varid'>b</span><span class='hs-keyglyph'>]</span>
<a name="line-25"></a>
<a name="line-26"></a>
<a name="line-27"></a><a name="coercibleTyCon"></a><span class='hs-definition'>coercibleTyCon</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>TyCon</span>
<a name="line-28"></a><span class='hs-definition'>coercibleTyCon</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkClassTyCon</span>
<a name="line-29"></a>    <span class='hs-varid'>coercibleTyConName</span> <span class='hs-varid'>kind</span> <span class='hs-varid'>tvs</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>Nominal</span><span class='hs-layout'>,</span> <span class='hs-conid'>Representational</span><span class='hs-layout'>,</span> <span class='hs-conid'>Representational</span><span class='hs-keyglyph'>]</span>
<a name="line-30"></a>    <span class='hs-varid'>rhs</span> <span class='hs-varid'>coercibleClass</span> <span class='hs-conid'>NonRecursive</span>
<a name="line-31"></a>  <span class='hs-keyword'>where</span> <span class='hs-varid'>kind</span> <span class='hs-keyglyph'>=</span> <span class='hs-layout'>(</span><span class='hs-conid'>ForAllTy</span> <span class='hs-varid'>kv</span> <span class='hs-varop'>$</span> <span class='hs-varid'>mkArrowKinds</span> <span class='hs-keyglyph'>[</span><span class='hs-varid'>k</span><span class='hs-layout'>,</span> <span class='hs-varid'>k</span><span class='hs-keyglyph'>]</span> <span class='hs-varid'>constraintKind</span><span class='hs-layout'>)</span>
<a name="line-32"></a>        <span class='hs-varid'>kv</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>kKiVar</span>
<a name="line-33"></a>        <span class='hs-varid'>k</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkTyVarTy</span> <span class='hs-varid'>kv</span>
<a name="line-34"></a>        <span class='hs-varid'>a</span><span class='hs-conop'>:</span><span class='hs-varid'>b</span><span class='hs-conop'>:</span><span class='hs-keyword'>_</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>tyVarList</span> <span class='hs-varid'>k</span>
<a name="line-35"></a>        <span class='hs-varid'>tvs</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyglyph'>[</span><span class='hs-varid'>kv</span><span class='hs-layout'>,</span> <span class='hs-varid'>a</span><span class='hs-layout'>,</span> <span class='hs-varid'>b</span><span class='hs-keyglyph'>]</span>
<a name="line-36"></a>        <span class='hs-varid'>rhs</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>DataTyCon</span> <span class='hs-keyglyph'>[</span><span class='hs-varid'>coercibleDataCon</span><span class='hs-keyglyph'>]</span> <span class='hs-conid'>False</span>
<a name="line-37"></a>
<a name="line-38"></a><a name="coercibleDataCon"></a><span class='hs-definition'>coercibleDataCon</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DataCon</span>
<a name="line-39"></a><span class='hs-definition'>coercibleDataCon</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>pcDataCon</span> <span class='hs-varid'>coercibleDataConName</span> <span class='hs-varid'>args</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>TyConApp</span> <span class='hs-varid'>eqReprPrimTyCon</span> <span class='hs-layout'>(</span><span class='hs-varid'>map</span> <span class='hs-varid'>mkTyVarTy</span> <span class='hs-varid'>args</span><span class='hs-layout'>)</span><span class='hs-keyglyph'>]</span> <span class='hs-varid'>coercibleTyCon</span>
<a name="line-40"></a>  <span class='hs-keyword'>where</span>
<a name="line-41"></a>    <span class='hs-varid'>kv</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>kKiVar</span>
<a name="line-42"></a>    <span class='hs-varid'>k</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkTyVarTy</span> <span class='hs-varid'>kv</span>
<a name="line-43"></a>    <span class='hs-varid'>a</span><span class='hs-conop'>:</span><span class='hs-varid'>b</span><span class='hs-conop'>:</span><span class='hs-keyword'>_</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>tyVarList</span> <span class='hs-varid'>k</span>
<a name="line-44"></a>    <span class='hs-varid'>args</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyglyph'>[</span><span class='hs-varid'>kv</span><span class='hs-layout'>,</span> <span class='hs-varid'>a</span><span class='hs-layout'>,</span> <span class='hs-varid'>b</span><span class='hs-keyglyph'>]</span>
<a name="line-45"></a>
<a name="line-46"></a><a name="coercibleClass"></a><span class='hs-definition'>coercibleClass</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Class</span>
<a name="line-47"></a><span class='hs-definition'>coercibleClass</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkClass</span> <span class='hs-layout'>(</span><span class='hs-varid'>tyConTyVars</span> <span class='hs-varid'>coercibleTyCon</span><span class='hs-layout'>)</span> <span class='hs-conid'>[]</span> <span class='hs-conid'>[]</span> <span class='hs-conid'>[]</span> <span class='hs-conid'>[]</span> <span class='hs-conid'>[]</span> <span class='hs-layout'>(</span><span class='hs-varid'>mkAnd</span> <span class='hs-conid'>[]</span><span class='hs-layout'>)</span> <span class='hs-varid'>coercibleTyCon</span>
<a name="line-48"></a>
</pre>\end{code}

\begin{code}
<pre><a name="line-1"></a><a name="charTy"></a><span class='hs-definition'>charTy</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Type</span>
<a name="line-2"></a><span class='hs-definition'>charTy</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkTyConTy</span> <span class='hs-varid'>charTyCon</span>
<a name="line-3"></a>
<a name="line-4"></a><a name="charTyCon"></a><span class='hs-definition'>charTyCon</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>TyCon</span>
<a name="line-5"></a><span class='hs-definition'>charTyCon</span>   <span class='hs-keyglyph'>=</span> <span class='hs-varid'>pcNonRecDataTyCon</span> <span class='hs-varid'>charTyConName</span>
<a name="line-6"></a>                                <span class='hs-layout'>(</span><span class='hs-conid'>Just</span> <span class='hs-layout'>(</span><span class='hs-conid'>CType</span> <span class='hs-conid'>Nothing</span> <span class='hs-layout'>(</span><span class='hs-varid'>fsLit</span> <span class='hs-str'>"HsChar"</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-7"></a>                                <span class='hs-conid'>[]</span> <span class='hs-keyglyph'>[</span><span class='hs-varid'>charDataCon</span><span class='hs-keyglyph'>]</span>
<a name="line-8"></a><a name="charDataCon"></a><span class='hs-definition'>charDataCon</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DataCon</span>
<a name="line-9"></a><span class='hs-definition'>charDataCon</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>pcDataCon</span> <span class='hs-varid'>charDataConName</span> <span class='hs-conid'>[]</span> <span class='hs-keyglyph'>[</span><span class='hs-varid'>charPrimTy</span><span class='hs-keyglyph'>]</span> <span class='hs-varid'>charTyCon</span>
<a name="line-10"></a>
<a name="line-11"></a><a name="stringTy"></a><span class='hs-definition'>stringTy</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Type</span>
<a name="line-12"></a><span class='hs-definition'>stringTy</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkListTy</span> <span class='hs-varid'>charTy</span> <span class='hs-comment'>-- convenience only</span>
</pre>\end{code}

\begin{code}
<pre><a name="line-1"></a><a name="integerTyCon"></a><span class='hs-definition'>integerTyCon</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>TyCon</span>
<a name="line-2"></a><span class='hs-definition'>integerTyCon</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyword'>case</span> <span class='hs-varid'>cIntegerLibraryType</span> <span class='hs-keyword'>of</span>
<a name="line-3"></a>               <span class='hs-conid'>IntegerGMP</span> <span class='hs-keyglyph'>-&gt;</span>
<a name="line-4"></a>                   <span class='hs-varid'>pcNonRecDataTyCon</span> <span class='hs-varid'>integerRealTyConName</span> <span class='hs-conid'>Nothing</span> <span class='hs-conid'>[]</span>
<a name="line-5"></a>                                     <span class='hs-keyglyph'>[</span><span class='hs-varid'>integerGmpSDataCon</span><span class='hs-layout'>,</span> <span class='hs-varid'>integerGmpJDataCon</span><span class='hs-keyglyph'>]</span>
<a name="line-6"></a>               <span class='hs-keyword'>_</span> <span class='hs-keyglyph'>-&gt;</span>
<a name="line-7"></a>                   <span class='hs-varid'>panic</span> <span class='hs-str'>"Evaluated integerTyCon, but not using IntegerGMP"</span>
<a name="line-8"></a>
<a name="line-9"></a><a name="integerGmpSDataCon"></a><span class='hs-definition'>integerGmpSDataCon</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DataCon</span>
<a name="line-10"></a><span class='hs-definition'>integerGmpSDataCon</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>pcDataCon</span> <span class='hs-varid'>integerGmpSDataConName</span> <span class='hs-conid'>[]</span>
<a name="line-11"></a>                               <span class='hs-keyglyph'>[</span><span class='hs-varid'>intPrimTy</span><span class='hs-keyglyph'>]</span>
<a name="line-12"></a>                               <span class='hs-varid'>integerTyCon</span>
<a name="line-13"></a>
<a name="line-14"></a><a name="integerGmpJDataCon"></a><span class='hs-comment'>-- integerGmpJDataCon isn't exported, but we need to define it to fill</span>
<a name="line-15"></a><span class='hs-comment'>-- out integerTyCon</span>
<a name="line-16"></a><span class='hs-definition'>integerGmpJDataCon</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DataCon</span>
<a name="line-17"></a><span class='hs-definition'>integerGmpJDataCon</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>pcDataCon</span> <span class='hs-varid'>integerGmpJDataConName</span> <span class='hs-conid'>[]</span>
<a name="line-18"></a>                               <span class='hs-keyglyph'>[</span><span class='hs-varid'>intPrimTy</span><span class='hs-layout'>,</span> <span class='hs-varid'>byteArrayPrimTy</span><span class='hs-keyglyph'>]</span>
<a name="line-19"></a>                               <span class='hs-varid'>integerTyCon</span>
</pre>\end{code}

\begin{code}
<pre><a name="line-1"></a><a name="intTy"></a><span class='hs-definition'>intTy</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Type</span>
<a name="line-2"></a><span class='hs-definition'>intTy</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkTyConTy</span> <span class='hs-varid'>intTyCon</span>
<a name="line-3"></a>
<a name="line-4"></a><a name="intTyCon"></a><span class='hs-definition'>intTyCon</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>TyCon</span>
<a name="line-5"></a><span class='hs-definition'>intTyCon</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>pcNonRecDataTyCon</span> <span class='hs-varid'>intTyConName</span> <span class='hs-layout'>(</span><span class='hs-conid'>Just</span> <span class='hs-layout'>(</span><span class='hs-conid'>CType</span> <span class='hs-conid'>Nothing</span> <span class='hs-layout'>(</span><span class='hs-varid'>fsLit</span> <span class='hs-str'>"HsInt"</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span> <span class='hs-conid'>[]</span> <span class='hs-keyglyph'>[</span><span class='hs-varid'>intDataCon</span><span class='hs-keyglyph'>]</span>
<a name="line-6"></a><a name="intDataCon"></a><span class='hs-definition'>intDataCon</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DataCon</span>
<a name="line-7"></a><span class='hs-definition'>intDataCon</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>pcDataCon</span> <span class='hs-varid'>intDataConName</span> <span class='hs-conid'>[]</span> <span class='hs-keyglyph'>[</span><span class='hs-varid'>intPrimTy</span><span class='hs-keyglyph'>]</span> <span class='hs-varid'>intTyCon</span>
</pre>\end{code}

\begin{code}
<pre><a name="line-1"></a><a name="wordTy"></a><span class='hs-definition'>wordTy</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Type</span>
<a name="line-2"></a><span class='hs-definition'>wordTy</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkTyConTy</span> <span class='hs-varid'>wordTyCon</span>
<a name="line-3"></a>
<a name="line-4"></a><a name="wordTyCon"></a><span class='hs-definition'>wordTyCon</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>TyCon</span>
<a name="line-5"></a><span class='hs-definition'>wordTyCon</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>pcNonRecDataTyCon</span> <span class='hs-varid'>wordTyConName</span> <span class='hs-layout'>(</span><span class='hs-conid'>Just</span> <span class='hs-layout'>(</span><span class='hs-conid'>CType</span> <span class='hs-conid'>Nothing</span> <span class='hs-layout'>(</span><span class='hs-varid'>fsLit</span> <span class='hs-str'>"HsWord"</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span> <span class='hs-conid'>[]</span> <span class='hs-keyglyph'>[</span><span class='hs-varid'>wordDataCon</span><span class='hs-keyglyph'>]</span>
<a name="line-6"></a><a name="wordDataCon"></a><span class='hs-definition'>wordDataCon</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DataCon</span>
<a name="line-7"></a><span class='hs-definition'>wordDataCon</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>pcDataCon</span> <span class='hs-varid'>wordDataConName</span> <span class='hs-conid'>[]</span> <span class='hs-keyglyph'>[</span><span class='hs-varid'>wordPrimTy</span><span class='hs-keyglyph'>]</span> <span class='hs-varid'>wordTyCon</span>
</pre>\end{code}

\begin{code}
<pre><a name="line-1"></a><a name="floatTy"></a><span class='hs-definition'>floatTy</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Type</span>
<a name="line-2"></a><span class='hs-definition'>floatTy</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkTyConTy</span> <span class='hs-varid'>floatTyCon</span>
<a name="line-3"></a>
<a name="line-4"></a><a name="floatTyCon"></a><span class='hs-definition'>floatTyCon</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>TyCon</span>
<a name="line-5"></a><span class='hs-definition'>floatTyCon</span>   <span class='hs-keyglyph'>=</span> <span class='hs-varid'>pcNonRecDataTyCon</span> <span class='hs-varid'>floatTyConName</span>   <span class='hs-layout'>(</span><span class='hs-conid'>Just</span> <span class='hs-layout'>(</span><span class='hs-conid'>CType</span> <span class='hs-conid'>Nothing</span> <span class='hs-layout'>(</span><span class='hs-varid'>fsLit</span> <span class='hs-str'>"HsFloat"</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span> <span class='hs-conid'>[]</span> <span class='hs-keyglyph'>[</span><span class='hs-varid'>floatDataCon</span><span class='hs-keyglyph'>]</span>
<a name="line-6"></a><a name="floatDataCon"></a><span class='hs-definition'>floatDataCon</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DataCon</span>
<a name="line-7"></a><span class='hs-definition'>floatDataCon</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>pcDataCon</span>         <span class='hs-varid'>floatDataConName</span> <span class='hs-conid'>[]</span> <span class='hs-keyglyph'>[</span><span class='hs-varid'>floatPrimTy</span><span class='hs-keyglyph'>]</span> <span class='hs-varid'>floatTyCon</span>
</pre>\end{code}

\begin{code}
<pre><a name="line-1"></a><a name="doubleTy"></a><span class='hs-definition'>doubleTy</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Type</span>
<a name="line-2"></a><span class='hs-definition'>doubleTy</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkTyConTy</span> <span class='hs-varid'>doubleTyCon</span>
<a name="line-3"></a>
<a name="line-4"></a><a name="doubleTyCon"></a><span class='hs-definition'>doubleTyCon</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>TyCon</span>
<a name="line-5"></a><span class='hs-definition'>doubleTyCon</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>pcNonRecDataTyCon</span> <span class='hs-varid'>doubleTyConName</span> <span class='hs-layout'>(</span><span class='hs-conid'>Just</span> <span class='hs-layout'>(</span><span class='hs-conid'>CType</span> <span class='hs-conid'>Nothing</span> <span class='hs-layout'>(</span><span class='hs-varid'>fsLit</span> <span class='hs-str'>"HsDouble"</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span> <span class='hs-conid'>[]</span> <span class='hs-keyglyph'>[</span><span class='hs-varid'>doubleDataCon</span><span class='hs-keyglyph'>]</span>
<a name="line-6"></a>
<a name="line-7"></a><a name="doubleDataCon"></a><span class='hs-definition'>doubleDataCon</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DataCon</span>
<a name="line-8"></a><span class='hs-definition'>doubleDataCon</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>pcDataCon</span> <span class='hs-varid'>doubleDataConName</span> <span class='hs-conid'>[]</span> <span class='hs-keyglyph'>[</span><span class='hs-varid'>doublePrimTy</span><span class='hs-keyglyph'>]</span> <span class='hs-varid'>doubleTyCon</span>
</pre>\end{code}


%************************************************************************
%*                                                                      *
\subsection[TysWiredIn-Bool]{The @Bool@ type}
%*                                                                      *
%************************************************************************

An ordinary enumeration type, but deeply wired in.  There are no
magical operations on @Bool@ (just the regular Prelude code).

{\em BEGIN IDLE SPECULATION BY SIMON}

This is not the only way to encode @Bool@.  A more obvious coding makes
@Bool@ just a boxed up version of @Bool#@, like this:
\begin{verbatim}
type Bool# = Int#
data Bool = MkBool Bool#
\end{verbatim}

Unfortunately, this doesn't correspond to what the Report says @Bool@
looks like!  Furthermore, we get slightly less efficient code (I
think) with this coding. @gtInt@ would look like this:

\begin{verbatim}
gtInt :: Int -> Int -> Bool
gtInt x y = case x of I# x# ->
            case y of I# y# ->
            case (gtIntPrim x# y#) of
                b# -> MkBool b#
\end{verbatim}

Notice that the result of the @gtIntPrim@ comparison has to be turned
into an integer (here called @b#@), and returned in a @MkBool@ box.

The @if@ expression would compile to this:
\begin{verbatim}
case (gtInt x y) of
  MkBool b# -> case b# of { 1# -> e1; 0# -> e2 }
\end{verbatim}

I think this code is a little less efficient than the previous code,
but I'm not certain.  At all events, corresponding with the Report is
important.  The interesting thing is that the language is expressive
enough to describe more than one alternative; and that a type doesn't
necessarily need to be a straightforwardly boxed version of its
primitive counterpart.

{\em END IDLE SPECULATION BY SIMON}

\begin{code}
<pre><a name="line-1"></a><a name="boolTy"></a><span class='hs-definition'>boolTy</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Type</span>
<a name="line-2"></a><span class='hs-definition'>boolTy</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkTyConTy</span> <span class='hs-varid'>boolTyCon</span>
<a name="line-3"></a>
<a name="line-4"></a><a name="boolTyCon"></a><span class='hs-definition'>boolTyCon</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>TyCon</span>
<a name="line-5"></a><span class='hs-definition'>boolTyCon</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>pcTyCon</span> <span class='hs-conid'>True</span> <span class='hs-conid'>NonRecursive</span> <span class='hs-conid'>True</span> <span class='hs-varid'>boolTyConName</span>
<a name="line-6"></a>                    <span class='hs-layout'>(</span><span class='hs-conid'>Just</span> <span class='hs-layout'>(</span><span class='hs-conid'>CType</span> <span class='hs-conid'>Nothing</span> <span class='hs-layout'>(</span><span class='hs-varid'>fsLit</span> <span class='hs-str'>"HsBool"</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-7"></a>                    <span class='hs-conid'>[]</span> <span class='hs-keyglyph'>[</span><span class='hs-varid'>falseDataCon</span><span class='hs-layout'>,</span> <span class='hs-varid'>trueDataCon</span><span class='hs-keyglyph'>]</span>
<a name="line-8"></a>
<a name="line-9"></a><a name="falseDataCon"></a><span class='hs-definition'>falseDataCon</span><span class='hs-layout'>,</span> <span class='hs-varid'>trueDataCon</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DataCon</span>
<a name="line-10"></a><span class='hs-definition'>falseDataCon</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>pcDataCon</span> <span class='hs-varid'>falseDataConName</span> <span class='hs-conid'>[]</span> <span class='hs-conid'>[]</span> <span class='hs-varid'>boolTyCon</span>
<a name="line-11"></a><a name="trueDataCon"></a><span class='hs-definition'>trueDataCon</span>  <span class='hs-keyglyph'>=</span> <span class='hs-varid'>pcDataCon</span> <span class='hs-varid'>trueDataConName</span>  <span class='hs-conid'>[]</span> <span class='hs-conid'>[]</span> <span class='hs-varid'>boolTyCon</span>
<a name="line-12"></a>
<a name="line-13"></a><a name="falseDataConId"></a><span class='hs-definition'>falseDataConId</span><span class='hs-layout'>,</span> <span class='hs-varid'>trueDataConId</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Id</span>
<a name="line-14"></a><span class='hs-definition'>falseDataConId</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>dataConWorkId</span> <span class='hs-varid'>falseDataCon</span>
<a name="line-15"></a><a name="trueDataConId"></a><span class='hs-definition'>trueDataConId</span>  <span class='hs-keyglyph'>=</span> <span class='hs-varid'>dataConWorkId</span> <span class='hs-varid'>trueDataCon</span>
<a name="line-16"></a>
<a name="line-17"></a><a name="orderingTyCon"></a><span class='hs-definition'>orderingTyCon</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>TyCon</span>
<a name="line-18"></a><span class='hs-definition'>orderingTyCon</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>pcTyCon</span> <span class='hs-conid'>True</span> <span class='hs-conid'>NonRecursive</span> <span class='hs-conid'>True</span> <span class='hs-varid'>orderingTyConName</span> <span class='hs-conid'>Nothing</span>
<a name="line-19"></a>                        <span class='hs-conid'>[]</span> <span class='hs-keyglyph'>[</span><span class='hs-varid'>ltDataCon</span><span class='hs-layout'>,</span> <span class='hs-varid'>eqDataCon</span><span class='hs-layout'>,</span> <span class='hs-varid'>gtDataCon</span><span class='hs-keyglyph'>]</span>
<a name="line-20"></a>
<a name="line-21"></a><a name="ltDataCon"></a><span class='hs-definition'>ltDataCon</span><span class='hs-layout'>,</span> <span class='hs-varid'>eqDataCon</span><span class='hs-layout'>,</span> <span class='hs-varid'>gtDataCon</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DataCon</span>
<a name="line-22"></a><span class='hs-definition'>ltDataCon</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>pcDataCon</span> <span class='hs-varid'>ltDataConName</span>  <span class='hs-conid'>[]</span> <span class='hs-conid'>[]</span> <span class='hs-varid'>orderingTyCon</span>
<a name="line-23"></a><a name="eqDataCon"></a><span class='hs-definition'>eqDataCon</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>pcDataCon</span> <span class='hs-varid'>eqDataConName</span>  <span class='hs-conid'>[]</span> <span class='hs-conid'>[]</span> <span class='hs-varid'>orderingTyCon</span>
<a name="line-24"></a><a name="gtDataCon"></a><span class='hs-definition'>gtDataCon</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>pcDataCon</span> <span class='hs-varid'>gtDataConName</span>  <span class='hs-conid'>[]</span> <span class='hs-conid'>[]</span> <span class='hs-varid'>orderingTyCon</span>
<a name="line-25"></a>
<a name="line-26"></a><a name="ltDataConId"></a><span class='hs-definition'>ltDataConId</span><span class='hs-layout'>,</span> <span class='hs-varid'>eqDataConId</span><span class='hs-layout'>,</span> <span class='hs-varid'>gtDataConId</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Id</span>
<a name="line-27"></a><span class='hs-definition'>ltDataConId</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>dataConWorkId</span> <span class='hs-varid'>ltDataCon</span>
<a name="line-28"></a><a name="eqDataConId"></a><span class='hs-definition'>eqDataConId</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>dataConWorkId</span> <span class='hs-varid'>eqDataCon</span>
<a name="line-29"></a><a name="gtDataConId"></a><span class='hs-definition'>gtDataConId</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>dataConWorkId</span> <span class='hs-varid'>gtDataCon</span>
</pre>\end{code}

%************************************************************************
%*                                                                      *
\subsection[TysWiredIn-List]{The @List@ type (incl ``build'' magic)}
%*                                                                      *
%************************************************************************

Special syntax, deeply wired in, but otherwise an ordinary algebraic
data types:
\begin{verbatim}
data [] a = [] | a : (List a)
data () = ()
data (,) a b = (,,) a b
...
\end{verbatim}

\begin{code}
<pre><a name="line-1"></a><a name="mkListTy"></a><span class='hs-definition'>mkListTy</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Type</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Type</span>
<a name="line-2"></a><span class='hs-definition'>mkListTy</span> <span class='hs-varid'>ty</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkTyConApp</span> <span class='hs-varid'>listTyCon</span> <span class='hs-keyglyph'>[</span><span class='hs-varid'>ty</span><span class='hs-keyglyph'>]</span>
<a name="line-3"></a>
<a name="line-4"></a><a name="listTyCon"></a><span class='hs-definition'>listTyCon</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>TyCon</span>
<a name="line-5"></a><span class='hs-definition'>listTyCon</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>pcTyCon</span> <span class='hs-conid'>False</span> <span class='hs-conid'>Recursive</span> <span class='hs-conid'>True</span>
<a name="line-6"></a>                    <span class='hs-varid'>listTyConName</span> <span class='hs-conid'>Nothing</span> <span class='hs-varid'>alpha_tyvar</span> <span class='hs-keyglyph'>[</span><span class='hs-varid'>nilDataCon</span><span class='hs-layout'>,</span> <span class='hs-varid'>consDataCon</span><span class='hs-keyglyph'>]</span>
<a name="line-7"></a>
<a name="line-8"></a><a name="mkPromotedListTy"></a><span class='hs-definition'>mkPromotedListTy</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Type</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Type</span>
<a name="line-9"></a><span class='hs-definition'>mkPromotedListTy</span> <span class='hs-varid'>ty</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkTyConApp</span> <span class='hs-varid'>promotedListTyCon</span> <span class='hs-keyglyph'>[</span><span class='hs-varid'>ty</span><span class='hs-keyglyph'>]</span>
<a name="line-10"></a>
<a name="line-11"></a><a name="promotedListTyCon"></a><span class='hs-definition'>promotedListTyCon</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>TyCon</span>
<a name="line-12"></a><span class='hs-definition'>promotedListTyCon</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>promoteTyCon</span> <span class='hs-varid'>listTyCon</span>
<a name="line-13"></a>
<a name="line-14"></a><a name="nilDataCon"></a><span class='hs-definition'>nilDataCon</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DataCon</span>
<a name="line-15"></a><span class='hs-definition'>nilDataCon</span>  <span class='hs-keyglyph'>=</span> <span class='hs-varid'>pcDataCon</span> <span class='hs-varid'>nilDataConName</span> <span class='hs-varid'>alpha_tyvar</span> <span class='hs-conid'>[]</span> <span class='hs-varid'>listTyCon</span>
<a name="line-16"></a>
<a name="line-17"></a><a name="consDataCon"></a><span class='hs-definition'>consDataCon</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DataCon</span>
<a name="line-18"></a><span class='hs-definition'>consDataCon</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>pcDataConWithFixity</span> <span class='hs-conid'>True</span> <span class='hs-comment'>{- Declared infix -}</span>
<a name="line-19"></a>               <span class='hs-varid'>consDataConName</span>
<a name="line-20"></a>               <span class='hs-varid'>alpha_tyvar</span> <span class='hs-keyglyph'>[</span><span class='hs-varid'>alphaTy</span><span class='hs-layout'>,</span> <span class='hs-varid'>mkTyConApp</span> <span class='hs-varid'>listTyCon</span> <span class='hs-varid'>alpha_ty</span><span class='hs-keyglyph'>]</span> <span class='hs-varid'>listTyCon</span>
<a name="line-21"></a><span class='hs-comment'>-- Interesting: polymorphic recursion would help here.</span>
<a name="line-22"></a><span class='hs-comment'>-- We can't use (mkListTy alphaTy) in the defn of consDataCon, else mkListTy</span>
<a name="line-23"></a><span class='hs-comment'>-- gets the over-specific type (Type -&gt; Type)</span>
</pre>\end{code}

%************************************************************************
%*                                                                      *
\subsection[TysWiredIn-Tuples]{The @Tuple@ types}
%*                                                                      *
%************************************************************************

The tuple types are definitely magic, because they form an infinite
family.

\begin{itemize}
\item
They have a special family of type constructors, of type @TyCon@
These contain the tycon arity, but don't require a Unique.

\item
They have a special family of constructors, of type
@Id@. Again these contain their arity but don't need a Unique.

\item
There should be a magic way of generating the info tables and
entry code for all tuples.

But at the moment we just compile a Haskell source
file\srcloc{lib/prelude/...} containing declarations like:
\begin{verbatim}
data Tuple0             = Tup0
data Tuple2  a b        = Tup2  a b
data Tuple3  a b c      = Tup3  a b c
data Tuple4  a b c d    = Tup4  a b c d
...
\end{verbatim}
The print-names associated with the magic @Id@s for tuple constructors
``just happen'' to be the same as those generated by these
declarations.

\item
The instance environment should have a magic way to know
that each tuple type is an instances of classes @Eq@, @Ix@, @Ord@ and
so on. \ToDo{Not implemented yet.}

\item
There should also be a way to generate the appropriate code for each
of these instances, but (like the info tables and entry code) it is
done by enumeration\srcloc{lib/prelude/InTup?.hs}.
\end{itemize}

\begin{code}
<pre><a name="line-1"></a><a name="mkTupleTy"></a><span class='hs-definition'>mkTupleTy</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>TupleSort</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>Type</span><span class='hs-keyglyph'>]</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Type</span>
<a name="line-2"></a><span class='hs-comment'>-- Special case for *boxed* 1-tuples, which are represented by the type itself</span>
<a name="line-3"></a><span class='hs-definition'>mkTupleTy</span> <span class='hs-varid'>sort</span> <span class='hs-keyglyph'>[</span><span class='hs-varid'>ty</span><span class='hs-keyglyph'>]</span> <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Boxed</span> <span class='hs-keyglyph'>&lt;-</span> <span class='hs-varid'>tupleSortBoxity</span> <span class='hs-varid'>sort</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>ty</span>
<a name="line-4"></a><span class='hs-definition'>mkTupleTy</span> <span class='hs-varid'>sort</span> <span class='hs-varid'>tys</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkTyConApp</span> <span class='hs-layout'>(</span><span class='hs-varid'>tupleTyCon</span> <span class='hs-varid'>sort</span> <span class='hs-layout'>(</span><span class='hs-varid'>length</span> <span class='hs-varid'>tys</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span> <span class='hs-varid'>tys</span>
<a name="line-5"></a>
<a name="line-6"></a><a name="mkBoxedTupleTy"></a><span class='hs-comment'>-- | Build the type of a small tuple that holds the specified type of thing</span>
<a name="line-7"></a><span class='hs-definition'>mkBoxedTupleTy</span> <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>Type</span><span class='hs-keyglyph'>]</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Type</span>
<a name="line-8"></a><span class='hs-definition'>mkBoxedTupleTy</span> <span class='hs-varid'>tys</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkTupleTy</span> <span class='hs-conid'>BoxedTuple</span> <span class='hs-varid'>tys</span>
<a name="line-9"></a>
<a name="line-10"></a><a name="unitTy"></a><span class='hs-definition'>unitTy</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Type</span>
<a name="line-11"></a><span class='hs-definition'>unitTy</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkTupleTy</span> <span class='hs-conid'>BoxedTuple</span> <span class='hs-conid'>[]</span>
</pre>\end{code}

%************************************************************************
%*                                                                      *
\subsection[TysWiredIn-PArr]{The @[::]@ type}
%*                                                                      *
%************************************************************************

Special syntax for parallel arrays needs some wired in definitions.

\begin{code}
<pre><a name="line-1"></a><a name="mkPArrTy"></a><span class='hs-comment'>-- | Construct a type representing the application of the parallel array constructor</span>
<a name="line-2"></a><span class='hs-definition'>mkPArrTy</span>    <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Type</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Type</span>
<a name="line-3"></a><span class='hs-definition'>mkPArrTy</span> <span class='hs-varid'>ty</span>  <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkTyConApp</span> <span class='hs-varid'>parrTyCon</span> <span class='hs-keyglyph'>[</span><span class='hs-varid'>ty</span><span class='hs-keyglyph'>]</span>
<a name="line-4"></a>
<a name="line-5"></a><a name="parrTyCon"></a><span class='hs-comment'>-- | Represents the type constructor of parallel arrays</span>
<a name="line-6"></a><span class='hs-comment'>--</span>
<a name="line-7"></a><span class='hs-comment'>--  * This must match the definition in @PrelPArr@</span>
<a name="line-8"></a><span class='hs-comment'>--</span>
<a name="line-9"></a><span class='hs-comment'>-- NB: Although the constructor is given here, it will not be accessible in</span>
<a name="line-10"></a><span class='hs-comment'>--     user code as it is not in the environment of any compiled module except</span>
<a name="line-11"></a><span class='hs-comment'>--     @PrelPArr@.</span>
<a name="line-12"></a><span class='hs-comment'>--</span>
<a name="line-13"></a><span class='hs-definition'>parrTyCon</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>TyCon</span>
<a name="line-14"></a><span class='hs-definition'>parrTyCon</span>  <span class='hs-keyglyph'>=</span> <span class='hs-varid'>pcNonRecDataTyCon</span> <span class='hs-varid'>parrTyConName</span> <span class='hs-conid'>Nothing</span> <span class='hs-varid'>alpha_tyvar</span> <span class='hs-keyglyph'>[</span><span class='hs-varid'>parrDataCon</span><span class='hs-keyglyph'>]</span>
<a name="line-15"></a>
<a name="line-16"></a><a name="parrDataCon"></a><span class='hs-definition'>parrDataCon</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DataCon</span>
<a name="line-17"></a><span class='hs-definition'>parrDataCon</span>  <span class='hs-keyglyph'>=</span> <span class='hs-varid'>pcDataCon</span>
<a name="line-18"></a>                 <span class='hs-varid'>parrDataConName</span>
<a name="line-19"></a>                 <span class='hs-varid'>alpha_tyvar</span>            <span class='hs-comment'>-- forall'ed type variables</span>
<a name="line-20"></a>                 <span class='hs-keyglyph'>[</span><span class='hs-varid'>intTy</span><span class='hs-layout'>,</span>                <span class='hs-comment'>-- 1st argument: Int</span>
<a name="line-21"></a>                  <span class='hs-varid'>mkTyConApp</span>            <span class='hs-comment'>-- 2nd argument: Array# a</span>
<a name="line-22"></a>                    <span class='hs-varid'>arrayPrimTyCon</span>
<a name="line-23"></a>                    <span class='hs-varid'>alpha_ty</span><span class='hs-keyglyph'>]</span>
<a name="line-24"></a>                 <span class='hs-varid'>parrTyCon</span>
<a name="line-25"></a>
<a name="line-26"></a><a name="isPArrTyCon"></a><span class='hs-comment'>-- | Check whether a type constructor is the constructor for parallel arrays</span>
<a name="line-27"></a><span class='hs-definition'>isPArrTyCon</span>    <span class='hs-keyglyph'>::</span> <span class='hs-conid'>TyCon</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Bool</span>
<a name="line-28"></a><span class='hs-definition'>isPArrTyCon</span> <span class='hs-varid'>tc</span>  <span class='hs-keyglyph'>=</span> <span class='hs-varid'>tyConName</span> <span class='hs-varid'>tc</span> <span class='hs-varop'>==</span> <span class='hs-varid'>parrTyConName</span>
<a name="line-29"></a>
<a name="line-30"></a><a name="parrFakeCon"></a><span class='hs-comment'>-- | Fake array constructors</span>
<a name="line-31"></a><span class='hs-comment'>--</span>
<a name="line-32"></a><span class='hs-comment'>-- * These constructors are never really used to represent array values;</span>
<a name="line-33"></a><span class='hs-comment'>--   however, they are very convenient during desugaring (and, in particular,</span>
<a name="line-34"></a><span class='hs-comment'>--   in the pattern matching compiler) to treat array pattern just like</span>
<a name="line-35"></a><span class='hs-comment'>--   yet another constructor pattern</span>
<a name="line-36"></a><span class='hs-comment'>--</span>
<a name="line-37"></a><span class='hs-definition'>parrFakeCon</span>                        <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Arity</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DataCon</span>
<a name="line-38"></a><span class='hs-definition'>parrFakeCon</span> <span class='hs-varid'>i</span> <span class='hs-keyglyph'>|</span> <span class='hs-varid'>i</span> <span class='hs-varop'>&gt;</span> <span class='hs-varid'>mAX_TUPLE_SIZE</span>  <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkPArrFakeCon</span>  <span class='hs-varid'>i</span>  <span class='hs-comment'>-- build one specially</span>
<a name="line-39"></a><span class='hs-definition'>parrFakeCon</span> <span class='hs-varid'>i</span>                       <span class='hs-keyglyph'>=</span> <span class='hs-varid'>parrFakeConArr</span><span class='hs-varop'>!</span><span class='hs-varid'>i</span>
<a name="line-40"></a>
<a name="line-41"></a><a name="parrFakeConArr"></a><span class='hs-comment'>-- pre-defined set of constructors</span>
<a name="line-42"></a><span class='hs-comment'>--</span>
<a name="line-43"></a><span class='hs-definition'>parrFakeConArr</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Array</span> <span class='hs-conid'>Int</span> <span class='hs-conid'>DataCon</span>
<a name="line-44"></a><span class='hs-definition'>parrFakeConArr</span>  <span class='hs-keyglyph'>=</span> <span class='hs-varid'>array</span> <span class='hs-layout'>(</span><span class='hs-num'>0</span><span class='hs-layout'>,</span> <span class='hs-varid'>mAX_TUPLE_SIZE</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>[</span><span class='hs-layout'>(</span><span class='hs-varid'>i</span><span class='hs-layout'>,</span> <span class='hs-varid'>mkPArrFakeCon</span> <span class='hs-varid'>i</span><span class='hs-layout'>)</span>
<a name="line-45"></a>                                            <span class='hs-keyglyph'>|</span> <span class='hs-varid'>i</span> <span class='hs-keyglyph'>&lt;-</span> <span class='hs-keyglyph'>[</span><span class='hs-num'>0</span><span class='hs-keyglyph'>..</span><span class='hs-varid'>mAX_TUPLE_SIZE</span><span class='hs-keyglyph'>]</span><span class='hs-keyglyph'>]</span>
<a name="line-46"></a>
<a name="line-47"></a><a name="mkPArrFakeCon"></a><span class='hs-comment'>-- build a fake parallel array constructor for the given arity</span>
<a name="line-48"></a><span class='hs-comment'>--</span>
<a name="line-49"></a><span class='hs-definition'>mkPArrFakeCon</span>       <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Int</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DataCon</span>
<a name="line-50"></a><span class='hs-definition'>mkPArrFakeCon</span> <span class='hs-varid'>arity</span>  <span class='hs-keyglyph'>=</span> <span class='hs-varid'>data_con</span>
<a name="line-51"></a>  <span class='hs-keyword'>where</span>
<a name="line-52"></a>        <span class='hs-varid'>data_con</span>  <span class='hs-keyglyph'>=</span> <span class='hs-varid'>pcDataCon</span> <span class='hs-varid'>name</span> <span class='hs-keyglyph'>[</span><span class='hs-varid'>tyvar</span><span class='hs-keyglyph'>]</span> <span class='hs-varid'>tyvarTys</span> <span class='hs-varid'>parrTyCon</span>
<a name="line-53"></a>        <span class='hs-varid'>tyvar</span>     <span class='hs-keyglyph'>=</span> <span class='hs-varid'>head</span> <span class='hs-varid'>alphaTyVars</span>
<a name="line-54"></a>        <span class='hs-varid'>tyvarTys</span>  <span class='hs-keyglyph'>=</span> <span class='hs-varid'>replicate</span> <span class='hs-varid'>arity</span> <span class='hs-varop'>$</span> <span class='hs-varid'>mkTyVarTy</span> <span class='hs-varid'>tyvar</span>
<a name="line-55"></a>        <span class='hs-varid'>nameStr</span>   <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkFastString</span> <span class='hs-layout'>(</span><span class='hs-str'>"MkPArr"</span> <span class='hs-varop'>++</span> <span class='hs-varid'>show</span> <span class='hs-varid'>arity</span><span class='hs-layout'>)</span>
<a name="line-56"></a>        <span class='hs-varid'>name</span>      <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkWiredInName</span> <span class='hs-varid'>gHC_PARR'</span> <span class='hs-layout'>(</span><span class='hs-varid'>mkDataOccFS</span> <span class='hs-varid'>nameStr</span><span class='hs-layout'>)</span> <span class='hs-varid'>unique</span>
<a name="line-57"></a>                                  <span class='hs-layout'>(</span><span class='hs-conid'>AConLike</span> <span class='hs-layout'>(</span><span class='hs-conid'>RealDataCon</span> <span class='hs-varid'>data_con</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span> <span class='hs-conid'>UserSyntax</span>
<a name="line-58"></a>        <span class='hs-varid'>unique</span>      <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkPArrDataConUnique</span> <span class='hs-varid'>arity</span>
<a name="line-59"></a>
<a name="line-60"></a><a name="isPArrFakeCon"></a><span class='hs-comment'>-- | Checks whether a data constructor is a fake constructor for parallel arrays</span>
<a name="line-61"></a><span class='hs-definition'>isPArrFakeCon</span>      <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DataCon</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Bool</span>
<a name="line-62"></a><span class='hs-definition'>isPArrFakeCon</span> <span class='hs-varid'>dcon</span>  <span class='hs-keyglyph'>=</span> <span class='hs-varid'>dcon</span> <span class='hs-varop'>==</span> <span class='hs-varid'>parrFakeCon</span> <span class='hs-layout'>(</span><span class='hs-varid'>dataConSourceArity</span> <span class='hs-varid'>dcon</span><span class='hs-layout'>)</span>
</pre>\end{code}

Promoted Booleans

\begin{code}
<pre><a name="line-1"></a><a name="promotedBoolTyCon"></a><span class='hs-definition'>promotedBoolTyCon</span><span class='hs-layout'>,</span> <span class='hs-varid'>promotedFalseDataCon</span><span class='hs-layout'>,</span> <span class='hs-varid'>promotedTrueDataCon</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>TyCon</span>
<a name="line-2"></a><span class='hs-definition'>promotedBoolTyCon</span>     <span class='hs-keyglyph'>=</span> <span class='hs-varid'>promoteTyCon</span> <span class='hs-varid'>boolTyCon</span>
<a name="line-3"></a><a name="promotedTrueDataCon"></a><span class='hs-definition'>promotedTrueDataCon</span>   <span class='hs-keyglyph'>=</span> <span class='hs-varid'>promoteDataCon</span> <span class='hs-varid'>trueDataCon</span>
<a name="line-4"></a><a name="promotedFalseDataCon"></a><span class='hs-definition'>promotedFalseDataCon</span>  <span class='hs-keyglyph'>=</span> <span class='hs-varid'>promoteDataCon</span> <span class='hs-varid'>falseDataCon</span>
</pre>\end{code}

Promoted Ordering

\begin{code}
<pre><a name="line-1"></a><a name="promotedOrderingTyCon"></a><span class='hs-definition'>promotedOrderingTyCon</span>
<a name="line-2"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>promotedLTDataCon</span>
<a name="line-3"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>promotedEQDataCon</span>
<a name="line-4"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>promotedGTDataCon</span>
<a name="line-5"></a>  <span class='hs-keyglyph'>::</span> <span class='hs-conid'>TyCon</span>
<a name="line-6"></a><span class='hs-definition'>promotedOrderingTyCon</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>promoteTyCon</span> <span class='hs-varid'>orderingTyCon</span>
<a name="line-7"></a><a name="promotedLTDataCon"></a><span class='hs-definition'>promotedLTDataCon</span>     <span class='hs-keyglyph'>=</span> <span class='hs-varid'>promoteDataCon</span> <span class='hs-varid'>ltDataCon</span>
<a name="line-8"></a><a name="promotedEQDataCon"></a><span class='hs-definition'>promotedEQDataCon</span>     <span class='hs-keyglyph'>=</span> <span class='hs-varid'>promoteDataCon</span> <span class='hs-varid'>eqDataCon</span>
<a name="line-9"></a><a name="promotedGTDataCon"></a><span class='hs-definition'>promotedGTDataCon</span>     <span class='hs-keyglyph'>=</span> <span class='hs-varid'>promoteDataCon</span> <span class='hs-varid'>gtDataCon</span>
</pre>\end{code}



</body>
</html>
