<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
<!-- Generated by HsColour, http://code.haskell.org/~malcolm/hscolour/ -->
<title>main/DynFlags.hs</title>
<link type='text/css' rel='stylesheet' href='hscolour.css' />
</head>
<body>
<pre><a name="line-1"></a><span class='hs-comment'>-------------------------------------------------------------------------------</span>
<a name="line-2"></a><span class='hs-comment'>--</span>
<a name="line-3"></a><span class='hs-comment'>-- | Dynamic flags</span>
<a name="line-4"></a><span class='hs-comment'>--</span>
<a name="line-5"></a><span class='hs-comment'>-- Most flags are dynamic flags, which means they can change from compilation</span>
<a name="line-6"></a><span class='hs-comment'>-- to compilation using @OPTIONS_GHC@ pragmas, and in a multi-session GHC each</span>
<a name="line-7"></a><span class='hs-comment'>-- session can be using different dynamic flags. Dynamic flags can also be set</span>
<a name="line-8"></a><span class='hs-comment'>-- at the prompt in GHCi.</span>
<a name="line-9"></a><span class='hs-comment'>--</span>
<a name="line-10"></a><span class='hs-comment'>-- (c) The University of Glasgow 2005</span>
<a name="line-11"></a><span class='hs-comment'>--</span>
<a name="line-12"></a><span class='hs-comment'>-------------------------------------------------------------------------------</span>
<a name="line-13"></a>
<a name="line-14"></a><span class='hs-comment'>{-# OPTIONS -fno-cse #-}</span>
<a name="line-15"></a><span class='hs-comment'>-- -fno-cse is needed for GLOBAL_VAR's to behave properly</span>
<a name="line-16"></a>
<a name="line-17"></a><span class='hs-keyword'>module</span> <span class='hs-conid'>DynFlags</span> <span class='hs-layout'>(</span>
<a name="line-18"></a>        <span class='hs-comment'>-- * Dynamic flags and associated configuration types</span>
<a name="line-19"></a>        <span class='hs-conid'>DumpFlag</span><span class='hs-layout'>(</span><span class='hs-keyglyph'>..</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-20"></a>        <span class='hs-conid'>GeneralFlag</span><span class='hs-layout'>(</span><span class='hs-keyglyph'>..</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-21"></a>        <span class='hs-conid'>WarningFlag</span><span class='hs-layout'>(</span><span class='hs-keyglyph'>..</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-22"></a>        <span class='hs-conid'>ExtensionFlag</span><span class='hs-layout'>(</span><span class='hs-keyglyph'>..</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-23"></a>        <span class='hs-conid'>Language</span><span class='hs-layout'>(</span><span class='hs-keyglyph'>..</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-24"></a>        <span class='hs-conid'>PlatformConstants</span><span class='hs-layout'>(</span><span class='hs-keyglyph'>..</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-25"></a>        <span class='hs-conid'>FatalMessager</span><span class='hs-layout'>,</span> <span class='hs-conid'>LogAction</span><span class='hs-layout'>,</span> <span class='hs-conid'>FlushOut</span><span class='hs-layout'>(</span><span class='hs-keyglyph'>..</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span> <span class='hs-conid'>FlushErr</span><span class='hs-layout'>(</span><span class='hs-keyglyph'>..</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-26"></a>        <span class='hs-conid'>ProfAuto</span><span class='hs-layout'>(</span><span class='hs-keyglyph'>..</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-27"></a>        <span class='hs-varid'>glasgowExtsFlags</span><span class='hs-layout'>,</span>
<a name="line-28"></a>        <span class='hs-varid'>dopt</span><span class='hs-layout'>,</span> <span class='hs-varid'>dopt_set</span><span class='hs-layout'>,</span> <span class='hs-varid'>dopt_unset</span><span class='hs-layout'>,</span>
<a name="line-29"></a>        <span class='hs-varid'>gopt</span><span class='hs-layout'>,</span> <span class='hs-varid'>gopt_set</span><span class='hs-layout'>,</span> <span class='hs-varid'>gopt_unset</span><span class='hs-layout'>,</span>
<a name="line-30"></a>        <span class='hs-varid'>wopt</span><span class='hs-layout'>,</span> <span class='hs-varid'>wopt_set</span><span class='hs-layout'>,</span> <span class='hs-varid'>wopt_unset</span><span class='hs-layout'>,</span>
<a name="line-31"></a>        <span class='hs-varid'>xopt</span><span class='hs-layout'>,</span> <span class='hs-varid'>xopt_set</span><span class='hs-layout'>,</span> <span class='hs-varid'>xopt_unset</span><span class='hs-layout'>,</span>
<a name="line-32"></a>        <span class='hs-varid'>lang_set</span><span class='hs-layout'>,</span>
<a name="line-33"></a>        <span class='hs-varid'>whenGeneratingDynamicToo</span><span class='hs-layout'>,</span> <span class='hs-varid'>ifGeneratingDynamicToo</span><span class='hs-layout'>,</span>
<a name="line-34"></a>        <span class='hs-varid'>whenCannotGenerateDynamicToo</span><span class='hs-layout'>,</span>
<a name="line-35"></a>        <span class='hs-varid'>dynamicTooMkDynamicDynFlags</span><span class='hs-layout'>,</span>
<a name="line-36"></a>        <span class='hs-conid'>DynFlags</span><span class='hs-layout'>(</span><span class='hs-keyglyph'>..</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-37"></a>        <span class='hs-conid'>HasDynFlags</span><span class='hs-layout'>(</span><span class='hs-keyglyph'>..</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span> <span class='hs-conid'>ContainsDynFlags</span><span class='hs-layout'>(</span><span class='hs-keyglyph'>..</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-38"></a>        <span class='hs-conid'>RtsOptsEnabled</span><span class='hs-layout'>(</span><span class='hs-keyglyph'>..</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-39"></a>        <span class='hs-conid'>HscTarget</span><span class='hs-layout'>(</span><span class='hs-keyglyph'>..</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span> <span class='hs-varid'>isObjectTarget</span><span class='hs-layout'>,</span> <span class='hs-varid'>defaultObjectTarget</span><span class='hs-layout'>,</span>
<a name="line-40"></a>        <span class='hs-varid'>targetRetainsAllBindings</span><span class='hs-layout'>,</span>
<a name="line-41"></a>        <span class='hs-conid'>GhcMode</span><span class='hs-layout'>(</span><span class='hs-keyglyph'>..</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span> <span class='hs-varid'>isOneShot</span><span class='hs-layout'>,</span>
<a name="line-42"></a>        <span class='hs-conid'>GhcLink</span><span class='hs-layout'>(</span><span class='hs-keyglyph'>..</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span> <span class='hs-varid'>isNoLink</span><span class='hs-layout'>,</span>
<a name="line-43"></a>        <span class='hs-conid'>PackageFlag</span><span class='hs-layout'>(</span><span class='hs-keyglyph'>..</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-44"></a>        <span class='hs-conid'>PkgConfRef</span><span class='hs-layout'>(</span><span class='hs-keyglyph'>..</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-45"></a>        <span class='hs-conid'>Option</span><span class='hs-layout'>(</span><span class='hs-keyglyph'>..</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span> <span class='hs-varid'>showOpt</span><span class='hs-layout'>,</span>
<a name="line-46"></a>        <span class='hs-conid'>DynLibLoader</span><span class='hs-layout'>(</span><span class='hs-keyglyph'>..</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-47"></a>        <span class='hs-varid'>fFlags</span><span class='hs-layout'>,</span> <span class='hs-varid'>fWarningFlags</span><span class='hs-layout'>,</span> <span class='hs-varid'>fLangFlags</span><span class='hs-layout'>,</span> <span class='hs-varid'>xFlags</span><span class='hs-layout'>,</span>
<a name="line-48"></a>        <span class='hs-varid'>dynFlagDependencies</span><span class='hs-layout'>,</span>
<a name="line-49"></a>        <span class='hs-varid'>tablesNextToCode</span><span class='hs-layout'>,</span> <span class='hs-varid'>mkTablesNextToCode</span><span class='hs-layout'>,</span>
<a name="line-50"></a>
<a name="line-51"></a>        <span class='hs-varid'>printOutputForUser</span><span class='hs-layout'>,</span> <span class='hs-varid'>printInfoForUser</span><span class='hs-layout'>,</span>
<a name="line-52"></a>
<a name="line-53"></a>        <span class='hs-conid'>Way</span><span class='hs-layout'>(</span><span class='hs-keyglyph'>..</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span> <span class='hs-varid'>mkBuildTag</span><span class='hs-layout'>,</span> <span class='hs-varid'>wayRTSOnly</span><span class='hs-layout'>,</span> <span class='hs-varid'>addWay'</span><span class='hs-layout'>,</span> <span class='hs-varid'>updateWays</span><span class='hs-layout'>,</span>
<a name="line-54"></a>        <span class='hs-varid'>wayGeneralFlags</span><span class='hs-layout'>,</span> <span class='hs-varid'>wayUnsetGeneralFlags</span><span class='hs-layout'>,</span>
<a name="line-55"></a>
<a name="line-56"></a>        <span class='hs-comment'>-- ** Safe Haskell</span>
<a name="line-57"></a>        <span class='hs-conid'>SafeHaskellMode</span><span class='hs-layout'>(</span><span class='hs-keyglyph'>..</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-58"></a>        <span class='hs-varid'>safeHaskellOn</span><span class='hs-layout'>,</span> <span class='hs-varid'>safeImportsOn</span><span class='hs-layout'>,</span> <span class='hs-varid'>safeLanguageOn</span><span class='hs-layout'>,</span> <span class='hs-varid'>safeInferOn</span><span class='hs-layout'>,</span>
<a name="line-59"></a>        <span class='hs-varid'>packageTrustOn</span><span class='hs-layout'>,</span>
<a name="line-60"></a>        <span class='hs-varid'>safeDirectImpsReq</span><span class='hs-layout'>,</span> <span class='hs-varid'>safeImplicitImpsReq</span><span class='hs-layout'>,</span>
<a name="line-61"></a>        <span class='hs-varid'>unsafeFlags</span><span class='hs-layout'>,</span>
<a name="line-62"></a>
<a name="line-63"></a>        <span class='hs-comment'>-- ** System tool settings and locations</span>
<a name="line-64"></a>        <span class='hs-conid'>Settings</span><span class='hs-layout'>(</span><span class='hs-keyglyph'>..</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-65"></a>        <span class='hs-varid'>targetPlatform</span><span class='hs-layout'>,</span>
<a name="line-66"></a>        <span class='hs-varid'>ghcUsagePath</span><span class='hs-layout'>,</span> <span class='hs-varid'>ghciUsagePath</span><span class='hs-layout'>,</span> <span class='hs-varid'>topDir</span><span class='hs-layout'>,</span> <span class='hs-varid'>tmpDir</span><span class='hs-layout'>,</span> <span class='hs-varid'>rawSettings</span><span class='hs-layout'>,</span>
<a name="line-67"></a>        <span class='hs-varid'>extraGccViaCFlags</span><span class='hs-layout'>,</span> <span class='hs-varid'>systemPackageConfig</span><span class='hs-layout'>,</span>
<a name="line-68"></a>        <span class='hs-varid'>pgm_L</span><span class='hs-layout'>,</span> <span class='hs-varid'>pgm_P</span><span class='hs-layout'>,</span> <span class='hs-varid'>pgm_F</span><span class='hs-layout'>,</span> <span class='hs-varid'>pgm_c</span><span class='hs-layout'>,</span> <span class='hs-varid'>pgm_s</span><span class='hs-layout'>,</span> <span class='hs-varid'>pgm_a</span><span class='hs-layout'>,</span> <span class='hs-varid'>pgm_l</span><span class='hs-layout'>,</span> <span class='hs-varid'>pgm_dll</span><span class='hs-layout'>,</span> <span class='hs-varid'>pgm_T</span><span class='hs-layout'>,</span>
<a name="line-69"></a>        <span class='hs-varid'>pgm_sysman</span><span class='hs-layout'>,</span> <span class='hs-varid'>pgm_windres</span><span class='hs-layout'>,</span> <span class='hs-varid'>pgm_libtool</span><span class='hs-layout'>,</span> <span class='hs-varid'>pgm_lo</span><span class='hs-layout'>,</span> <span class='hs-varid'>pgm_lc</span><span class='hs-layout'>,</span>
<a name="line-70"></a>        <span class='hs-varid'>opt_L</span><span class='hs-layout'>,</span> <span class='hs-varid'>opt_P</span><span class='hs-layout'>,</span> <span class='hs-varid'>opt_F</span><span class='hs-layout'>,</span> <span class='hs-varid'>opt_c</span><span class='hs-layout'>,</span> <span class='hs-varid'>opt_a</span><span class='hs-layout'>,</span> <span class='hs-varid'>opt_l</span><span class='hs-layout'>,</span>
<a name="line-71"></a>        <span class='hs-varid'>opt_windres</span><span class='hs-layout'>,</span> <span class='hs-varid'>opt_lo</span><span class='hs-layout'>,</span> <span class='hs-varid'>opt_lc</span><span class='hs-layout'>,</span>
<a name="line-72"></a>
<a name="line-73"></a>
<a name="line-74"></a>        <span class='hs-comment'>-- ** Manipulating DynFlags</span>
<a name="line-75"></a>        <span class='hs-varid'>defaultDynFlags</span><span class='hs-layout'>,</span>                <span class='hs-comment'>-- Settings -&gt; DynFlags</span>
<a name="line-76"></a>        <span class='hs-varid'>defaultWays</span><span class='hs-layout'>,</span>
<a name="line-77"></a>        <span class='hs-varid'>interpWays</span><span class='hs-layout'>,</span>
<a name="line-78"></a>        <span class='hs-varid'>initDynFlags</span><span class='hs-layout'>,</span>                   <span class='hs-comment'>-- DynFlags -&gt; IO DynFlags</span>
<a name="line-79"></a>        <span class='hs-varid'>defaultFatalMessager</span><span class='hs-layout'>,</span>
<a name="line-80"></a>        <span class='hs-varid'>defaultLogAction</span><span class='hs-layout'>,</span>
<a name="line-81"></a>        <span class='hs-varid'>defaultLogActionHPrintDoc</span><span class='hs-layout'>,</span>
<a name="line-82"></a>        <span class='hs-varid'>defaultLogActionHPutStrDoc</span><span class='hs-layout'>,</span>
<a name="line-83"></a>        <span class='hs-varid'>defaultFlushOut</span><span class='hs-layout'>,</span>
<a name="line-84"></a>        <span class='hs-varid'>defaultFlushErr</span><span class='hs-layout'>,</span>
<a name="line-85"></a>
<a name="line-86"></a>        <span class='hs-varid'>getOpts</span><span class='hs-layout'>,</span>                        <span class='hs-comment'>-- DynFlags -&gt; (DynFlags -&gt; [a]) -&gt; [a]</span>
<a name="line-87"></a>        <span class='hs-varid'>getVerbFlags</span><span class='hs-layout'>,</span>
<a name="line-88"></a>        <span class='hs-varid'>updOptLevel</span><span class='hs-layout'>,</span>
<a name="line-89"></a>        <span class='hs-varid'>setTmpDir</span><span class='hs-layout'>,</span>
<a name="line-90"></a>        <span class='hs-varid'>setPackageName</span><span class='hs-layout'>,</span>
<a name="line-91"></a>
<a name="line-92"></a>        <span class='hs-comment'>-- ** Parsing DynFlags</span>
<a name="line-93"></a>        <span class='hs-varid'>parseDynamicFlagsCmdLine</span><span class='hs-layout'>,</span>
<a name="line-94"></a>        <span class='hs-varid'>parseDynamicFilePragma</span><span class='hs-layout'>,</span>
<a name="line-95"></a>        <span class='hs-varid'>parseDynamicFlagsFull</span><span class='hs-layout'>,</span>
<a name="line-96"></a>
<a name="line-97"></a>        <span class='hs-comment'>-- ** Available DynFlags</span>
<a name="line-98"></a>        <span class='hs-varid'>allFlags</span><span class='hs-layout'>,</span>
<a name="line-99"></a>        <span class='hs-varid'>flagsAll</span><span class='hs-layout'>,</span>
<a name="line-100"></a>        <span class='hs-varid'>flagsDynamic</span><span class='hs-layout'>,</span>
<a name="line-101"></a>        <span class='hs-varid'>flagsPackage</span><span class='hs-layout'>,</span>
<a name="line-102"></a>
<a name="line-103"></a>        <span class='hs-varid'>supportedLanguagesAndExtensions</span><span class='hs-layout'>,</span>
<a name="line-104"></a>        <span class='hs-varid'>languageExtensions</span><span class='hs-layout'>,</span>
<a name="line-105"></a>
<a name="line-106"></a>        <span class='hs-comment'>-- ** DynFlags C compiler options</span>
<a name="line-107"></a>        <span class='hs-varid'>picCCOpts</span><span class='hs-layout'>,</span> <span class='hs-varid'>picPOpts</span><span class='hs-layout'>,</span>
<a name="line-108"></a>
<a name="line-109"></a>        <span class='hs-comment'>-- * Configuration of the stg-to-stg passes</span>
<a name="line-110"></a>        <span class='hs-conid'>StgToDo</span><span class='hs-layout'>(</span><span class='hs-keyglyph'>..</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-111"></a>        <span class='hs-varid'>getStgToDo</span><span class='hs-layout'>,</span>
<a name="line-112"></a>
<a name="line-113"></a>        <span class='hs-comment'>-- * Compiler configuration suitable for display to the user</span>
<a name="line-114"></a>        <span class='hs-varid'>compilerInfo</span><span class='hs-layout'>,</span>
<a name="line-115"></a>
<a name="line-116"></a><span class='hs-cpp'>#ifdef GHCI</span>
<a name="line-117"></a>        <span class='hs-varid'>rtsIsProfiled</span><span class='hs-layout'>,</span>
<a name="line-118"></a><span class='hs-cpp'>#endif</span>
<a name="line-119"></a>        <span class='hs-varid'>dynamicGhc</span><span class='hs-layout'>,</span>
<a name="line-120"></a>
<a name="line-121"></a><span class='hs-cpp'>#include "../includes/dist-derivedconstants/header/GHCConstantsHaskellExports.hs"</span>
<a name="line-122"></a>        <span class='hs-varid'>bLOCK_SIZE_W</span><span class='hs-layout'>,</span>
<a name="line-123"></a>        <span class='hs-varid'>wORD_SIZE_IN_BITS</span><span class='hs-layout'>,</span>
<a name="line-124"></a>        <span class='hs-varid'>tAG_MASK</span><span class='hs-layout'>,</span>
<a name="line-125"></a>        <span class='hs-varid'>mAX_PTR_TAG</span><span class='hs-layout'>,</span>
<a name="line-126"></a>        <span class='hs-varid'>tARGET_MIN_INT</span><span class='hs-layout'>,</span> <span class='hs-varid'>tARGET_MAX_INT</span><span class='hs-layout'>,</span> <span class='hs-varid'>tARGET_MAX_WORD</span><span class='hs-layout'>,</span>
<a name="line-127"></a>
<a name="line-128"></a>        <span class='hs-varid'>unsafeGlobalDynFlags</span><span class='hs-layout'>,</span> <span class='hs-varid'>setUnsafeGlobalDynFlags</span><span class='hs-layout'>,</span>
<a name="line-129"></a>
<a name="line-130"></a>        <span class='hs-comment'>-- * SSE and AVX</span>
<a name="line-131"></a>        <span class='hs-varid'>isSseEnabled</span><span class='hs-layout'>,</span>
<a name="line-132"></a>        <span class='hs-varid'>isSse2Enabled</span><span class='hs-layout'>,</span>
<a name="line-133"></a>        <span class='hs-varid'>isSse4_2Enabled</span><span class='hs-layout'>,</span>
<a name="line-134"></a>        <span class='hs-varid'>isAvxEnabled</span><span class='hs-layout'>,</span>
<a name="line-135"></a>        <span class='hs-varid'>isAvx2Enabled</span><span class='hs-layout'>,</span>
<a name="line-136"></a>        <span class='hs-varid'>isAvx512cdEnabled</span><span class='hs-layout'>,</span>
<a name="line-137"></a>        <span class='hs-varid'>isAvx512erEnabled</span><span class='hs-layout'>,</span>
<a name="line-138"></a>        <span class='hs-varid'>isAvx512fEnabled</span><span class='hs-layout'>,</span>
<a name="line-139"></a>        <span class='hs-varid'>isAvx512pfEnabled</span><span class='hs-layout'>,</span>
<a name="line-140"></a>
<a name="line-141"></a>        <span class='hs-comment'>-- * Linker/compiler information</span>
<a name="line-142"></a>        <span class='hs-conid'>LinkerInfo</span><span class='hs-layout'>(</span><span class='hs-keyglyph'>..</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-143"></a>        <span class='hs-conid'>CompilerInfo</span><span class='hs-layout'>(</span><span class='hs-keyglyph'>..</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-144"></a>  <span class='hs-layout'>)</span> <span class='hs-keyword'>where</span>
<a name="line-145"></a>
<a name="line-146"></a><span class='hs-cpp'>#include "HsVersions.h"</span>
<a name="line-147"></a>
<a name="line-148"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>Platform</span>
<a name="line-149"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>PlatformConstants</span>
<a name="line-150"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>Module</span>
<a name="line-151"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>PackageConfig</span>
<a name="line-152"></a><span class='hs-keyword'>import</span> <span class='hs-comment'>{-# SOURCE #-}</span> <span class='hs-conid'>Hooks</span>
<a name="line-153"></a><span class='hs-keyword'>import</span> <span class='hs-comment'>{-# SOURCE #-}</span> <span class='hs-conid'>PrelNames</span> <span class='hs-layout'>(</span> <span class='hs-varid'>mAIN</span> <span class='hs-layout'>)</span>
<a name="line-154"></a><span class='hs-keyword'>import</span> <span class='hs-comment'>{-# SOURCE #-}</span> <span class='hs-conid'>Packages</span> <span class='hs-layout'>(</span><span class='hs-conid'>PackageState</span><span class='hs-layout'>)</span>
<a name="line-155"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>DriverPhases</span>     <span class='hs-layout'>(</span> <span class='hs-conid'>Phase</span><span class='hs-layout'>(</span><span class='hs-keyglyph'>..</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span> <span class='hs-varid'>phaseInputExt</span> <span class='hs-layout'>)</span>
<a name="line-156"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>Config</span>
<a name="line-157"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>CmdLineParser</span>
<a name="line-158"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>Constants</span>
<a name="line-159"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>Panic</span>
<a name="line-160"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>Util</span>
<a name="line-161"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>Maybes</span>           <span class='hs-layout'>(</span> <span class='hs-varid'>orElse</span> <span class='hs-layout'>)</span>
<a name="line-162"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>MonadUtils</span>
<a name="line-163"></a><span class='hs-keyword'>import</span> <span class='hs-keyword'>qualified</span> <span class='hs-conid'>Pretty</span>
<a name="line-164"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>SrcLoc</span>
<a name="line-165"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>FastString</span>
<a name="line-166"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>Outputable</span>
<a name="line-167"></a><span class='hs-cpp'>#ifdef GHCI</span>
<a name="line-168"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>Foreign</span><span class='hs-varop'>.</span><span class='hs-conid'>C</span>        <span class='hs-layout'>(</span> <span class='hs-conid'>CInt</span><span class='hs-layout'>(</span><span class='hs-keyglyph'>..</span><span class='hs-layout'>)</span> <span class='hs-layout'>)</span>
<a name="line-169"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>System</span><span class='hs-varop'>.</span><span class='hs-conid'>IO</span><span class='hs-varop'>.</span><span class='hs-conid'>Unsafe</span> <span class='hs-layout'>(</span> <span class='hs-varid'>unsafeDupablePerformIO</span> <span class='hs-layout'>)</span>
<a name="line-170"></a><span class='hs-cpp'>#endif</span>
<a name="line-171"></a><span class='hs-keyword'>import</span> <span class='hs-comment'>{-# SOURCE #-}</span> <span class='hs-conid'>ErrUtils</span> <span class='hs-layout'>(</span> <span class='hs-conid'>Severity</span><span class='hs-layout'>(</span><span class='hs-keyglyph'>..</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span> <span class='hs-conid'>MsgDoc</span><span class='hs-layout'>,</span> <span class='hs-varid'>mkLocMessage</span> <span class='hs-layout'>)</span>
<a name="line-172"></a>
<a name="line-173"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>System</span><span class='hs-varop'>.</span><span class='hs-conid'>IO</span><span class='hs-varop'>.</span><span class='hs-conid'>Unsafe</span> <span class='hs-layout'>(</span> <span class='hs-varid'>unsafePerformIO</span> <span class='hs-layout'>)</span>
<a name="line-174"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>Data</span><span class='hs-varop'>.</span><span class='hs-conid'>IORef</span>
<a name="line-175"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>Control</span><span class='hs-varop'>.</span><span class='hs-conid'>Monad</span>
<a name="line-176"></a>
<a name="line-177"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>Data</span><span class='hs-varop'>.</span><span class='hs-conid'>Bits</span>
<a name="line-178"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>Data</span><span class='hs-varop'>.</span><span class='hs-conid'>Char</span>
<a name="line-179"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>Data</span><span class='hs-varop'>.</span><span class='hs-conid'>Int</span>
<a name="line-180"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>Data</span><span class='hs-varop'>.</span><span class='hs-conid'>List</span>
<a name="line-181"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>Data</span><span class='hs-varop'>.</span><span class='hs-conid'>Map</span> <span class='hs-layout'>(</span><span class='hs-conid'>Map</span><span class='hs-layout'>)</span>
<a name="line-182"></a><span class='hs-keyword'>import</span> <span class='hs-keyword'>qualified</span> <span class='hs-conid'>Data</span><span class='hs-varop'>.</span><span class='hs-conid'>Map</span> <span class='hs-keyword'>as</span> <span class='hs-conid'>Map</span>
<a name="line-183"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>Data</span><span class='hs-varop'>.</span><span class='hs-conid'>Maybe</span>
<a name="line-184"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>Data</span><span class='hs-varop'>.</span><span class='hs-conid'>Set</span> <span class='hs-layout'>(</span><span class='hs-conid'>Set</span><span class='hs-layout'>)</span>
<a name="line-185"></a><span class='hs-keyword'>import</span> <span class='hs-keyword'>qualified</span> <span class='hs-conid'>Data</span><span class='hs-varop'>.</span><span class='hs-conid'>Set</span> <span class='hs-keyword'>as</span> <span class='hs-conid'>Set</span>
<a name="line-186"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>Data</span><span class='hs-varop'>.</span><span class='hs-conid'>Word</span>
<a name="line-187"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>System</span><span class='hs-varop'>.</span><span class='hs-conid'>FilePath</span>
<a name="line-188"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>System</span><span class='hs-varop'>.</span><span class='hs-conid'>IO</span>
<a name="line-189"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>System</span><span class='hs-varop'>.</span><span class='hs-conid'>IO</span><span class='hs-varop'>.</span><span class='hs-conid'>Error</span>
<a name="line-190"></a>
<a name="line-191"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>Data</span><span class='hs-varop'>.</span><span class='hs-conid'>IntSet</span> <span class='hs-layout'>(</span><span class='hs-conid'>IntSet</span><span class='hs-layout'>)</span>
<a name="line-192"></a><span class='hs-keyword'>import</span> <span class='hs-keyword'>qualified</span> <span class='hs-conid'>Data</span><span class='hs-varop'>.</span><span class='hs-conid'>IntSet</span> <span class='hs-keyword'>as</span> <span class='hs-conid'>IntSet</span>
<a name="line-193"></a>
<a name="line-194"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>GHC</span><span class='hs-varop'>.</span><span class='hs-conid'>Foreign</span> <span class='hs-layout'>(</span><span class='hs-varid'>withCString</span><span class='hs-layout'>,</span> <span class='hs-varid'>peekCString</span><span class='hs-layout'>)</span>
<a name="line-195"></a>
<a name="line-196"></a><span class='hs-comment'>-- -----------------------------------------------------------------------------</span>
<a name="line-197"></a><span class='hs-comment'>-- DynFlags</span>
<a name="line-198"></a>
<a name="line-199"></a><a name="DumpFlag"></a><span class='hs-keyword'>data</span> <span class='hs-conid'>DumpFlag</span>
<a name="line-200"></a>
<a name="line-201"></a>   <span class='hs-comment'>-- debugging flags</span>
<a name="line-202"></a>   <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Opt_D_dump_cmm</span>
<a name="line-203"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_D_dump_cmm_raw</span>
<a name="line-204"></a>   <span class='hs-comment'>-- All of the cmm subflags (there are a lot!)  Automatically</span>
<a name="line-205"></a>   <span class='hs-comment'>-- enabled if you run -ddump-cmm</span>
<a name="line-206"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_D_dump_cmm_cfg</span>
<a name="line-207"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_D_dump_cmm_cbe</span>
<a name="line-208"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_D_dump_cmm_proc</span>
<a name="line-209"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_D_dump_cmm_sink</span>
<a name="line-210"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_D_dump_cmm_sp</span>
<a name="line-211"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_D_dump_cmm_procmap</span>
<a name="line-212"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_D_dump_cmm_split</span>
<a name="line-213"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_D_dump_cmm_info</span>
<a name="line-214"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_D_dump_cmm_cps</span>
<a name="line-215"></a>   <span class='hs-comment'>-- end cmm subflags</span>
<a name="line-216"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_D_dump_asm</span>
<a name="line-217"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_D_dump_asm_native</span>
<a name="line-218"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_D_dump_asm_liveness</span>
<a name="line-219"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_D_dump_asm_regalloc</span>
<a name="line-220"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_D_dump_asm_regalloc_stages</span>
<a name="line-221"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_D_dump_asm_conflicts</span>
<a name="line-222"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_D_dump_asm_stats</span>
<a name="line-223"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_D_dump_asm_expanded</span>
<a name="line-224"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_D_dump_llvm</span>
<a name="line-225"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_D_dump_core_stats</span>
<a name="line-226"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_D_dump_deriv</span>
<a name="line-227"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_D_dump_ds</span>
<a name="line-228"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_D_dump_foreign</span>
<a name="line-229"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_D_dump_inlinings</span>
<a name="line-230"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_D_dump_rule_firings</span>
<a name="line-231"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_D_dump_rule_rewrites</span>
<a name="line-232"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_D_dump_simpl_trace</span>
<a name="line-233"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_D_dump_occur_anal</span>
<a name="line-234"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_D_dump_parsed</span>
<a name="line-235"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_D_dump_rn</span>
<a name="line-236"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_D_dump_core_pipeline</span> <span class='hs-comment'>-- TODO FIXME: dump after simplifier stats</span>
<a name="line-237"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_D_dump_simpl</span>
<a name="line-238"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_D_dump_simpl_iterations</span>
<a name="line-239"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_D_dump_simpl_phases</span>
<a name="line-240"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_D_dump_spec</span>
<a name="line-241"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_D_dump_prep</span>
<a name="line-242"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_D_dump_stg</span>
<a name="line-243"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_D_dump_stranal</span>
<a name="line-244"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_D_dump_strsigs</span>
<a name="line-245"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_D_dump_tc</span>
<a name="line-246"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_D_dump_types</span>
<a name="line-247"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_D_dump_rules</span>
<a name="line-248"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_D_dump_cse</span>
<a name="line-249"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_D_dump_worker_wrapper</span>
<a name="line-250"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_D_dump_rn_trace</span>
<a name="line-251"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_D_dump_rn_stats</span>
<a name="line-252"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_D_dump_opt_cmm</span>
<a name="line-253"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_D_dump_simpl_stats</span>
<a name="line-254"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_D_dump_cs_trace</span> <span class='hs-comment'>-- Constraint solver in type checker</span>
<a name="line-255"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_D_dump_tc_trace</span>
<a name="line-256"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_D_dump_if_trace</span>
<a name="line-257"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_D_dump_vt_trace</span>
<a name="line-258"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_D_dump_splices</span>
<a name="line-259"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_D_dump_BCOs</span>
<a name="line-260"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_D_dump_vect</span>
<a name="line-261"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_D_dump_ticked</span>
<a name="line-262"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_D_dump_rtti</span>
<a name="line-263"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_D_source_stats</span>
<a name="line-264"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_D_verbose_stg2stg</span>
<a name="line-265"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_D_dump_hi</span>
<a name="line-266"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_D_dump_hi_diffs</span>
<a name="line-267"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_D_dump_mod_cycles</span>
<a name="line-268"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_D_dump_view_pattern_commoning</span>
<a name="line-269"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_D_verbose_core2core</span>
<a name="line-270"></a>
<a name="line-271"></a>   <span class='hs-keyword'>deriving</span> <span class='hs-layout'>(</span><span class='hs-conid'>Eq</span><span class='hs-layout'>,</span> <span class='hs-conid'>Show</span><span class='hs-layout'>,</span> <span class='hs-conid'>Enum</span><span class='hs-layout'>)</span>
<a name="line-272"></a>
<a name="line-273"></a><a name="GeneralFlag"></a><span class='hs-comment'>-- | Enumerates the simple on-or-off dynamic flags</span>
<a name="line-274"></a><a name="GeneralFlag"></a><span class='hs-keyword'>data</span> <span class='hs-conid'>GeneralFlag</span>
<a name="line-275"></a>
<a name="line-276"></a>   <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Opt_DumpToFile</span>                     <span class='hs-comment'>-- ^ Append dump output to files instead of stdout.</span>
<a name="line-277"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_D_faststring_stats</span>
<a name="line-278"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_D_dump_minimal_imports</span>
<a name="line-279"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_DoCoreLinting</span>
<a name="line-280"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_DoStgLinting</span>
<a name="line-281"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_DoCmmLinting</span>
<a name="line-282"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_DoAsmLinting</span>
<a name="line-283"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_NoLlvmMangler</span>                 <span class='hs-comment'>-- hidden flag</span>
<a name="line-284"></a>
<a name="line-285"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_WarnIsError</span>                    <span class='hs-comment'>-- -Werror; makes warnings fatal</span>
<a name="line-286"></a>
<a name="line-287"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_PrintExplicitForalls</span>
<a name="line-288"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_PrintExplicitKinds</span>
<a name="line-289"></a>
<a name="line-290"></a>   <span class='hs-comment'>-- optimisation opts</span>
<a name="line-291"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_Strictness</span>
<a name="line-292"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_LateDmdAnal</span>
<a name="line-293"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_KillAbsence</span>
<a name="line-294"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_KillOneShot</span>
<a name="line-295"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_FullLaziness</span>
<a name="line-296"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_FloatIn</span>
<a name="line-297"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_Specialise</span>
<a name="line-298"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_StaticArgumentTransformation</span>
<a name="line-299"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_CSE</span>
<a name="line-300"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_LiberateCase</span>
<a name="line-301"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_SpecConstr</span>
<a name="line-302"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_DoLambdaEtaExpansion</span>
<a name="line-303"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_IgnoreAsserts</span>
<a name="line-304"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_DoEtaReduction</span>
<a name="line-305"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_CaseMerge</span>
<a name="line-306"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_UnboxStrictFields</span>
<a name="line-307"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_UnboxSmallStrictFields</span>
<a name="line-308"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_DictsCheap</span>
<a name="line-309"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_EnableRewriteRules</span>             <span class='hs-comment'>-- Apply rewrite rules during simplification</span>
<a name="line-310"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_Vectorise</span>
<a name="line-311"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_VectorisationAvoidance</span>
<a name="line-312"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_RegsGraph</span>                      <span class='hs-comment'>-- do graph coloring register allocation</span>
<a name="line-313"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_RegsIterative</span>                  <span class='hs-comment'>-- do iterative coalescing graph coloring register allocation</span>
<a name="line-314"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_PedanticBottoms</span>                <span class='hs-comment'>-- Be picky about how we treat bottom</span>
<a name="line-315"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_LlvmTBAA</span>                       <span class='hs-comment'>-- Use LLVM TBAA infastructure for improving AA (hidden flag)</span>
<a name="line-316"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_LlvmPassVectorsInRegisters</span>     <span class='hs-comment'>-- Pass SIMD vectors in registers (requires a patched LLVM) (hidden flag)</span>
<a name="line-317"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_IrrefutableTuples</span>
<a name="line-318"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_CmmSink</span>
<a name="line-319"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_CmmElimCommonBlocks</span>
<a name="line-320"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_OmitYields</span>
<a name="line-321"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_SimpleListLiterals</span>
<a name="line-322"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_FunToThunk</span>               <span class='hs-comment'>-- allow WwLib.mkWorkerArgs to remove all value lambdas</span>
<a name="line-323"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_DictsStrict</span>                     <span class='hs-comment'>-- be strict in argument dictionaries</span>
<a name="line-324"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_DmdTxDictSel</span>              <span class='hs-comment'>-- use a special demand transformer for dictionary selectors</span>
<a name="line-325"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_Loopification</span>                  <span class='hs-comment'>-- See Note [Self-recursive tail calls]</span>
<a name="line-326"></a>
<a name="line-327"></a>   <span class='hs-comment'>-- Interface files</span>
<a name="line-328"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_IgnoreInterfacePragmas</span>
<a name="line-329"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_OmitInterfacePragmas</span>
<a name="line-330"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_ExposeAllUnfoldings</span>
<a name="line-331"></a>
<a name="line-332"></a>   <span class='hs-comment'>-- profiling opts</span>
<a name="line-333"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_AutoSccsOnIndividualCafs</span>
<a name="line-334"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_ProfCountEntries</span>
<a name="line-335"></a>
<a name="line-336"></a>   <span class='hs-comment'>-- misc opts</span>
<a name="line-337"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_Pp</span>
<a name="line-338"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_ForceRecomp</span>
<a name="line-339"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_ExcessPrecision</span>
<a name="line-340"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_EagerBlackHoling</span>
<a name="line-341"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_NoHsMain</span>
<a name="line-342"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_SplitObjs</span>
<a name="line-343"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_StgStats</span>
<a name="line-344"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_HideAllPackages</span>
<a name="line-345"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_PrintBindResult</span>
<a name="line-346"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_Haddock</span>
<a name="line-347"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_HaddockOptions</span>
<a name="line-348"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_Hpc_No_Auto</span>
<a name="line-349"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_BreakOnException</span>
<a name="line-350"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_BreakOnError</span>
<a name="line-351"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_PrintEvldWithShow</span>
<a name="line-352"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_PrintBindContents</span>
<a name="line-353"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_GenManifest</span>
<a name="line-354"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_EmbedManifest</span>
<a name="line-355"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_EmitExternalCore</span>
<a name="line-356"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_SharedImplib</span>
<a name="line-357"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_BuildingCabalPackage</span>
<a name="line-358"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_IgnoreDotGhci</span>
<a name="line-359"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_GhciSandbox</span>
<a name="line-360"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_GhciHistory</span>
<a name="line-361"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_HelpfulErrors</span>
<a name="line-362"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_DeferTypeErrors</span>
<a name="line-363"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_Parallel</span>
<a name="line-364"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_GranMacros</span>
<a name="line-365"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_PIC</span>
<a name="line-366"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_SccProfilingOn</span>
<a name="line-367"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_Ticky</span>
<a name="line-368"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_Ticky_Allocd</span>
<a name="line-369"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_Ticky_LNE</span>
<a name="line-370"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_Ticky_Dyn_Thunk</span>
<a name="line-371"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_Static</span>
<a name="line-372"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_RPath</span>
<a name="line-373"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_RelativeDynlibPaths</span>
<a name="line-374"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_Hpc</span>
<a name="line-375"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_FlatCache</span>
<a name="line-376"></a>
<a name="line-377"></a>   <span class='hs-comment'>-- PreInlining is on by default. The option is there just to see how</span>
<a name="line-378"></a>   <span class='hs-comment'>-- bad things get if you turn it off!</span>
<a name="line-379"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_SimplPreInlining</span>
<a name="line-380"></a>
<a name="line-381"></a>   <span class='hs-comment'>-- output style opts</span>
<a name="line-382"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_ErrorSpans</span> <span class='hs-comment'>-- Include full span info in error messages,</span>
<a name="line-383"></a>                    <span class='hs-comment'>-- instead of just the start position.</span>
<a name="line-384"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_PprCaseAsLet</span>
<a name="line-385"></a>
<a name="line-386"></a>   <span class='hs-comment'>-- Suppress all coercions, them replacing with '...'</span>
<a name="line-387"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_SuppressCoercions</span>
<a name="line-388"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_SuppressVarKinds</span>
<a name="line-389"></a>   <span class='hs-comment'>-- Suppress module id prefixes on variables.</span>
<a name="line-390"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_SuppressModulePrefixes</span>
<a name="line-391"></a>   <span class='hs-comment'>-- Suppress type applications.</span>
<a name="line-392"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_SuppressTypeApplications</span>
<a name="line-393"></a>   <span class='hs-comment'>-- Suppress info such as arity and unfoldings on identifiers.</span>
<a name="line-394"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_SuppressIdInfo</span>
<a name="line-395"></a>   <span class='hs-comment'>-- Suppress separate type signatures in core, but leave types on</span>
<a name="line-396"></a>   <span class='hs-comment'>-- lambda bound vars</span>
<a name="line-397"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_SuppressTypeSignatures</span>
<a name="line-398"></a>   <span class='hs-comment'>-- Suppress unique ids on variables.</span>
<a name="line-399"></a>   <span class='hs-comment'>-- Except for uniques, as some simplifier phases introduce new</span>
<a name="line-400"></a>   <span class='hs-comment'>-- variables that have otherwise identical names.</span>
<a name="line-401"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_SuppressUniques</span>
<a name="line-402"></a>
<a name="line-403"></a>   <span class='hs-comment'>-- temporary flags</span>
<a name="line-404"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_RunCPS</span>
<a name="line-405"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_RunCPSZ</span>
<a name="line-406"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_AutoLinkPackages</span>
<a name="line-407"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_ImplicitImportQualified</span>
<a name="line-408"></a>
<a name="line-409"></a>   <span class='hs-comment'>-- keeping stuff</span>
<a name="line-410"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_KeepHiDiffs</span>
<a name="line-411"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_KeepHcFiles</span>
<a name="line-412"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_KeepSFiles</span>
<a name="line-413"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_KeepTmpFiles</span>
<a name="line-414"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_KeepRawTokenStream</span>
<a name="line-415"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_KeepLlvmFiles</span>
<a name="line-416"></a>
<a name="line-417"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_BuildDynamicToo</span>
<a name="line-418"></a>
<a name="line-419"></a>   <span class='hs-comment'>-- safe haskell flags</span>
<a name="line-420"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_DistrustAllPackages</span>
<a name="line-421"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_PackageTrust</span>
<a name="line-422"></a>
<a name="line-423"></a>   <span class='hs-keyword'>deriving</span> <span class='hs-layout'>(</span><span class='hs-conid'>Eq</span><span class='hs-layout'>,</span> <span class='hs-conid'>Show</span><span class='hs-layout'>,</span> <span class='hs-conid'>Enum</span><span class='hs-layout'>)</span>
<a name="line-424"></a>
<a name="line-425"></a><a name="WarningFlag"></a><span class='hs-keyword'>data</span> <span class='hs-conid'>WarningFlag</span> <span class='hs-keyglyph'>=</span>
<a name="line-426"></a>     <span class='hs-conid'>Opt_WarnDuplicateExports</span>
<a name="line-427"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_WarnDuplicateConstraints</span>
<a name="line-428"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_WarnHiShadows</span>
<a name="line-429"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_WarnImplicitPrelude</span>
<a name="line-430"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_WarnIncompletePatterns</span>
<a name="line-431"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_WarnIncompleteUniPatterns</span>
<a name="line-432"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_WarnIncompletePatternsRecUpd</span>
<a name="line-433"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_WarnOverflowedLiterals</span>
<a name="line-434"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_WarnEmptyEnumerations</span>
<a name="line-435"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_WarnMissingFields</span>
<a name="line-436"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_WarnMissingImportList</span>
<a name="line-437"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_WarnMissingMethods</span>
<a name="line-438"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_WarnMissingSigs</span>
<a name="line-439"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_WarnMissingLocalSigs</span>
<a name="line-440"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_WarnNameShadowing</span>
<a name="line-441"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_WarnOverlappingPatterns</span>
<a name="line-442"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_WarnTypeDefaults</span>
<a name="line-443"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_WarnMonomorphism</span>
<a name="line-444"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_WarnUnusedBinds</span>
<a name="line-445"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_WarnUnusedImports</span>
<a name="line-446"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_WarnUnusedMatches</span>
<a name="line-447"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_WarnWarningsDeprecations</span>
<a name="line-448"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_WarnDeprecatedFlags</span>
<a name="line-449"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_WarnAMP</span>
<a name="line-450"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_WarnDodgyExports</span>
<a name="line-451"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_WarnDodgyImports</span>
<a name="line-452"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_WarnOrphans</span>
<a name="line-453"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_WarnAutoOrphans</span>
<a name="line-454"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_WarnIdentities</span>
<a name="line-455"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_WarnTabs</span>
<a name="line-456"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_WarnUnrecognisedPragmas</span>
<a name="line-457"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_WarnDodgyForeignImports</span>
<a name="line-458"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_WarnLazyUnliftedBindings</span>
<a name="line-459"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_WarnUnusedDoBind</span>
<a name="line-460"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_WarnWrongDoBind</span>
<a name="line-461"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_WarnAlternativeLayoutRuleTransitional</span>
<a name="line-462"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_WarnUnsafe</span>
<a name="line-463"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_WarnSafe</span>
<a name="line-464"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_WarnPointlessPragmas</span>
<a name="line-465"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_WarnUnsupportedCallingConventions</span>
<a name="line-466"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_WarnUnsupportedLlvmVersion</span>
<a name="line-467"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_WarnInlineRuleShadowing</span>
<a name="line-468"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_WarnTypedHoles</span>
<a name="line-469"></a>   <span class='hs-keyword'>deriving</span> <span class='hs-layout'>(</span><span class='hs-conid'>Eq</span><span class='hs-layout'>,</span> <span class='hs-conid'>Show</span><span class='hs-layout'>,</span> <span class='hs-conid'>Enum</span><span class='hs-layout'>)</span>
<a name="line-470"></a>
<a name="line-471"></a><a name="Language"></a><span class='hs-keyword'>data</span> <span class='hs-conid'>Language</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Haskell98</span> <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Haskell2010</span>
<a name="line-472"></a>   <span class='hs-keyword'>deriving</span> <span class='hs-conid'>Enum</span>
<a name="line-473"></a>
<a name="line-474"></a><a name="SafeHaskellMode"></a><span class='hs-comment'>-- | The various Safe Haskell modes</span>
<a name="line-475"></a><a name="SafeHaskellMode"></a><span class='hs-keyword'>data</span> <span class='hs-conid'>SafeHaskellMode</span>
<a name="line-476"></a>   <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Sf_None</span>
<a name="line-477"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Sf_Unsafe</span>
<a name="line-478"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Sf_Trustworthy</span>
<a name="line-479"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Sf_Safe</span>
<a name="line-480"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Sf_SafeInferred</span>
<a name="line-481"></a>   <span class='hs-keyword'>deriving</span> <span class='hs-layout'>(</span><span class='hs-conid'>Eq</span><span class='hs-layout'>)</span>
<a name="line-482"></a>
<a name="line-483"></a><span class='hs-keyword'>instance</span> <span class='hs-conid'>Show</span> <span class='hs-conid'>SafeHaskellMode</span> <span class='hs-keyword'>where</span>
<a name="line-484"></a>    <span class='hs-varid'>show</span> <span class='hs-conid'>Sf_None</span>         <span class='hs-keyglyph'>=</span> <span class='hs-str'>"None"</span>
<a name="line-485"></a>    <span class='hs-varid'>show</span> <span class='hs-conid'>Sf_Unsafe</span>       <span class='hs-keyglyph'>=</span> <span class='hs-str'>"Unsafe"</span>
<a name="line-486"></a>    <span class='hs-varid'>show</span> <span class='hs-conid'>Sf_Trustworthy</span>  <span class='hs-keyglyph'>=</span> <span class='hs-str'>"Trustworthy"</span>
<a name="line-487"></a>    <span class='hs-varid'>show</span> <span class='hs-conid'>Sf_Safe</span>         <span class='hs-keyglyph'>=</span> <span class='hs-str'>"Safe"</span>
<a name="line-488"></a>    <span class='hs-varid'>show</span> <span class='hs-conid'>Sf_SafeInferred</span> <span class='hs-keyglyph'>=</span> <span class='hs-str'>"Safe-Inferred"</span>
<a name="line-489"></a>
<a name="line-490"></a><span class='hs-keyword'>instance</span> <span class='hs-conid'>Outputable</span> <span class='hs-conid'>SafeHaskellMode</span> <span class='hs-keyword'>where</span>
<a name="line-491"></a>    <span class='hs-varid'>ppr</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>text</span> <span class='hs-varop'>.</span> <span class='hs-varid'>show</span>
<a name="line-492"></a>
<a name="line-493"></a><a name="ExtensionFlag"></a><span class='hs-keyword'>data</span> <span class='hs-conid'>ExtensionFlag</span>
<a name="line-494"></a>   <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Opt_Cpp</span>
<a name="line-495"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_OverlappingInstances</span>
<a name="line-496"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_UndecidableInstances</span>
<a name="line-497"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_IncoherentInstances</span>
<a name="line-498"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_MonomorphismRestriction</span>
<a name="line-499"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_MonoPatBinds</span>
<a name="line-500"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_MonoLocalBinds</span>
<a name="line-501"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_RelaxedPolyRec</span>           <span class='hs-comment'>-- Deprecated</span>
<a name="line-502"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_ExtendedDefaultRules</span>     <span class='hs-comment'>-- Use GHC's extended rules for defaulting</span>
<a name="line-503"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_ForeignFunctionInterface</span>
<a name="line-504"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_UnliftedFFITypes</span>
<a name="line-505"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_InterruptibleFFI</span>
<a name="line-506"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_CApiFFI</span>
<a name="line-507"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_GHCForeignImportPrim</span>
<a name="line-508"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_JavaScriptFFI</span>
<a name="line-509"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_ParallelArrays</span>           <span class='hs-comment'>-- Syntactic support for parallel arrays</span>
<a name="line-510"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_Arrows</span>                   <span class='hs-comment'>-- Arrow-notation syntax</span>
<a name="line-511"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_TemplateHaskell</span>
<a name="line-512"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_QuasiQuotes</span>
<a name="line-513"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_ImplicitParams</span>
<a name="line-514"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_ImplicitPrelude</span>
<a name="line-515"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_ScopedTypeVariables</span>
<a name="line-516"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_AllowAmbiguousTypes</span>
<a name="line-517"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_UnboxedTuples</span>
<a name="line-518"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_BangPatterns</span>
<a name="line-519"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_TypeFamilies</span>
<a name="line-520"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_OverloadedStrings</span>
<a name="line-521"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_OverloadedLists</span>
<a name="line-522"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_NumDecimals</span>
<a name="line-523"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_DisambiguateRecordFields</span>
<a name="line-524"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_RecordWildCards</span>
<a name="line-525"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_RecordPuns</span>
<a name="line-526"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_ViewPatterns</span>
<a name="line-527"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_GADTs</span>
<a name="line-528"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_GADTSyntax</span>
<a name="line-529"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_NPlusKPatterns</span>
<a name="line-530"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_DoAndIfThenElse</span>
<a name="line-531"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_RebindableSyntax</span>
<a name="line-532"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_ConstraintKinds</span>
<a name="line-533"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_PolyKinds</span>                <span class='hs-comment'>-- Kind polymorphism</span>
<a name="line-534"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_DataKinds</span>                <span class='hs-comment'>-- Datatype promotion</span>
<a name="line-535"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_InstanceSigs</span>
<a name="line-536"></a>
<a name="line-537"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_StandaloneDeriving</span>
<a name="line-538"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_DeriveDataTypeable</span>
<a name="line-539"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_AutoDeriveTypeable</span>       <span class='hs-comment'>-- Automatic derivation of Typeable</span>
<a name="line-540"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_DeriveFunctor</span>
<a name="line-541"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_DeriveTraversable</span>
<a name="line-542"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_DeriveFoldable</span>
<a name="line-543"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_DeriveGeneric</span>            <span class='hs-comment'>-- Allow deriving Generic/1</span>
<a name="line-544"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_DefaultSignatures</span>        <span class='hs-comment'>-- Allow extra signatures for defmeths</span>
<a name="line-545"></a>
<a name="line-546"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_TypeSynonymInstances</span>
<a name="line-547"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_FlexibleContexts</span>
<a name="line-548"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_FlexibleInstances</span>
<a name="line-549"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_ConstrainedClassMethods</span>
<a name="line-550"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_MultiParamTypeClasses</span>
<a name="line-551"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_NullaryTypeClasses</span>
<a name="line-552"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_FunctionalDependencies</span>
<a name="line-553"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_UnicodeSyntax</span>
<a name="line-554"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_ExistentialQuantification</span>
<a name="line-555"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_MagicHash</span>
<a name="line-556"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_EmptyDataDecls</span>
<a name="line-557"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_KindSignatures</span>
<a name="line-558"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_RoleAnnotations</span>
<a name="line-559"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_ParallelListComp</span>
<a name="line-560"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_TransformListComp</span>
<a name="line-561"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_MonadComprehensions</span>
<a name="line-562"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_GeneralizedNewtypeDeriving</span>
<a name="line-563"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_RecursiveDo</span>
<a name="line-564"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_PostfixOperators</span>
<a name="line-565"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_TupleSections</span>
<a name="line-566"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_PatternGuards</span>
<a name="line-567"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_LiberalTypeSynonyms</span>
<a name="line-568"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_RankNTypes</span>
<a name="line-569"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_ImpredicativeTypes</span>
<a name="line-570"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_TypeOperators</span>
<a name="line-571"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_ExplicitNamespaces</span>
<a name="line-572"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_PackageImports</span>
<a name="line-573"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_ExplicitForAll</span>
<a name="line-574"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_AlternativeLayoutRule</span>
<a name="line-575"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_AlternativeLayoutRuleTransitional</span>
<a name="line-576"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_DatatypeContexts</span>
<a name="line-577"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_NondecreasingIndentation</span>
<a name="line-578"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_RelaxedLayout</span>
<a name="line-579"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_TraditionalRecordSyntax</span>
<a name="line-580"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_LambdaCase</span>
<a name="line-581"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_MultiWayIf</span>
<a name="line-582"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_NegativeLiterals</span>
<a name="line-583"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_EmptyCase</span>
<a name="line-584"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Opt_PatternSynonyms</span>
<a name="line-585"></a>   <span class='hs-keyword'>deriving</span> <span class='hs-layout'>(</span><span class='hs-conid'>Eq</span><span class='hs-layout'>,</span> <span class='hs-conid'>Enum</span><span class='hs-layout'>,</span> <span class='hs-conid'>Show</span><span class='hs-layout'>)</span>
<a name="line-586"></a>
<a name="line-587"></a><a name="DynFlags"></a><span class='hs-comment'>-- | Contains not only a collection of 'GeneralFlag's but also a plethora of</span>
<a name="line-588"></a><a name="DynFlags"></a><span class='hs-comment'>-- information relating to the compilation of a single file or GHC session</span>
<a name="line-589"></a><a name="DynFlags"></a><span class='hs-keyword'>data</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>DynFlags</span> <span class='hs-layout'>{</span>
<a name="line-590"></a>  <span class='hs-varid'>ghcMode</span>               <span class='hs-keyglyph'>::</span> <span class='hs-conid'>GhcMode</span><span class='hs-layout'>,</span>
<a name="line-591"></a>  <span class='hs-varid'>ghcLink</span>               <span class='hs-keyglyph'>::</span> <span class='hs-conid'>GhcLink</span><span class='hs-layout'>,</span>
<a name="line-592"></a>  <span class='hs-varid'>hscTarget</span>             <span class='hs-keyglyph'>::</span> <span class='hs-conid'>HscTarget</span><span class='hs-layout'>,</span>
<a name="line-593"></a>  <span class='hs-varid'>settings</span>              <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Settings</span><span class='hs-layout'>,</span>
<a name="line-594"></a>  <span class='hs-varid'>verbosity</span>             <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Int</span><span class='hs-layout'>,</span>         <span class='hs-comment'>-- ^ Verbosity level: see Note [Verbosity levels]</span>
<a name="line-595"></a>  <span class='hs-varid'>optLevel</span>              <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Int</span><span class='hs-layout'>,</span>         <span class='hs-comment'>-- ^ Optimisation level</span>
<a name="line-596"></a>  <span class='hs-varid'>simplPhases</span>           <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Int</span><span class='hs-layout'>,</span>         <span class='hs-comment'>-- ^ Number of simplifier phases</span>
<a name="line-597"></a>  <span class='hs-varid'>maxSimplIterations</span>    <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Int</span><span class='hs-layout'>,</span>         <span class='hs-comment'>-- ^ Max simplifier iterations</span>
<a name="line-598"></a>  <span class='hs-varid'>shouldDumpSimplPhase</span>  <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Maybe</span> <span class='hs-conid'>String</span><span class='hs-layout'>,</span>
<a name="line-599"></a>  <span class='hs-varid'>ruleCheck</span>             <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Maybe</span> <span class='hs-conid'>String</span><span class='hs-layout'>,</span>
<a name="line-600"></a>  <span class='hs-varid'>strictnessBefore</span>      <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>Int</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span>       <span class='hs-comment'>-- ^ Additional demand analysis</span>
<a name="line-601"></a>
<a name="line-602"></a>  <span class='hs-varid'>parMakeCount</span>          <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Maybe</span> <span class='hs-conid'>Int</span><span class='hs-layout'>,</span>   <span class='hs-comment'>-- ^ The number of modules to compile in parallel</span>
<a name="line-603"></a>                                        <span class='hs-comment'>--   in --make mode, where Nothing ==&gt; compile as</span>
<a name="line-604"></a>                                        <span class='hs-comment'>--   many in parallel as there are CPUs.</span>
<a name="line-605"></a>
<a name="line-606"></a>  <span class='hs-varid'>enableTimeStats</span>       <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Bool</span><span class='hs-layout'>,</span>        <span class='hs-comment'>-- ^ Enable RTS timing statistics?</span>
<a name="line-607"></a>  <span class='hs-varid'>ghcHeapSize</span>           <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Maybe</span> <span class='hs-conid'>Int</span><span class='hs-layout'>,</span>   <span class='hs-comment'>-- ^ The heap size to set.</span>
<a name="line-608"></a>
<a name="line-609"></a>  <span class='hs-varid'>maxRelevantBinds</span>      <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Maybe</span> <span class='hs-conid'>Int</span><span class='hs-layout'>,</span>   <span class='hs-comment'>-- ^ Maximum number of bindings from the type envt</span>
<a name="line-610"></a>                                        <span class='hs-comment'>--   to show in type error messages</span>
<a name="line-611"></a>  <span class='hs-varid'>simplTickFactor</span>       <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Int</span><span class='hs-layout'>,</span>         <span class='hs-comment'>-- ^ Multiplier for simplifier ticks</span>
<a name="line-612"></a>  <span class='hs-varid'>specConstrThreshold</span>   <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Maybe</span> <span class='hs-conid'>Int</span><span class='hs-layout'>,</span>   <span class='hs-comment'>-- ^ Threshold for SpecConstr</span>
<a name="line-613"></a>  <span class='hs-varid'>specConstrCount</span>       <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Maybe</span> <span class='hs-conid'>Int</span><span class='hs-layout'>,</span>   <span class='hs-comment'>-- ^ Max number of specialisations for any one function</span>
<a name="line-614"></a>  <span class='hs-varid'>specConstrRecursive</span>   <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Int</span><span class='hs-layout'>,</span>         <span class='hs-comment'>-- ^ Max number of specialisations for recursive types</span>
<a name="line-615"></a>                                        <span class='hs-comment'>--   Not optional; otherwise ForceSpecConstr can diverge.</span>
<a name="line-616"></a>  <span class='hs-varid'>liberateCaseThreshold</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Maybe</span> <span class='hs-conid'>Int</span><span class='hs-layout'>,</span>   <span class='hs-comment'>-- ^ Threshold for LiberateCase</span>
<a name="line-617"></a>  <span class='hs-varid'>floatLamArgs</span>          <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Maybe</span> <span class='hs-conid'>Int</span><span class='hs-layout'>,</span>   <span class='hs-comment'>-- ^ Arg count for lambda floating</span>
<a name="line-618"></a>                                        <span class='hs-comment'>--   See CoreMonad.FloatOutSwitches</span>
<a name="line-619"></a>
<a name="line-620"></a>  <span class='hs-varid'>historySize</span>           <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Int</span><span class='hs-layout'>,</span>
<a name="line-621"></a>
<a name="line-622"></a>  <span class='hs-varid'>cmdlineHcIncludes</span>     <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>String</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span>    <span class='hs-comment'>-- ^ @\-\#includes@</span>
<a name="line-623"></a>  <span class='hs-varid'>importPaths</span>           <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>FilePath</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span>
<a name="line-624"></a>  <span class='hs-varid'>mainModIs</span>             <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Module</span><span class='hs-layout'>,</span>
<a name="line-625"></a>  <span class='hs-varid'>mainFunIs</span>             <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Maybe</span> <span class='hs-conid'>String</span><span class='hs-layout'>,</span>
<a name="line-626"></a>  <span class='hs-varid'>ctxtStkDepth</span>          <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Int</span><span class='hs-layout'>,</span>         <span class='hs-comment'>-- ^ Typechecker context stack depth</span>
<a name="line-627"></a>  <span class='hs-varid'>tyFunStkDepth</span>         <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Int</span><span class='hs-layout'>,</span>         <span class='hs-comment'>-- ^ Typechecker type function stack depth</span>
<a name="line-628"></a>
<a name="line-629"></a>  <span class='hs-varid'>thisPackage</span>           <span class='hs-keyglyph'>::</span> <span class='hs-conid'>PackageId</span><span class='hs-layout'>,</span>   <span class='hs-comment'>-- ^ name of package currently being compiled</span>
<a name="line-630"></a>
<a name="line-631"></a>  <span class='hs-comment'>-- ways</span>
<a name="line-632"></a>  <span class='hs-varid'>ways</span>                  <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>Way</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span>       <span class='hs-comment'>-- ^ Way flags from the command line</span>
<a name="line-633"></a>  <span class='hs-varid'>buildTag</span>              <span class='hs-keyglyph'>::</span> <span class='hs-conid'>String</span><span class='hs-layout'>,</span>      <span class='hs-comment'>-- ^ The global \"way\" (e.g. \"p\" for prof)</span>
<a name="line-634"></a>  <span class='hs-varid'>rtsBuildTag</span>           <span class='hs-keyglyph'>::</span> <span class='hs-conid'>String</span><span class='hs-layout'>,</span>      <span class='hs-comment'>-- ^ The RTS \"way\"</span>
<a name="line-635"></a>
<a name="line-636"></a>  <span class='hs-comment'>-- For object splitting</span>
<a name="line-637"></a>  <span class='hs-varid'>splitInfo</span>             <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Maybe</span> <span class='hs-layout'>(</span><span class='hs-conid'>String</span><span class='hs-layout'>,</span><span class='hs-conid'>Int</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-638"></a>
<a name="line-639"></a>  <span class='hs-comment'>-- paths etc.</span>
<a name="line-640"></a>  <span class='hs-varid'>objectDir</span>             <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Maybe</span> <span class='hs-conid'>String</span><span class='hs-layout'>,</span>
<a name="line-641"></a>  <span class='hs-varid'>dylibInstallName</span>      <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Maybe</span> <span class='hs-conid'>String</span><span class='hs-layout'>,</span>
<a name="line-642"></a>  <span class='hs-varid'>hiDir</span>                 <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Maybe</span> <span class='hs-conid'>String</span><span class='hs-layout'>,</span>
<a name="line-643"></a>  <span class='hs-varid'>stubDir</span>               <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Maybe</span> <span class='hs-conid'>String</span><span class='hs-layout'>,</span>
<a name="line-644"></a>  <span class='hs-varid'>dumpDir</span>               <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Maybe</span> <span class='hs-conid'>String</span><span class='hs-layout'>,</span>
<a name="line-645"></a>
<a name="line-646"></a>  <span class='hs-varid'>objectSuf</span>             <span class='hs-keyglyph'>::</span> <span class='hs-conid'>String</span><span class='hs-layout'>,</span>
<a name="line-647"></a>  <span class='hs-varid'>hcSuf</span>                 <span class='hs-keyglyph'>::</span> <span class='hs-conid'>String</span><span class='hs-layout'>,</span>
<a name="line-648"></a>  <span class='hs-varid'>hiSuf</span>                 <span class='hs-keyglyph'>::</span> <span class='hs-conid'>String</span><span class='hs-layout'>,</span>
<a name="line-649"></a>
<a name="line-650"></a>  <span class='hs-varid'>canGenerateDynamicToo</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>IORef</span> <span class='hs-conid'>Bool</span><span class='hs-layout'>,</span>
<a name="line-651"></a>  <span class='hs-varid'>dynObjectSuf</span>          <span class='hs-keyglyph'>::</span> <span class='hs-conid'>String</span><span class='hs-layout'>,</span>
<a name="line-652"></a>  <span class='hs-varid'>dynHiSuf</span>              <span class='hs-keyglyph'>::</span> <span class='hs-conid'>String</span><span class='hs-layout'>,</span>
<a name="line-653"></a>
<a name="line-654"></a>  <span class='hs-comment'>-- Packages.isDllName needs to know whether a call is within a</span>
<a name="line-655"></a>  <span class='hs-comment'>-- single DLL or not. Normally it does this by seeing if the call</span>
<a name="line-656"></a>  <span class='hs-comment'>-- is to the same package, but for the ghc package, we split the</span>
<a name="line-657"></a>  <span class='hs-comment'>-- package between 2 DLLs. The dllSplit tells us which sets of</span>
<a name="line-658"></a>  <span class='hs-comment'>-- modules are in which package.</span>
<a name="line-659"></a>  <span class='hs-varid'>dllSplitFile</span>          <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Maybe</span> <span class='hs-conid'>FilePath</span><span class='hs-layout'>,</span>
<a name="line-660"></a>  <span class='hs-varid'>dllSplit</span>              <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Maybe</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>Set</span> <span class='hs-conid'>String</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span>
<a name="line-661"></a>
<a name="line-662"></a>  <span class='hs-varid'>outputFile</span>            <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Maybe</span> <span class='hs-conid'>String</span><span class='hs-layout'>,</span>
<a name="line-663"></a>  <span class='hs-varid'>dynOutputFile</span>         <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Maybe</span> <span class='hs-conid'>String</span><span class='hs-layout'>,</span>
<a name="line-664"></a>  <span class='hs-varid'>outputHi</span>              <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Maybe</span> <span class='hs-conid'>String</span><span class='hs-layout'>,</span>
<a name="line-665"></a>  <span class='hs-varid'>dynLibLoader</span>          <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynLibLoader</span><span class='hs-layout'>,</span>
<a name="line-666"></a>
<a name="line-667"></a>  <span class='hs-comment'>-- | This is set by 'DriverPipeline.runPipeline' based on where</span>
<a name="line-668"></a>  <span class='hs-comment'>--    its output is going.</span>
<a name="line-669"></a>  <span class='hs-varid'>dumpPrefix</span>            <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Maybe</span> <span class='hs-conid'>FilePath</span><span class='hs-layout'>,</span>
<a name="line-670"></a>
<a name="line-671"></a>  <span class='hs-comment'>-- | Override the 'dumpPrefix' set by 'DriverPipeline.runPipeline'.</span>
<a name="line-672"></a>  <span class='hs-comment'>--    Set by @-ddump-file-prefix@</span>
<a name="line-673"></a>  <span class='hs-varid'>dumpPrefixForce</span>       <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Maybe</span> <span class='hs-conid'>FilePath</span><span class='hs-layout'>,</span>
<a name="line-674"></a>
<a name="line-675"></a>  <span class='hs-varid'>ldInputs</span>              <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>Option</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span>
<a name="line-676"></a>
<a name="line-677"></a>  <span class='hs-varid'>includePaths</span>          <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>String</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span>
<a name="line-678"></a>  <span class='hs-varid'>libraryPaths</span>          <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>String</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span>
<a name="line-679"></a>  <span class='hs-varid'>frameworkPaths</span>        <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>String</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span>    <span class='hs-comment'>-- used on darwin only</span>
<a name="line-680"></a>  <span class='hs-varid'>cmdlineFrameworks</span>     <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>String</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span>    <span class='hs-comment'>-- ditto</span>
<a name="line-681"></a>
<a name="line-682"></a>  <span class='hs-varid'>rtsOpts</span>               <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Maybe</span> <span class='hs-conid'>String</span><span class='hs-layout'>,</span>
<a name="line-683"></a>  <span class='hs-varid'>rtsOptsEnabled</span>        <span class='hs-keyglyph'>::</span> <span class='hs-conid'>RtsOptsEnabled</span><span class='hs-layout'>,</span>
<a name="line-684"></a>
<a name="line-685"></a>  <span class='hs-varid'>hpcDir</span>                <span class='hs-keyglyph'>::</span> <span class='hs-conid'>String</span><span class='hs-layout'>,</span>      <span class='hs-comment'>-- ^ Path to store the .mix files</span>
<a name="line-686"></a>
<a name="line-687"></a>  <span class='hs-comment'>-- Plugins</span>
<a name="line-688"></a>  <span class='hs-varid'>pluginModNames</span>        <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>ModuleName</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span>
<a name="line-689"></a>  <span class='hs-varid'>pluginModNameOpts</span>     <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-layout'>(</span><span class='hs-conid'>ModuleName</span><span class='hs-layout'>,</span><span class='hs-conid'>String</span><span class='hs-layout'>)</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span>
<a name="line-690"></a>
<a name="line-691"></a>  <span class='hs-comment'>-- GHC API hooks</span>
<a name="line-692"></a>  <span class='hs-varid'>hooks</span>                 <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Hooks</span><span class='hs-layout'>,</span>
<a name="line-693"></a>
<a name="line-694"></a>  <span class='hs-comment'>--  For ghc -M</span>
<a name="line-695"></a>  <span class='hs-varid'>depMakefile</span>           <span class='hs-keyglyph'>::</span> <span class='hs-conid'>FilePath</span><span class='hs-layout'>,</span>
<a name="line-696"></a>  <span class='hs-varid'>depIncludePkgDeps</span>     <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Bool</span><span class='hs-layout'>,</span>
<a name="line-697"></a>  <span class='hs-varid'>depExcludeMods</span>        <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>ModuleName</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span>
<a name="line-698"></a>  <span class='hs-varid'>depSuffixes</span>           <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>String</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span>
<a name="line-699"></a>
<a name="line-700"></a>  <span class='hs-comment'>--  Package flags</span>
<a name="line-701"></a>  <span class='hs-varid'>extraPkgConfs</span>         <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>PkgConfRef</span><span class='hs-keyglyph'>]</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>PkgConfRef</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span>
<a name="line-702"></a>        <span class='hs-comment'>-- ^ The @-package-db@ flags given on the command line, in the order</span>
<a name="line-703"></a>        <span class='hs-comment'>-- they appeared.</span>
<a name="line-704"></a>
<a name="line-705"></a>  <span class='hs-varid'>packageFlags</span>          <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>PackageFlag</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span>
<a name="line-706"></a>        <span class='hs-comment'>-- ^ The @-package@ and @-hide-package@ flags from the command-line</span>
<a name="line-707"></a>
<a name="line-708"></a>  <span class='hs-comment'>-- Package state</span>
<a name="line-709"></a>  <span class='hs-comment'>-- NB. do not modify this field, it is calculated by</span>
<a name="line-710"></a>  <span class='hs-comment'>-- Packages.initPackages and Packages.updatePackages.</span>
<a name="line-711"></a>  <span class='hs-varid'>pkgDatabase</span>           <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Maybe</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>PackageConfig</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span>
<a name="line-712"></a>  <span class='hs-varid'>pkgState</span>              <span class='hs-keyglyph'>::</span> <span class='hs-conid'>PackageState</span><span class='hs-layout'>,</span>
<a name="line-713"></a>
<a name="line-714"></a>  <span class='hs-comment'>-- Temporary files</span>
<a name="line-715"></a>  <span class='hs-comment'>-- These have to be IORefs, because the defaultCleanupHandler needs to</span>
<a name="line-716"></a>  <span class='hs-comment'>-- know what to clean when an exception happens</span>
<a name="line-717"></a>  <span class='hs-varid'>filesToClean</span>          <span class='hs-keyglyph'>::</span> <span class='hs-conid'>IORef</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>FilePath</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span>
<a name="line-718"></a>  <span class='hs-varid'>dirsToClean</span>           <span class='hs-keyglyph'>::</span> <span class='hs-conid'>IORef</span> <span class='hs-layout'>(</span><span class='hs-conid'>Map</span> <span class='hs-conid'>FilePath</span> <span class='hs-conid'>FilePath</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-719"></a>  <span class='hs-varid'>filesToNotIntermediateClean</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>IORef</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>FilePath</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span>
<a name="line-720"></a>  <span class='hs-comment'>-- The next available suffix to uniquely name a temp file, updated atomically</span>
<a name="line-721"></a>  <span class='hs-varid'>nextTempSuffix</span>        <span class='hs-keyglyph'>::</span> <span class='hs-conid'>IORef</span> <span class='hs-conid'>Int</span><span class='hs-layout'>,</span>
<a name="line-722"></a>
<a name="line-723"></a>  <span class='hs-comment'>-- Names of files which were generated from -ddump-to-file; used to</span>
<a name="line-724"></a>  <span class='hs-comment'>-- track which ones we need to truncate because it's our first run</span>
<a name="line-725"></a>  <span class='hs-comment'>-- through</span>
<a name="line-726"></a>  <span class='hs-varid'>generatedDumps</span>        <span class='hs-keyglyph'>::</span> <span class='hs-conid'>IORef</span> <span class='hs-layout'>(</span><span class='hs-conid'>Set</span> <span class='hs-conid'>FilePath</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-727"></a>
<a name="line-728"></a>  <span class='hs-comment'>-- hsc dynamic flags</span>
<a name="line-729"></a>  <span class='hs-varid'>dumpFlags</span>             <span class='hs-keyglyph'>::</span> <span class='hs-conid'>IntSet</span><span class='hs-layout'>,</span>
<a name="line-730"></a>  <span class='hs-varid'>generalFlags</span>          <span class='hs-keyglyph'>::</span> <span class='hs-conid'>IntSet</span><span class='hs-layout'>,</span>
<a name="line-731"></a>  <span class='hs-varid'>warningFlags</span>          <span class='hs-keyglyph'>::</span> <span class='hs-conid'>IntSet</span><span class='hs-layout'>,</span>
<a name="line-732"></a>  <span class='hs-comment'>-- Don't change this without updating extensionFlags:</span>
<a name="line-733"></a>  <span class='hs-varid'>language</span>              <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Maybe</span> <span class='hs-conid'>Language</span><span class='hs-layout'>,</span>
<a name="line-734"></a>  <span class='hs-comment'>-- | Safe Haskell mode</span>
<a name="line-735"></a>  <span class='hs-varid'>safeHaskell</span>           <span class='hs-keyglyph'>::</span> <span class='hs-conid'>SafeHaskellMode</span><span class='hs-layout'>,</span>
<a name="line-736"></a>  <span class='hs-comment'>-- We store the location of where some extension and flags were turned on so</span>
<a name="line-737"></a>  <span class='hs-comment'>-- we can produce accurate error messages when Safe Haskell fails due to</span>
<a name="line-738"></a>  <span class='hs-comment'>-- them.</span>
<a name="line-739"></a>  <span class='hs-varid'>thOnLoc</span>               <span class='hs-keyglyph'>::</span> <span class='hs-conid'>SrcSpan</span><span class='hs-layout'>,</span>
<a name="line-740"></a>  <span class='hs-varid'>newDerivOnLoc</span>         <span class='hs-keyglyph'>::</span> <span class='hs-conid'>SrcSpan</span><span class='hs-layout'>,</span>
<a name="line-741"></a>  <span class='hs-varid'>pkgTrustOnLoc</span>         <span class='hs-keyglyph'>::</span> <span class='hs-conid'>SrcSpan</span><span class='hs-layout'>,</span>
<a name="line-742"></a>  <span class='hs-varid'>warnSafeOnLoc</span>         <span class='hs-keyglyph'>::</span> <span class='hs-conid'>SrcSpan</span><span class='hs-layout'>,</span>
<a name="line-743"></a>  <span class='hs-varid'>warnUnsafeOnLoc</span>       <span class='hs-keyglyph'>::</span> <span class='hs-conid'>SrcSpan</span><span class='hs-layout'>,</span>
<a name="line-744"></a>  <span class='hs-comment'>-- Don't change this without updating extensionFlags:</span>
<a name="line-745"></a>  <span class='hs-varid'>extensions</span>            <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>OnOff</span> <span class='hs-conid'>ExtensionFlag</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span>
<a name="line-746"></a>  <span class='hs-comment'>-- extensionFlags should always be equal to</span>
<a name="line-747"></a>  <span class='hs-comment'>--     flattenExtensionFlags language extensions</span>
<a name="line-748"></a>  <span class='hs-varid'>extensionFlags</span>        <span class='hs-keyglyph'>::</span> <span class='hs-conid'>IntSet</span><span class='hs-layout'>,</span>
<a name="line-749"></a>
<a name="line-750"></a>  <span class='hs-comment'>-- Unfolding control</span>
<a name="line-751"></a>  <span class='hs-comment'>-- See Note [Discounts and thresholds] in CoreUnfold</span>
<a name="line-752"></a>  <span class='hs-varid'>ufCreationThreshold</span>   <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Int</span><span class='hs-layout'>,</span>
<a name="line-753"></a>  <span class='hs-varid'>ufUseThreshold</span>        <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Int</span><span class='hs-layout'>,</span>
<a name="line-754"></a>  <span class='hs-varid'>ufFunAppDiscount</span>      <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Int</span><span class='hs-layout'>,</span>
<a name="line-755"></a>  <span class='hs-varid'>ufDictDiscount</span>        <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Int</span><span class='hs-layout'>,</span>
<a name="line-756"></a>  <span class='hs-varid'>ufKeenessFactor</span>       <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Float</span><span class='hs-layout'>,</span>
<a name="line-757"></a>  <span class='hs-varid'>ufDearOp</span>              <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Int</span><span class='hs-layout'>,</span>
<a name="line-758"></a>
<a name="line-759"></a>  <span class='hs-varid'>maxWorkerArgs</span>         <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Int</span><span class='hs-layout'>,</span>
<a name="line-760"></a>
<a name="line-761"></a>  <span class='hs-varid'>ghciHistSize</span>          <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Int</span><span class='hs-layout'>,</span>
<a name="line-762"></a>
<a name="line-763"></a>  <span class='hs-comment'>-- | MsgDoc output action: use "ErrUtils" instead of this if you can</span>
<a name="line-764"></a>  <span class='hs-varid'>log_action</span>            <span class='hs-keyglyph'>::</span> <span class='hs-conid'>LogAction</span><span class='hs-layout'>,</span>
<a name="line-765"></a>  <span class='hs-varid'>flushOut</span>              <span class='hs-keyglyph'>::</span> <span class='hs-conid'>FlushOut</span><span class='hs-layout'>,</span>
<a name="line-766"></a>  <span class='hs-varid'>flushErr</span>              <span class='hs-keyglyph'>::</span> <span class='hs-conid'>FlushErr</span><span class='hs-layout'>,</span>
<a name="line-767"></a>
<a name="line-768"></a>  <span class='hs-varid'>haddockOptions</span>        <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Maybe</span> <span class='hs-conid'>String</span><span class='hs-layout'>,</span>
<a name="line-769"></a>  <span class='hs-varid'>ghciScripts</span>           <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>String</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span>
<a name="line-770"></a>
<a name="line-771"></a>  <span class='hs-comment'>-- Output style options</span>
<a name="line-772"></a>  <span class='hs-varid'>pprUserLength</span>         <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Int</span><span class='hs-layout'>,</span>
<a name="line-773"></a>  <span class='hs-varid'>pprCols</span>               <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Int</span><span class='hs-layout'>,</span>
<a name="line-774"></a>  <span class='hs-varid'>traceLevel</span>            <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Int</span><span class='hs-layout'>,</span> <span class='hs-comment'>-- Standard level is 1. Less verbose is 0.</span>
<a name="line-775"></a>
<a name="line-776"></a>  <span class='hs-varid'>useUnicodeQuotes</span>      <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Bool</span><span class='hs-layout'>,</span>
<a name="line-777"></a>
<a name="line-778"></a>  <span class='hs-comment'>-- | what kind of {-# SCC #-} to add automatically</span>
<a name="line-779"></a>  <span class='hs-varid'>profAuto</span>              <span class='hs-keyglyph'>::</span> <span class='hs-conid'>ProfAuto</span><span class='hs-layout'>,</span>
<a name="line-780"></a>
<a name="line-781"></a>  <span class='hs-varid'>interactivePrint</span>      <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Maybe</span> <span class='hs-conid'>String</span><span class='hs-layout'>,</span>
<a name="line-782"></a>
<a name="line-783"></a>  <span class='hs-varid'>llvmVersion</span>           <span class='hs-keyglyph'>::</span> <span class='hs-conid'>IORef</span> <span class='hs-conid'>Int</span><span class='hs-layout'>,</span>
<a name="line-784"></a>
<a name="line-785"></a>  <span class='hs-varid'>nextWrapperNum</span>        <span class='hs-keyglyph'>::</span> <span class='hs-conid'>IORef</span> <span class='hs-layout'>(</span><span class='hs-conid'>ModuleEnv</span> <span class='hs-conid'>Int</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-786"></a>
<a name="line-787"></a>  <span class='hs-comment'>-- | Machine dependant flags (-m&lt;blah&gt; stuff)</span>
<a name="line-788"></a>  <span class='hs-varid'>sseVersion</span>            <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Maybe</span> <span class='hs-layout'>(</span><span class='hs-conid'>Int</span><span class='hs-layout'>,</span> <span class='hs-conid'>Int</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>  <span class='hs-comment'>-- (major, minor)</span>
<a name="line-789"></a>  <span class='hs-varid'>avx</span>                   <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Bool</span><span class='hs-layout'>,</span>
<a name="line-790"></a>  <span class='hs-varid'>avx2</span>                  <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Bool</span><span class='hs-layout'>,</span>
<a name="line-791"></a>  <span class='hs-varid'>avx512cd</span>              <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Bool</span><span class='hs-layout'>,</span> <span class='hs-comment'>-- Enable AVX-512 Conflict Detection Instructions.</span>
<a name="line-792"></a>  <span class='hs-varid'>avx512er</span>              <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Bool</span><span class='hs-layout'>,</span> <span class='hs-comment'>-- Enable AVX-512 Exponential and Reciprocal Instructions.</span>
<a name="line-793"></a>  <span class='hs-varid'>avx512f</span>               <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Bool</span><span class='hs-layout'>,</span> <span class='hs-comment'>-- Enable AVX-512 instructions.</span>
<a name="line-794"></a>  <span class='hs-varid'>avx512pf</span>              <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Bool</span><span class='hs-layout'>,</span> <span class='hs-comment'>-- Enable AVX-512 PreFetch Instructions.</span>
<a name="line-795"></a>
<a name="line-796"></a>  <span class='hs-comment'>-- | Run-time linker information (what options we need, etc.)</span>
<a name="line-797"></a>  <span class='hs-varid'>rtldInfo</span>              <span class='hs-keyglyph'>::</span> <span class='hs-conid'>IORef</span> <span class='hs-layout'>(</span><span class='hs-conid'>Maybe</span> <span class='hs-conid'>LinkerInfo</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-798"></a>
<a name="line-799"></a>  <span class='hs-comment'>-- | Run-time compiler information</span>
<a name="line-800"></a>  <span class='hs-varid'>rtccInfo</span>              <span class='hs-keyglyph'>::</span> <span class='hs-conid'>IORef</span> <span class='hs-layout'>(</span><span class='hs-conid'>Maybe</span> <span class='hs-conid'>CompilerInfo</span><span class='hs-layout'>)</span>
<a name="line-801"></a> <span class='hs-layout'>}</span>
<a name="line-802"></a>
<a name="line-803"></a><a name="HasDynFlags"></a><span class='hs-keyword'>class</span> <span class='hs-conid'>HasDynFlags</span> <span class='hs-varid'>m</span> <span class='hs-keyword'>where</span>
<a name="line-804"></a>    <span class='hs-varid'>getDynFlags</span> <span class='hs-keyglyph'>::</span> <span class='hs-varid'>m</span> <span class='hs-conid'>DynFlags</span>
<a name="line-805"></a>
<a name="line-806"></a><a name="ContainsDynFlags"></a><span class='hs-keyword'>class</span> <span class='hs-conid'>ContainsDynFlags</span> <span class='hs-varid'>t</span> <span class='hs-keyword'>where</span>
<a name="line-807"></a>    <span class='hs-varid'>extractDynFlags</span> <span class='hs-keyglyph'>::</span> <span class='hs-varid'>t</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span>
<a name="line-808"></a>    <span class='hs-varid'>replaceDynFlags</span> <span class='hs-keyglyph'>::</span> <span class='hs-varid'>t</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>t</span>
<a name="line-809"></a>
<a name="line-810"></a><a name="ProfAuto"></a><span class='hs-keyword'>data</span> <span class='hs-conid'>ProfAuto</span>
<a name="line-811"></a>  <span class='hs-keyglyph'>=</span> <span class='hs-conid'>NoProfAuto</span>         <span class='hs-comment'>-- ^ no SCC annotations added</span>
<a name="line-812"></a>  <span class='hs-keyglyph'>|</span> <span class='hs-conid'>ProfAutoAll</span>        <span class='hs-comment'>-- ^ top-level and nested functions are annotated</span>
<a name="line-813"></a>  <span class='hs-keyglyph'>|</span> <span class='hs-conid'>ProfAutoTop</span>        <span class='hs-comment'>-- ^ top-level functions annotated only</span>
<a name="line-814"></a>  <span class='hs-keyglyph'>|</span> <span class='hs-conid'>ProfAutoExports</span>    <span class='hs-comment'>-- ^ exported functions annotated only</span>
<a name="line-815"></a>  <span class='hs-keyglyph'>|</span> <span class='hs-conid'>ProfAutoCalls</span>      <span class='hs-comment'>-- ^ annotate call-sites</span>
<a name="line-816"></a>  <span class='hs-keyword'>deriving</span> <span class='hs-layout'>(</span><span class='hs-conid'>Enum</span><span class='hs-layout'>)</span>
<a name="line-817"></a>
<a name="line-818"></a><a name="Settings"></a><span class='hs-keyword'>data</span> <span class='hs-conid'>Settings</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Settings</span> <span class='hs-layout'>{</span>
<a name="line-819"></a>  <span class='hs-varid'>sTargetPlatform</span>        <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Platform</span><span class='hs-layout'>,</span>    <span class='hs-comment'>-- Filled in by SysTools</span>
<a name="line-820"></a>  <span class='hs-varid'>sGhcUsagePath</span>          <span class='hs-keyglyph'>::</span> <span class='hs-conid'>FilePath</span><span class='hs-layout'>,</span>    <span class='hs-comment'>-- Filled in by SysTools</span>
<a name="line-821"></a>  <span class='hs-varid'>sGhciUsagePath</span>         <span class='hs-keyglyph'>::</span> <span class='hs-conid'>FilePath</span><span class='hs-layout'>,</span>    <span class='hs-comment'>-- ditto</span>
<a name="line-822"></a>  <span class='hs-varid'>sTopDir</span>                <span class='hs-keyglyph'>::</span> <span class='hs-conid'>FilePath</span><span class='hs-layout'>,</span>
<a name="line-823"></a>  <span class='hs-varid'>sTmpDir</span>                <span class='hs-keyglyph'>::</span> <span class='hs-conid'>String</span><span class='hs-layout'>,</span>      <span class='hs-comment'>-- no trailing '/'</span>
<a name="line-824"></a>  <span class='hs-comment'>-- You shouldn't need to look things up in rawSettings directly.</span>
<a name="line-825"></a>  <span class='hs-comment'>-- They should have their own fields instead.</span>
<a name="line-826"></a>  <span class='hs-varid'>sRawSettings</span>           <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-layout'>(</span><span class='hs-conid'>String</span><span class='hs-layout'>,</span> <span class='hs-conid'>String</span><span class='hs-layout'>)</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span>
<a name="line-827"></a>  <span class='hs-varid'>sExtraGccViaCFlags</span>     <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>String</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span>
<a name="line-828"></a>  <span class='hs-varid'>sSystemPackageConfig</span>   <span class='hs-keyglyph'>::</span> <span class='hs-conid'>FilePath</span><span class='hs-layout'>,</span>
<a name="line-829"></a>  <span class='hs-varid'>sLdSupportsCompactUnwind</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Bool</span><span class='hs-layout'>,</span>
<a name="line-830"></a>  <span class='hs-varid'>sLdSupportsBuildId</span>       <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Bool</span><span class='hs-layout'>,</span>
<a name="line-831"></a>  <span class='hs-varid'>sLdSupportsFilelist</span>      <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Bool</span><span class='hs-layout'>,</span>
<a name="line-832"></a>  <span class='hs-varid'>sLdIsGnuLd</span>               <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Bool</span><span class='hs-layout'>,</span>
<a name="line-833"></a>  <span class='hs-comment'>-- commands for particular phases</span>
<a name="line-834"></a>  <span class='hs-varid'>sPgm_L</span>                 <span class='hs-keyglyph'>::</span> <span class='hs-conid'>String</span><span class='hs-layout'>,</span>
<a name="line-835"></a>  <span class='hs-varid'>sPgm_P</span>                 <span class='hs-keyglyph'>::</span> <span class='hs-layout'>(</span><span class='hs-conid'>String</span><span class='hs-layout'>,</span><span class='hs-keyglyph'>[</span><span class='hs-conid'>Option</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-836"></a>  <span class='hs-varid'>sPgm_F</span>                 <span class='hs-keyglyph'>::</span> <span class='hs-conid'>String</span><span class='hs-layout'>,</span>
<a name="line-837"></a>  <span class='hs-varid'>sPgm_c</span>                 <span class='hs-keyglyph'>::</span> <span class='hs-layout'>(</span><span class='hs-conid'>String</span><span class='hs-layout'>,</span><span class='hs-keyglyph'>[</span><span class='hs-conid'>Option</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-838"></a>  <span class='hs-varid'>sPgm_s</span>                 <span class='hs-keyglyph'>::</span> <span class='hs-layout'>(</span><span class='hs-conid'>String</span><span class='hs-layout'>,</span><span class='hs-keyglyph'>[</span><span class='hs-conid'>Option</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-839"></a>  <span class='hs-varid'>sPgm_a</span>                 <span class='hs-keyglyph'>::</span> <span class='hs-layout'>(</span><span class='hs-conid'>String</span><span class='hs-layout'>,</span><span class='hs-keyglyph'>[</span><span class='hs-conid'>Option</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-840"></a>  <span class='hs-varid'>sPgm_l</span>                 <span class='hs-keyglyph'>::</span> <span class='hs-layout'>(</span><span class='hs-conid'>String</span><span class='hs-layout'>,</span><span class='hs-keyglyph'>[</span><span class='hs-conid'>Option</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-841"></a>  <span class='hs-varid'>sPgm_dll</span>               <span class='hs-keyglyph'>::</span> <span class='hs-layout'>(</span><span class='hs-conid'>String</span><span class='hs-layout'>,</span><span class='hs-keyglyph'>[</span><span class='hs-conid'>Option</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-842"></a>  <span class='hs-varid'>sPgm_T</span>                 <span class='hs-keyglyph'>::</span> <span class='hs-conid'>String</span><span class='hs-layout'>,</span>
<a name="line-843"></a>  <span class='hs-varid'>sPgm_sysman</span>            <span class='hs-keyglyph'>::</span> <span class='hs-conid'>String</span><span class='hs-layout'>,</span>
<a name="line-844"></a>  <span class='hs-varid'>sPgm_windres</span>           <span class='hs-keyglyph'>::</span> <span class='hs-conid'>String</span><span class='hs-layout'>,</span>
<a name="line-845"></a>  <span class='hs-varid'>sPgm_libtool</span>           <span class='hs-keyglyph'>::</span> <span class='hs-conid'>String</span><span class='hs-layout'>,</span>
<a name="line-846"></a>  <span class='hs-varid'>sPgm_lo</span>                <span class='hs-keyglyph'>::</span> <span class='hs-layout'>(</span><span class='hs-conid'>String</span><span class='hs-layout'>,</span><span class='hs-keyglyph'>[</span><span class='hs-conid'>Option</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span> <span class='hs-comment'>-- LLVM: opt llvm optimiser</span>
<a name="line-847"></a>  <span class='hs-varid'>sPgm_lc</span>                <span class='hs-keyglyph'>::</span> <span class='hs-layout'>(</span><span class='hs-conid'>String</span><span class='hs-layout'>,</span><span class='hs-keyglyph'>[</span><span class='hs-conid'>Option</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span> <span class='hs-comment'>-- LLVM: llc static compiler</span>
<a name="line-848"></a>  <span class='hs-comment'>-- options for particular phases</span>
<a name="line-849"></a>  <span class='hs-varid'>sOpt_L</span>                 <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>String</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span>
<a name="line-850"></a>  <span class='hs-varid'>sOpt_P</span>                 <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>String</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span>
<a name="line-851"></a>  <span class='hs-varid'>sOpt_F</span>                 <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>String</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span>
<a name="line-852"></a>  <span class='hs-varid'>sOpt_c</span>                 <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>String</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span>
<a name="line-853"></a>  <span class='hs-varid'>sOpt_a</span>                 <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>String</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span>
<a name="line-854"></a>  <span class='hs-varid'>sOpt_l</span>                 <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>String</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span>
<a name="line-855"></a>  <span class='hs-varid'>sOpt_windres</span>           <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>String</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span>
<a name="line-856"></a>  <span class='hs-varid'>sOpt_lo</span>                <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>String</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span> <span class='hs-comment'>-- LLVM: llvm optimiser</span>
<a name="line-857"></a>  <span class='hs-varid'>sOpt_lc</span>                <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>String</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span> <span class='hs-comment'>-- LLVM: llc static compiler</span>
<a name="line-858"></a>
<a name="line-859"></a>  <span class='hs-varid'>sPlatformConstants</span>     <span class='hs-keyglyph'>::</span> <span class='hs-conid'>PlatformConstants</span>
<a name="line-860"></a> <span class='hs-layout'>}</span>
<a name="line-861"></a>
<a name="line-862"></a><a name="targetPlatform"></a><span class='hs-definition'>targetPlatform</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Platform</span>
<a name="line-863"></a><span class='hs-definition'>targetPlatform</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>sTargetPlatform</span> <span class='hs-layout'>(</span><span class='hs-varid'>settings</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span>
<a name="line-864"></a>
<a name="line-865"></a><a name="ghcUsagePath"></a><span class='hs-definition'>ghcUsagePath</span>          <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>FilePath</span>
<a name="line-866"></a><span class='hs-definition'>ghcUsagePath</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>sGhcUsagePath</span> <span class='hs-layout'>(</span><span class='hs-varid'>settings</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span>
<a name="line-867"></a><a name="ghciUsagePath"></a><span class='hs-definition'>ghciUsagePath</span>         <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>FilePath</span>
<a name="line-868"></a><span class='hs-definition'>ghciUsagePath</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>sGhciUsagePath</span> <span class='hs-layout'>(</span><span class='hs-varid'>settings</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span>
<a name="line-869"></a><a name="topDir"></a><span class='hs-definition'>topDir</span>                <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>FilePath</span>
<a name="line-870"></a><span class='hs-definition'>topDir</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>sTopDir</span> <span class='hs-layout'>(</span><span class='hs-varid'>settings</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span>
<a name="line-871"></a><a name="tmpDir"></a><span class='hs-definition'>tmpDir</span>                <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>String</span>
<a name="line-872"></a><span class='hs-definition'>tmpDir</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>sTmpDir</span> <span class='hs-layout'>(</span><span class='hs-varid'>settings</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span>
<a name="line-873"></a><a name="rawSettings"></a><span class='hs-definition'>rawSettings</span>           <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyglyph'>[</span><span class='hs-layout'>(</span><span class='hs-conid'>String</span><span class='hs-layout'>,</span> <span class='hs-conid'>String</span><span class='hs-layout'>)</span><span class='hs-keyglyph'>]</span>
<a name="line-874"></a><span class='hs-definition'>rawSettings</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>sRawSettings</span> <span class='hs-layout'>(</span><span class='hs-varid'>settings</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span>
<a name="line-875"></a><a name="extraGccViaCFlags"></a><span class='hs-definition'>extraGccViaCFlags</span>     <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>String</span><span class='hs-keyglyph'>]</span>
<a name="line-876"></a><span class='hs-definition'>extraGccViaCFlags</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>sExtraGccViaCFlags</span> <span class='hs-layout'>(</span><span class='hs-varid'>settings</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span>
<a name="line-877"></a><a name="systemPackageConfig"></a><span class='hs-definition'>systemPackageConfig</span>   <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>FilePath</span>
<a name="line-878"></a><span class='hs-definition'>systemPackageConfig</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>sSystemPackageConfig</span> <span class='hs-layout'>(</span><span class='hs-varid'>settings</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span>
<a name="line-879"></a><a name="pgm_L"></a><span class='hs-definition'>pgm_L</span>                 <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>String</span>
<a name="line-880"></a><span class='hs-definition'>pgm_L</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>sPgm_L</span> <span class='hs-layout'>(</span><span class='hs-varid'>settings</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span>
<a name="line-881"></a><a name="pgm_P"></a><span class='hs-definition'>pgm_P</span>                 <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-layout'>(</span><span class='hs-conid'>String</span><span class='hs-layout'>,</span><span class='hs-keyglyph'>[</span><span class='hs-conid'>Option</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>)</span>
<a name="line-882"></a><span class='hs-definition'>pgm_P</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>sPgm_P</span> <span class='hs-layout'>(</span><span class='hs-varid'>settings</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span>
<a name="line-883"></a><a name="pgm_F"></a><span class='hs-definition'>pgm_F</span>                 <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>String</span>
<a name="line-884"></a><span class='hs-definition'>pgm_F</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>sPgm_F</span> <span class='hs-layout'>(</span><span class='hs-varid'>settings</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span>
<a name="line-885"></a><a name="pgm_c"></a><span class='hs-definition'>pgm_c</span>                 <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-layout'>(</span><span class='hs-conid'>String</span><span class='hs-layout'>,</span><span class='hs-keyglyph'>[</span><span class='hs-conid'>Option</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>)</span>
<a name="line-886"></a><span class='hs-definition'>pgm_c</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>sPgm_c</span> <span class='hs-layout'>(</span><span class='hs-varid'>settings</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span>
<a name="line-887"></a><a name="pgm_s"></a><span class='hs-definition'>pgm_s</span>                 <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-layout'>(</span><span class='hs-conid'>String</span><span class='hs-layout'>,</span><span class='hs-keyglyph'>[</span><span class='hs-conid'>Option</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>)</span>
<a name="line-888"></a><span class='hs-definition'>pgm_s</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>sPgm_s</span> <span class='hs-layout'>(</span><span class='hs-varid'>settings</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span>
<a name="line-889"></a><a name="pgm_a"></a><span class='hs-definition'>pgm_a</span>                 <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-layout'>(</span><span class='hs-conid'>String</span><span class='hs-layout'>,</span><span class='hs-keyglyph'>[</span><span class='hs-conid'>Option</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>)</span>
<a name="line-890"></a><span class='hs-definition'>pgm_a</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>sPgm_a</span> <span class='hs-layout'>(</span><span class='hs-varid'>settings</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span>
<a name="line-891"></a><a name="pgm_l"></a><span class='hs-definition'>pgm_l</span>                 <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-layout'>(</span><span class='hs-conid'>String</span><span class='hs-layout'>,</span><span class='hs-keyglyph'>[</span><span class='hs-conid'>Option</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>)</span>
<a name="line-892"></a><span class='hs-definition'>pgm_l</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>sPgm_l</span> <span class='hs-layout'>(</span><span class='hs-varid'>settings</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span>
<a name="line-893"></a><a name="pgm_dll"></a><span class='hs-definition'>pgm_dll</span>               <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-layout'>(</span><span class='hs-conid'>String</span><span class='hs-layout'>,</span><span class='hs-keyglyph'>[</span><span class='hs-conid'>Option</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>)</span>
<a name="line-894"></a><span class='hs-definition'>pgm_dll</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>sPgm_dll</span> <span class='hs-layout'>(</span><span class='hs-varid'>settings</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span>
<a name="line-895"></a><a name="pgm_T"></a><span class='hs-definition'>pgm_T</span>                 <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>String</span>
<a name="line-896"></a><span class='hs-definition'>pgm_T</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>sPgm_T</span> <span class='hs-layout'>(</span><span class='hs-varid'>settings</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span>
<a name="line-897"></a><a name="pgm_sysman"></a><span class='hs-definition'>pgm_sysman</span>            <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>String</span>
<a name="line-898"></a><span class='hs-definition'>pgm_sysman</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>sPgm_sysman</span> <span class='hs-layout'>(</span><span class='hs-varid'>settings</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span>
<a name="line-899"></a><a name="pgm_windres"></a><span class='hs-definition'>pgm_windres</span>           <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>String</span>
<a name="line-900"></a><span class='hs-definition'>pgm_windres</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>sPgm_windres</span> <span class='hs-layout'>(</span><span class='hs-varid'>settings</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span>
<a name="line-901"></a><a name="pgm_libtool"></a><span class='hs-definition'>pgm_libtool</span>           <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>String</span>
<a name="line-902"></a><span class='hs-definition'>pgm_libtool</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>sPgm_libtool</span> <span class='hs-layout'>(</span><span class='hs-varid'>settings</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span>
<a name="line-903"></a><a name="pgm_lo"></a><span class='hs-definition'>pgm_lo</span>                <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-layout'>(</span><span class='hs-conid'>String</span><span class='hs-layout'>,</span><span class='hs-keyglyph'>[</span><span class='hs-conid'>Option</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>)</span>
<a name="line-904"></a><span class='hs-definition'>pgm_lo</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>sPgm_lo</span> <span class='hs-layout'>(</span><span class='hs-varid'>settings</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span>
<a name="line-905"></a><a name="pgm_lc"></a><span class='hs-definition'>pgm_lc</span>                <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-layout'>(</span><span class='hs-conid'>String</span><span class='hs-layout'>,</span><span class='hs-keyglyph'>[</span><span class='hs-conid'>Option</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>)</span>
<a name="line-906"></a><span class='hs-definition'>pgm_lc</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>sPgm_lc</span> <span class='hs-layout'>(</span><span class='hs-varid'>settings</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span>
<a name="line-907"></a><a name="opt_L"></a><span class='hs-definition'>opt_L</span>                 <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>String</span><span class='hs-keyglyph'>]</span>
<a name="line-908"></a><span class='hs-definition'>opt_L</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>sOpt_L</span> <span class='hs-layout'>(</span><span class='hs-varid'>settings</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span>
<a name="line-909"></a><a name="opt_P"></a><span class='hs-definition'>opt_P</span>                 <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>String</span><span class='hs-keyglyph'>]</span>
<a name="line-910"></a><span class='hs-definition'>opt_P</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>concatMap</span> <span class='hs-layout'>(</span><span class='hs-varid'>wayOptP</span> <span class='hs-layout'>(</span><span class='hs-varid'>targetPlatform</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span> <span class='hs-layout'>(</span><span class='hs-varid'>ways</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span>
<a name="line-911"></a>            <span class='hs-varop'>++</span> <span class='hs-varid'>sOpt_P</span> <span class='hs-layout'>(</span><span class='hs-varid'>settings</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span>
<a name="line-912"></a><a name="opt_F"></a><span class='hs-definition'>opt_F</span>                 <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>String</span><span class='hs-keyglyph'>]</span>
<a name="line-913"></a><span class='hs-definition'>opt_F</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>sOpt_F</span> <span class='hs-layout'>(</span><span class='hs-varid'>settings</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span>
<a name="line-914"></a><a name="opt_c"></a><span class='hs-definition'>opt_c</span>                 <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>String</span><span class='hs-keyglyph'>]</span>
<a name="line-915"></a><span class='hs-definition'>opt_c</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>concatMap</span> <span class='hs-layout'>(</span><span class='hs-varid'>wayOptc</span> <span class='hs-layout'>(</span><span class='hs-varid'>targetPlatform</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span> <span class='hs-layout'>(</span><span class='hs-varid'>ways</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span>
<a name="line-916"></a>            <span class='hs-varop'>++</span> <span class='hs-varid'>sOpt_c</span> <span class='hs-layout'>(</span><span class='hs-varid'>settings</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span>
<a name="line-917"></a><a name="opt_a"></a><span class='hs-definition'>opt_a</span>                 <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>String</span><span class='hs-keyglyph'>]</span>
<a name="line-918"></a><span class='hs-definition'>opt_a</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>sOpt_a</span> <span class='hs-layout'>(</span><span class='hs-varid'>settings</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span>
<a name="line-919"></a><a name="opt_l"></a><span class='hs-definition'>opt_l</span>                 <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>String</span><span class='hs-keyglyph'>]</span>
<a name="line-920"></a><span class='hs-definition'>opt_l</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>concatMap</span> <span class='hs-layout'>(</span><span class='hs-varid'>wayOptl</span> <span class='hs-layout'>(</span><span class='hs-varid'>targetPlatform</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span> <span class='hs-layout'>(</span><span class='hs-varid'>ways</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span>
<a name="line-921"></a>            <span class='hs-varop'>++</span> <span class='hs-varid'>sOpt_l</span> <span class='hs-layout'>(</span><span class='hs-varid'>settings</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span>
<a name="line-922"></a><a name="opt_windres"></a><span class='hs-definition'>opt_windres</span>           <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>String</span><span class='hs-keyglyph'>]</span>
<a name="line-923"></a><span class='hs-definition'>opt_windres</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>sOpt_windres</span> <span class='hs-layout'>(</span><span class='hs-varid'>settings</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span>
<a name="line-924"></a><a name="opt_lo"></a><span class='hs-definition'>opt_lo</span>                <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>String</span><span class='hs-keyglyph'>]</span>
<a name="line-925"></a><span class='hs-definition'>opt_lo</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>sOpt_lo</span> <span class='hs-layout'>(</span><span class='hs-varid'>settings</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span>
<a name="line-926"></a><a name="opt_lc"></a><span class='hs-definition'>opt_lc</span>                <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>String</span><span class='hs-keyglyph'>]</span>
<a name="line-927"></a><span class='hs-definition'>opt_lc</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>sOpt_lc</span> <span class='hs-layout'>(</span><span class='hs-varid'>settings</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span>
<a name="line-928"></a>
<a name="line-929"></a><a name="HscTarget"></a><span class='hs-comment'>-- | The target code type of the compilation (if any).</span>
<a name="line-930"></a><a name="HscTarget"></a><span class='hs-comment'>--</span>
<a name="line-931"></a><a name="HscTarget"></a><span class='hs-comment'>-- Whenever you change the target, also make sure to set 'ghcLink' to</span>
<a name="line-932"></a><a name="HscTarget"></a><span class='hs-comment'>-- something sensible.</span>
<a name="line-933"></a><a name="HscTarget"></a><span class='hs-comment'>--</span>
<a name="line-934"></a><a name="HscTarget"></a><span class='hs-comment'>-- 'HscNothing' can be used to avoid generating any output, however, note</span>
<a name="line-935"></a><a name="HscTarget"></a><span class='hs-comment'>-- that:</span>
<a name="line-936"></a><a name="HscTarget"></a><span class='hs-comment'>--</span>
<a name="line-937"></a><a name="HscTarget"></a><span class='hs-comment'>--  * If a program uses Template Haskell the typechecker may try to run code</span>
<a name="line-938"></a><a name="HscTarget"></a><span class='hs-comment'>--    from an imported module.  This will fail if no code has been generated</span>
<a name="line-939"></a><a name="HscTarget"></a><span class='hs-comment'>--    for this module.  You can use 'GHC.needsTemplateHaskell' to detect</span>
<a name="line-940"></a><a name="HscTarget"></a><span class='hs-comment'>--    whether this might be the case and choose to either switch to a</span>
<a name="line-941"></a><a name="HscTarget"></a><span class='hs-comment'>--    different target or avoid typechecking such modules.  (The latter may be</span>
<a name="line-942"></a><a name="HscTarget"></a><span class='hs-comment'>--    preferable for security reasons.)</span>
<a name="line-943"></a><a name="HscTarget"></a><span class='hs-comment'>--</span>
<a name="line-944"></a><a name="HscTarget"></a><span class='hs-keyword'>data</span> <span class='hs-conid'>HscTarget</span>
<a name="line-945"></a>  <span class='hs-keyglyph'>=</span> <span class='hs-conid'>HscC</span>           <span class='hs-comment'>-- ^ Generate C code.</span>
<a name="line-946"></a>  <span class='hs-keyglyph'>|</span> <span class='hs-conid'>HscAsm</span>         <span class='hs-comment'>-- ^ Generate assembly using the native code generator.</span>
<a name="line-947"></a>  <span class='hs-keyglyph'>|</span> <span class='hs-conid'>HscLlvm</span>        <span class='hs-comment'>-- ^ Generate assembly using the llvm code generator.</span>
<a name="line-948"></a>  <span class='hs-keyglyph'>|</span> <span class='hs-conid'>HscInterpreted</span> <span class='hs-comment'>-- ^ Generate bytecode.  (Requires 'LinkInMemory')</span>
<a name="line-949"></a>  <span class='hs-keyglyph'>|</span> <span class='hs-conid'>HscNothing</span>     <span class='hs-comment'>-- ^ Don't generate any code.  See notes above.</span>
<a name="line-950"></a>  <span class='hs-keyword'>deriving</span> <span class='hs-layout'>(</span><span class='hs-conid'>Eq</span><span class='hs-layout'>,</span> <span class='hs-conid'>Show</span><span class='hs-layout'>)</span>
<a name="line-951"></a>
<a name="line-952"></a><a name="isObjectTarget"></a><span class='hs-comment'>-- | Will this target result in an object file on the disk?</span>
<a name="line-953"></a><span class='hs-definition'>isObjectTarget</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>HscTarget</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Bool</span>
<a name="line-954"></a><span class='hs-definition'>isObjectTarget</span> <span class='hs-conid'>HscC</span>     <span class='hs-keyglyph'>=</span> <span class='hs-conid'>True</span>
<a name="line-955"></a><span class='hs-definition'>isObjectTarget</span> <span class='hs-conid'>HscAsm</span>   <span class='hs-keyglyph'>=</span> <span class='hs-conid'>True</span>
<a name="line-956"></a><span class='hs-definition'>isObjectTarget</span> <span class='hs-conid'>HscLlvm</span>  <span class='hs-keyglyph'>=</span> <span class='hs-conid'>True</span>
<a name="line-957"></a><span class='hs-definition'>isObjectTarget</span> <span class='hs-keyword'>_</span>        <span class='hs-keyglyph'>=</span> <span class='hs-conid'>False</span>
<a name="line-958"></a>
<a name="line-959"></a><a name="targetRetainsAllBindings"></a><span class='hs-comment'>-- | Does this target retain *all* top-level bindings for a module,</span>
<a name="line-960"></a><span class='hs-comment'>-- rather than just the exported bindings, in the TypeEnv and compiled</span>
<a name="line-961"></a><span class='hs-comment'>-- code (if any)?  In interpreted mode we do this, so that GHCi can</span>
<a name="line-962"></a><span class='hs-comment'>-- call functions inside a module.  In HscNothing mode we also do it,</span>
<a name="line-963"></a><span class='hs-comment'>-- so that Haddock can get access to the GlobalRdrEnv for a module</span>
<a name="line-964"></a><span class='hs-comment'>-- after typechecking it.</span>
<a name="line-965"></a><span class='hs-definition'>targetRetainsAllBindings</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>HscTarget</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Bool</span>
<a name="line-966"></a><span class='hs-definition'>targetRetainsAllBindings</span> <span class='hs-conid'>HscInterpreted</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>True</span>
<a name="line-967"></a><span class='hs-definition'>targetRetainsAllBindings</span> <span class='hs-conid'>HscNothing</span>     <span class='hs-keyglyph'>=</span> <span class='hs-conid'>True</span>
<a name="line-968"></a><span class='hs-definition'>targetRetainsAllBindings</span> <span class='hs-keyword'>_</span>              <span class='hs-keyglyph'>=</span> <span class='hs-conid'>False</span>
<a name="line-969"></a>
<a name="line-970"></a><a name="GhcMode"></a><span class='hs-comment'>-- | The 'GhcMode' tells us whether we're doing multi-module</span>
<a name="line-971"></a><a name="GhcMode"></a><span class='hs-comment'>-- compilation (controlled via the "GHC" API) or one-shot</span>
<a name="line-972"></a><a name="GhcMode"></a><span class='hs-comment'>-- (single-module) compilation.  This makes a difference primarily to</span>
<a name="line-973"></a><a name="GhcMode"></a><span class='hs-comment'>-- the "Finder": in one-shot mode we look for interface files for</span>
<a name="line-974"></a><a name="GhcMode"></a><span class='hs-comment'>-- imported modules, but in multi-module mode we look for source files</span>
<a name="line-975"></a><a name="GhcMode"></a><span class='hs-comment'>-- in order to check whether they need to be recompiled.</span>
<a name="line-976"></a><a name="GhcMode"></a><span class='hs-keyword'>data</span> <span class='hs-conid'>GhcMode</span>
<a name="line-977"></a>  <span class='hs-keyglyph'>=</span> <span class='hs-conid'>CompManager</span>         <span class='hs-comment'>-- ^ @\-\-make@, GHCi, etc.</span>
<a name="line-978"></a>  <span class='hs-keyglyph'>|</span> <span class='hs-conid'>OneShot</span>             <span class='hs-comment'>-- ^ @ghc -c Foo.hs@</span>
<a name="line-979"></a>  <span class='hs-keyglyph'>|</span> <span class='hs-conid'>MkDepend</span>            <span class='hs-comment'>-- ^ @ghc -M@, see "Finder" for why we need this</span>
<a name="line-980"></a>  <span class='hs-keyword'>deriving</span> <span class='hs-conid'>Eq</span>
<a name="line-981"></a>
<a name="line-982"></a><span class='hs-keyword'>instance</span> <span class='hs-conid'>Outputable</span> <span class='hs-conid'>GhcMode</span> <span class='hs-keyword'>where</span>
<a name="line-983"></a>  <span class='hs-varid'>ppr</span> <span class='hs-conid'>CompManager</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>ptext</span> <span class='hs-layout'>(</span><span class='hs-varid'>sLit</span> <span class='hs-str'>"CompManager"</span><span class='hs-layout'>)</span>
<a name="line-984"></a>  <span class='hs-varid'>ppr</span> <span class='hs-conid'>OneShot</span>     <span class='hs-keyglyph'>=</span> <span class='hs-varid'>ptext</span> <span class='hs-layout'>(</span><span class='hs-varid'>sLit</span> <span class='hs-str'>"OneShot"</span><span class='hs-layout'>)</span>
<a name="line-985"></a>  <span class='hs-varid'>ppr</span> <span class='hs-conid'>MkDepend</span>    <span class='hs-keyglyph'>=</span> <span class='hs-varid'>ptext</span> <span class='hs-layout'>(</span><span class='hs-varid'>sLit</span> <span class='hs-str'>"MkDepend"</span><span class='hs-layout'>)</span>
<a name="line-986"></a>
<a name="line-987"></a><a name="isOneShot"></a><span class='hs-definition'>isOneShot</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>GhcMode</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Bool</span>
<a name="line-988"></a><span class='hs-definition'>isOneShot</span> <span class='hs-conid'>OneShot</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>True</span>
<a name="line-989"></a><span class='hs-definition'>isOneShot</span> <span class='hs-sel'>_other</span>  <span class='hs-keyglyph'>=</span> <span class='hs-conid'>False</span>
<a name="line-990"></a>
<a name="line-991"></a><a name="GhcLink"></a><span class='hs-comment'>-- | What to do in the link step, if there is one.</span>
<a name="line-992"></a><a name="GhcLink"></a><span class='hs-keyword'>data</span> <span class='hs-conid'>GhcLink</span>
<a name="line-993"></a>  <span class='hs-keyglyph'>=</span> <span class='hs-conid'>NoLink</span>              <span class='hs-comment'>-- ^ Don't link at all</span>
<a name="line-994"></a>  <span class='hs-keyglyph'>|</span> <span class='hs-conid'>LinkBinary</span>          <span class='hs-comment'>-- ^ Link object code into a binary</span>
<a name="line-995"></a>  <span class='hs-keyglyph'>|</span> <span class='hs-conid'>LinkInMemory</span>        <span class='hs-comment'>-- ^ Use the in-memory dynamic linker (works for both</span>
<a name="line-996"></a>                        <span class='hs-comment'>--   bytecode and object code).</span>
<a name="line-997"></a>  <span class='hs-keyglyph'>|</span> <span class='hs-conid'>LinkDynLib</span>          <span class='hs-comment'>-- ^ Link objects into a dynamic lib (DLL on Windows, DSO on ELF platforms)</span>
<a name="line-998"></a>  <span class='hs-keyglyph'>|</span> <span class='hs-conid'>LinkStaticLib</span>       <span class='hs-comment'>-- ^ Link objects into a static lib</span>
<a name="line-999"></a>  <span class='hs-keyword'>deriving</span> <span class='hs-layout'>(</span><span class='hs-conid'>Eq</span><span class='hs-layout'>,</span> <span class='hs-conid'>Show</span><span class='hs-layout'>)</span>
<a name="line-1000"></a>
<a name="line-1001"></a><a name="isNoLink"></a><span class='hs-definition'>isNoLink</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>GhcLink</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Bool</span>
<a name="line-1002"></a><span class='hs-definition'>isNoLink</span> <span class='hs-conid'>NoLink</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>True</span>
<a name="line-1003"></a><span class='hs-definition'>isNoLink</span> <span class='hs-keyword'>_</span>      <span class='hs-keyglyph'>=</span> <span class='hs-conid'>False</span>
<a name="line-1004"></a>
<a name="line-1005"></a><a name="PackageFlag"></a><span class='hs-keyword'>data</span> <span class='hs-conid'>PackageFlag</span>
<a name="line-1006"></a>  <span class='hs-keyglyph'>=</span> <span class='hs-conid'>ExposePackage</span>   <span class='hs-conid'>String</span>
<a name="line-1007"></a>  <span class='hs-keyglyph'>|</span> <span class='hs-conid'>ExposePackageId</span> <span class='hs-conid'>String</span>
<a name="line-1008"></a>  <span class='hs-keyglyph'>|</span> <span class='hs-conid'>HidePackage</span>     <span class='hs-conid'>String</span>
<a name="line-1009"></a>  <span class='hs-keyglyph'>|</span> <span class='hs-conid'>IgnorePackage</span>   <span class='hs-conid'>String</span>
<a name="line-1010"></a>  <span class='hs-keyglyph'>|</span> <span class='hs-conid'>TrustPackage</span>    <span class='hs-conid'>String</span>
<a name="line-1011"></a>  <span class='hs-keyglyph'>|</span> <span class='hs-conid'>DistrustPackage</span> <span class='hs-conid'>String</span>
<a name="line-1012"></a>  <span class='hs-keyword'>deriving</span> <span class='hs-layout'>(</span><span class='hs-conid'>Eq</span><span class='hs-layout'>,</span> <span class='hs-conid'>Show</span><span class='hs-layout'>)</span>
<a name="line-1013"></a>
<a name="line-1014"></a><a name="defaultHscTarget"></a><span class='hs-definition'>defaultHscTarget</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Platform</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>HscTarget</span>
<a name="line-1015"></a><span class='hs-definition'>defaultHscTarget</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>defaultObjectTarget</span>
<a name="line-1016"></a>
<a name="line-1017"></a><a name="defaultObjectTarget"></a><span class='hs-comment'>-- | The 'HscTarget' value corresponding to the default way to create</span>
<a name="line-1018"></a><span class='hs-comment'>-- object files on the current platform.</span>
<a name="line-1019"></a><span class='hs-definition'>defaultObjectTarget</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Platform</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>HscTarget</span>
<a name="line-1020"></a><span class='hs-definition'>defaultObjectTarget</span> <span class='hs-varid'>platform</span>
<a name="line-1021"></a>  <span class='hs-keyglyph'>|</span> <span class='hs-varid'>platformUnregisterised</span> <span class='hs-varid'>platform</span>     <span class='hs-keyglyph'>=</span>  <span class='hs-conid'>HscC</span>
<a name="line-1022"></a>  <span class='hs-keyglyph'>|</span> <span class='hs-varid'>cGhcWithNativeCodeGen</span> <span class='hs-varop'>==</span> <span class='hs-str'>"YES"</span>      <span class='hs-keyglyph'>=</span>  <span class='hs-conid'>HscAsm</span>
<a name="line-1023"></a>  <span class='hs-keyglyph'>|</span> <span class='hs-varid'>otherwise</span>                           <span class='hs-keyglyph'>=</span>  <span class='hs-conid'>HscLlvm</span>
<a name="line-1024"></a>
<a name="line-1025"></a><a name="tablesNextToCode"></a><span class='hs-definition'>tablesNextToCode</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Bool</span>
<a name="line-1026"></a><span class='hs-definition'>tablesNextToCode</span> <span class='hs-varid'>dflags</span>
<a name="line-1027"></a>    <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkTablesNextToCode</span> <span class='hs-layout'>(</span><span class='hs-varid'>platformUnregisterised</span> <span class='hs-layout'>(</span><span class='hs-varid'>targetPlatform</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-1028"></a>
<a name="line-1029"></a><a name="mkTablesNextToCode"></a><span class='hs-comment'>-- Determines whether we will be compiling</span>
<a name="line-1030"></a><span class='hs-comment'>-- info tables that reside just before the entry code, or with an</span>
<a name="line-1031"></a><span class='hs-comment'>-- indirection to the entry code.  See TABLES_NEXT_TO_CODE in</span>
<a name="line-1032"></a><span class='hs-comment'>-- includes/rts/storage/InfoTables.h.</span>
<a name="line-1033"></a><span class='hs-definition'>mkTablesNextToCode</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Bool</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Bool</span>
<a name="line-1034"></a><span class='hs-definition'>mkTablesNextToCode</span> <span class='hs-varid'>unregisterised</span>
<a name="line-1035"></a>    <span class='hs-keyglyph'>=</span> <span class='hs-varid'>not</span> <span class='hs-varid'>unregisterised</span> <span class='hs-varop'>&amp;&amp;</span> <span class='hs-varid'>cGhcEnableTablesNextToCode</span> <span class='hs-varop'>==</span> <span class='hs-str'>"YES"</span>
<a name="line-1036"></a>
<a name="line-1037"></a><a name="DynLibLoader"></a><span class='hs-keyword'>data</span> <span class='hs-conid'>DynLibLoader</span>
<a name="line-1038"></a>  <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Deployable</span>
<a name="line-1039"></a>  <span class='hs-keyglyph'>|</span> <span class='hs-conid'>SystemDependent</span>
<a name="line-1040"></a>  <span class='hs-keyword'>deriving</span> <span class='hs-conid'>Eq</span>
<a name="line-1041"></a>
<a name="line-1042"></a><a name="RtsOptsEnabled"></a><span class='hs-keyword'>data</span> <span class='hs-conid'>RtsOptsEnabled</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>RtsOptsNone</span> <span class='hs-keyglyph'>|</span> <span class='hs-conid'>RtsOptsSafeOnly</span> <span class='hs-keyglyph'>|</span> <span class='hs-conid'>RtsOptsAll</span>
<a name="line-1043"></a>  <span class='hs-keyword'>deriving</span> <span class='hs-layout'>(</span><span class='hs-conid'>Show</span><span class='hs-layout'>)</span>
<a name="line-1044"></a>
<a name="line-1045"></a><span class='hs-comment'>-----------------------------------------------------------------------------</span>
<a name="line-1046"></a><span class='hs-comment'>-- Ways</span>
<a name="line-1047"></a>
<a name="line-1048"></a><span class='hs-comment'>-- The central concept of a "way" is that all objects in a given</span>
<a name="line-1049"></a><span class='hs-comment'>-- program must be compiled in the same "way".  Certain options change</span>
<a name="line-1050"></a><span class='hs-comment'>-- parameters of the virtual machine, eg. profiling adds an extra word</span>
<a name="line-1051"></a><span class='hs-comment'>-- to the object header, so profiling objects cannot be linked with</span>
<a name="line-1052"></a><span class='hs-comment'>-- non-profiling objects.</span>
<a name="line-1053"></a>
<a name="line-1054"></a><span class='hs-comment'>-- After parsing the command-line options, we determine which "way" we</span>
<a name="line-1055"></a><span class='hs-comment'>-- are building - this might be a combination way, eg. profiling+threaded.</span>
<a name="line-1056"></a>
<a name="line-1057"></a><span class='hs-comment'>-- We then find the "build-tag" associated with this way, and this</span>
<a name="line-1058"></a><span class='hs-comment'>-- becomes the suffix used to find .hi files and libraries used in</span>
<a name="line-1059"></a><span class='hs-comment'>-- this compilation.</span>
<a name="line-1060"></a>
<a name="line-1061"></a><a name="Way"></a><span class='hs-keyword'>data</span> <span class='hs-conid'>Way</span>
<a name="line-1062"></a>  <span class='hs-keyglyph'>=</span> <span class='hs-conid'>WayCustom</span> <span class='hs-conid'>String</span> <span class='hs-comment'>-- for GHC API clients building custom variants</span>
<a name="line-1063"></a>  <span class='hs-keyglyph'>|</span> <span class='hs-conid'>WayThreaded</span>
<a name="line-1064"></a>  <span class='hs-keyglyph'>|</span> <span class='hs-conid'>WayDebug</span>
<a name="line-1065"></a>  <span class='hs-keyglyph'>|</span> <span class='hs-conid'>WayProf</span>
<a name="line-1066"></a>  <span class='hs-keyglyph'>|</span> <span class='hs-conid'>WayEventLog</span>
<a name="line-1067"></a>  <span class='hs-keyglyph'>|</span> <span class='hs-conid'>WayPar</span>
<a name="line-1068"></a>  <span class='hs-keyglyph'>|</span> <span class='hs-conid'>WayGran</span>
<a name="line-1069"></a>  <span class='hs-keyglyph'>|</span> <span class='hs-conid'>WayNDP</span>
<a name="line-1070"></a>  <span class='hs-keyglyph'>|</span> <span class='hs-conid'>WayDyn</span>
<a name="line-1071"></a>  <span class='hs-keyword'>deriving</span> <span class='hs-layout'>(</span><span class='hs-conid'>Eq</span><span class='hs-layout'>,</span> <span class='hs-conid'>Ord</span><span class='hs-layout'>,</span> <span class='hs-conid'>Show</span><span class='hs-layout'>)</span>
<a name="line-1072"></a>
<a name="line-1073"></a><a name="allowed_combination"></a><span class='hs-definition'>allowed_combination</span> <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>Way</span><span class='hs-keyglyph'>]</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Bool</span>
<a name="line-1074"></a><span class='hs-definition'>allowed_combination</span> <span class='hs-varid'>way</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>and</span> <span class='hs-keyglyph'>[</span> <span class='hs-varid'>x</span> <span class='hs-varop'>`allowedWith`</span> <span class='hs-varid'>y</span>
<a name="line-1075"></a>                              <span class='hs-keyglyph'>|</span> <span class='hs-varid'>x</span> <span class='hs-keyglyph'>&lt;-</span> <span class='hs-varid'>way</span><span class='hs-layout'>,</span> <span class='hs-varid'>y</span> <span class='hs-keyglyph'>&lt;-</span> <span class='hs-varid'>way</span><span class='hs-layout'>,</span> <span class='hs-varid'>x</span> <span class='hs-varop'>&lt;</span> <span class='hs-varid'>y</span> <span class='hs-keyglyph'>]</span>
<a name="line-1076"></a>  <span class='hs-keyword'>where</span>
<a name="line-1077"></a>        <span class='hs-comment'>-- Note ordering in these tests: the left argument is</span>
<a name="line-1078"></a>        <span class='hs-comment'>-- &lt;= the right argument, according to the Ord instance</span>
<a name="line-1079"></a>        <span class='hs-comment'>-- on Way above.</span>
<a name="line-1080"></a>
<a name="line-1081"></a>        <span class='hs-comment'>-- dyn is allowed with everything</span>
<a name="line-1082"></a>        <span class='hs-keyword'>_</span> <span class='hs-varop'>`allowedWith`</span> <span class='hs-conid'>WayDyn</span>                  <span class='hs-keyglyph'>=</span> <span class='hs-conid'>True</span>
<a name="line-1083"></a>        <span class='hs-conid'>WayDyn</span> <span class='hs-varop'>`allowedWith`</span> <span class='hs-keyword'>_</span>                  <span class='hs-keyglyph'>=</span> <span class='hs-conid'>True</span>
<a name="line-1084"></a>
<a name="line-1085"></a>        <span class='hs-comment'>-- debug is allowed with everything</span>
<a name="line-1086"></a>        <span class='hs-keyword'>_</span> <span class='hs-varop'>`allowedWith`</span> <span class='hs-conid'>WayDebug</span>                <span class='hs-keyglyph'>=</span> <span class='hs-conid'>True</span>
<a name="line-1087"></a>        <span class='hs-conid'>WayDebug</span> <span class='hs-varop'>`allowedWith`</span> <span class='hs-keyword'>_</span>                <span class='hs-keyglyph'>=</span> <span class='hs-conid'>True</span>
<a name="line-1088"></a>
<a name="line-1089"></a>        <span class='hs-layout'>(</span><span class='hs-conid'>WayCustom</span> <span class='hs-layout'>{</span><span class='hs-layout'>}</span><span class='hs-layout'>)</span> <span class='hs-varop'>`allowedWith`</span> <span class='hs-keyword'>_</span>          <span class='hs-keyglyph'>=</span> <span class='hs-conid'>True</span>
<a name="line-1090"></a>        <span class='hs-conid'>WayProf</span> <span class='hs-varop'>`allowedWith`</span> <span class='hs-conid'>WayNDP</span>            <span class='hs-keyglyph'>=</span> <span class='hs-conid'>True</span>
<a name="line-1091"></a>        <span class='hs-conid'>WayThreaded</span> <span class='hs-varop'>`allowedWith`</span> <span class='hs-conid'>WayProf</span>       <span class='hs-keyglyph'>=</span> <span class='hs-conid'>True</span>
<a name="line-1092"></a>        <span class='hs-conid'>WayThreaded</span> <span class='hs-varop'>`allowedWith`</span> <span class='hs-conid'>WayEventLog</span>   <span class='hs-keyglyph'>=</span> <span class='hs-conid'>True</span>
<a name="line-1093"></a>        <span class='hs-keyword'>_</span> <span class='hs-varop'>`allowedWith`</span> <span class='hs-keyword'>_</span>                       <span class='hs-keyglyph'>=</span> <span class='hs-conid'>False</span>
<a name="line-1094"></a>
<a name="line-1095"></a><a name="mkBuildTag"></a><span class='hs-definition'>mkBuildTag</span> <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>Way</span><span class='hs-keyglyph'>]</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>String</span>
<a name="line-1096"></a><span class='hs-definition'>mkBuildTag</span> <span class='hs-varid'>ways</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>concat</span> <span class='hs-layout'>(</span><span class='hs-varid'>intersperse</span> <span class='hs-str'>"_"</span> <span class='hs-layout'>(</span><span class='hs-varid'>map</span> <span class='hs-varid'>wayTag</span> <span class='hs-varid'>ways</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-1097"></a>
<a name="line-1098"></a><a name="wayTag"></a><span class='hs-definition'>wayTag</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Way</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>String</span>
<a name="line-1099"></a><span class='hs-definition'>wayTag</span> <span class='hs-layout'>(</span><span class='hs-conid'>WayCustom</span> <span class='hs-varid'>xs</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>xs</span>
<a name="line-1100"></a><span class='hs-definition'>wayTag</span> <span class='hs-conid'>WayThreaded</span> <span class='hs-keyglyph'>=</span> <span class='hs-str'>"thr"</span>
<a name="line-1101"></a><span class='hs-definition'>wayTag</span> <span class='hs-conid'>WayDebug</span>    <span class='hs-keyglyph'>=</span> <span class='hs-str'>"debug"</span>
<a name="line-1102"></a><span class='hs-definition'>wayTag</span> <span class='hs-conid'>WayDyn</span>      <span class='hs-keyglyph'>=</span> <span class='hs-str'>"dyn"</span>
<a name="line-1103"></a><span class='hs-definition'>wayTag</span> <span class='hs-conid'>WayProf</span>     <span class='hs-keyglyph'>=</span> <span class='hs-str'>"p"</span>
<a name="line-1104"></a><span class='hs-definition'>wayTag</span> <span class='hs-conid'>WayEventLog</span> <span class='hs-keyglyph'>=</span> <span class='hs-str'>"l"</span>
<a name="line-1105"></a><span class='hs-definition'>wayTag</span> <span class='hs-conid'>WayPar</span>      <span class='hs-keyglyph'>=</span> <span class='hs-str'>"mp"</span>
<a name="line-1106"></a><span class='hs-definition'>wayTag</span> <span class='hs-conid'>WayGran</span>     <span class='hs-keyglyph'>=</span> <span class='hs-str'>"mg"</span>
<a name="line-1107"></a><span class='hs-definition'>wayTag</span> <span class='hs-conid'>WayNDP</span>      <span class='hs-keyglyph'>=</span> <span class='hs-str'>"ndp"</span>
<a name="line-1108"></a>
<a name="line-1109"></a><a name="wayRTSOnly"></a><span class='hs-definition'>wayRTSOnly</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Way</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Bool</span>
<a name="line-1110"></a><span class='hs-definition'>wayRTSOnly</span> <span class='hs-layout'>(</span><span class='hs-conid'>WayCustom</span> <span class='hs-layout'>{</span><span class='hs-layout'>}</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>False</span>
<a name="line-1111"></a><span class='hs-definition'>wayRTSOnly</span> <span class='hs-conid'>WayThreaded</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>True</span>
<a name="line-1112"></a><span class='hs-definition'>wayRTSOnly</span> <span class='hs-conid'>WayDebug</span>    <span class='hs-keyglyph'>=</span> <span class='hs-conid'>True</span>
<a name="line-1113"></a><span class='hs-definition'>wayRTSOnly</span> <span class='hs-conid'>WayDyn</span>      <span class='hs-keyglyph'>=</span> <span class='hs-conid'>False</span>
<a name="line-1114"></a><span class='hs-definition'>wayRTSOnly</span> <span class='hs-conid'>WayProf</span>     <span class='hs-keyglyph'>=</span> <span class='hs-conid'>False</span>
<a name="line-1115"></a><span class='hs-definition'>wayRTSOnly</span> <span class='hs-conid'>WayEventLog</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>True</span>
<a name="line-1116"></a><span class='hs-definition'>wayRTSOnly</span> <span class='hs-conid'>WayPar</span>      <span class='hs-keyglyph'>=</span> <span class='hs-conid'>False</span>
<a name="line-1117"></a><span class='hs-definition'>wayRTSOnly</span> <span class='hs-conid'>WayGran</span>     <span class='hs-keyglyph'>=</span> <span class='hs-conid'>False</span>
<a name="line-1118"></a><span class='hs-definition'>wayRTSOnly</span> <span class='hs-conid'>WayNDP</span>      <span class='hs-keyglyph'>=</span> <span class='hs-conid'>False</span>
<a name="line-1119"></a>
<a name="line-1120"></a><a name="wayDesc"></a><span class='hs-definition'>wayDesc</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Way</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>String</span>
<a name="line-1121"></a><span class='hs-definition'>wayDesc</span> <span class='hs-layout'>(</span><span class='hs-conid'>WayCustom</span> <span class='hs-varid'>xs</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>xs</span>
<a name="line-1122"></a><span class='hs-definition'>wayDesc</span> <span class='hs-conid'>WayThreaded</span> <span class='hs-keyglyph'>=</span> <span class='hs-str'>"Threaded"</span>
<a name="line-1123"></a><span class='hs-definition'>wayDesc</span> <span class='hs-conid'>WayDebug</span>    <span class='hs-keyglyph'>=</span> <span class='hs-str'>"Debug"</span>
<a name="line-1124"></a><span class='hs-definition'>wayDesc</span> <span class='hs-conid'>WayDyn</span>      <span class='hs-keyglyph'>=</span> <span class='hs-str'>"Dynamic"</span>
<a name="line-1125"></a><span class='hs-definition'>wayDesc</span> <span class='hs-conid'>WayProf</span>     <span class='hs-keyglyph'>=</span> <span class='hs-str'>"Profiling"</span>
<a name="line-1126"></a><span class='hs-definition'>wayDesc</span> <span class='hs-conid'>WayEventLog</span> <span class='hs-keyglyph'>=</span> <span class='hs-str'>"RTS Event Logging"</span>
<a name="line-1127"></a><span class='hs-definition'>wayDesc</span> <span class='hs-conid'>WayPar</span>      <span class='hs-keyglyph'>=</span> <span class='hs-str'>"Parallel"</span>
<a name="line-1128"></a><span class='hs-definition'>wayDesc</span> <span class='hs-conid'>WayGran</span>     <span class='hs-keyglyph'>=</span> <span class='hs-str'>"GranSim"</span>
<a name="line-1129"></a><span class='hs-definition'>wayDesc</span> <span class='hs-conid'>WayNDP</span>      <span class='hs-keyglyph'>=</span> <span class='hs-str'>"Nested data parallelism"</span>
<a name="line-1130"></a>
<a name="line-1131"></a><a name="wayGeneralFlags"></a><span class='hs-comment'>-- Turn these flags on when enabling this way</span>
<a name="line-1132"></a><span class='hs-definition'>wayGeneralFlags</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Platform</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Way</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>GeneralFlag</span><span class='hs-keyglyph'>]</span>
<a name="line-1133"></a><span class='hs-definition'>wayGeneralFlags</span> <span class='hs-keyword'>_</span> <span class='hs-layout'>(</span><span class='hs-conid'>WayCustom</span> <span class='hs-layout'>{</span><span class='hs-layout'>}</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>[]</span>
<a name="line-1134"></a><span class='hs-definition'>wayGeneralFlags</span> <span class='hs-keyword'>_</span> <span class='hs-conid'>WayThreaded</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>[]</span>
<a name="line-1135"></a><span class='hs-definition'>wayGeneralFlags</span> <span class='hs-keyword'>_</span> <span class='hs-conid'>WayDebug</span>    <span class='hs-keyglyph'>=</span> <span class='hs-conid'>[]</span>
<a name="line-1136"></a><span class='hs-definition'>wayGeneralFlags</span> <span class='hs-keyword'>_</span> <span class='hs-conid'>WayDyn</span>      <span class='hs-keyglyph'>=</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>Opt_PIC</span><span class='hs-keyglyph'>]</span>
<a name="line-1137"></a>    <span class='hs-comment'>-- We could get away without adding -fPIC when compiling the</span>
<a name="line-1138"></a>    <span class='hs-comment'>-- modules of a program that is to be linked with -dynamic; the</span>
<a name="line-1139"></a>    <span class='hs-comment'>-- program itself does not need to be position-independent, only</span>
<a name="line-1140"></a>    <span class='hs-comment'>-- the libraries need to be.  HOWEVER, GHCi links objects into a</span>
<a name="line-1141"></a>    <span class='hs-comment'>-- .so before loading the .so using the system linker.  Since only</span>
<a name="line-1142"></a>    <span class='hs-comment'>-- PIC objects can be linked into a .so, we have to compile even</span>
<a name="line-1143"></a>    <span class='hs-comment'>-- modules of the main program with -fPIC when using -dynamic.</span>
<a name="line-1144"></a><span class='hs-definition'>wayGeneralFlags</span> <span class='hs-keyword'>_</span> <span class='hs-conid'>WayProf</span>     <span class='hs-keyglyph'>=</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>Opt_SccProfilingOn</span><span class='hs-keyglyph'>]</span>
<a name="line-1145"></a><span class='hs-definition'>wayGeneralFlags</span> <span class='hs-keyword'>_</span> <span class='hs-conid'>WayEventLog</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>[]</span>
<a name="line-1146"></a><span class='hs-definition'>wayGeneralFlags</span> <span class='hs-keyword'>_</span> <span class='hs-conid'>WayPar</span>      <span class='hs-keyglyph'>=</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>Opt_Parallel</span><span class='hs-keyglyph'>]</span>
<a name="line-1147"></a><span class='hs-definition'>wayGeneralFlags</span> <span class='hs-keyword'>_</span> <span class='hs-conid'>WayGran</span>     <span class='hs-keyglyph'>=</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>Opt_GranMacros</span><span class='hs-keyglyph'>]</span>
<a name="line-1148"></a><span class='hs-definition'>wayGeneralFlags</span> <span class='hs-keyword'>_</span> <span class='hs-conid'>WayNDP</span>      <span class='hs-keyglyph'>=</span> <span class='hs-conid'>[]</span>
<a name="line-1149"></a>
<a name="line-1150"></a><a name="wayUnsetGeneralFlags"></a><span class='hs-comment'>-- Turn these flags off when enabling this way</span>
<a name="line-1151"></a><span class='hs-definition'>wayUnsetGeneralFlags</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Platform</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Way</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>GeneralFlag</span><span class='hs-keyglyph'>]</span>
<a name="line-1152"></a><span class='hs-definition'>wayUnsetGeneralFlags</span> <span class='hs-keyword'>_</span> <span class='hs-layout'>(</span><span class='hs-conid'>WayCustom</span> <span class='hs-layout'>{</span><span class='hs-layout'>}</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>[]</span>
<a name="line-1153"></a><span class='hs-definition'>wayUnsetGeneralFlags</span> <span class='hs-keyword'>_</span> <span class='hs-conid'>WayThreaded</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>[]</span>
<a name="line-1154"></a><span class='hs-definition'>wayUnsetGeneralFlags</span> <span class='hs-keyword'>_</span> <span class='hs-conid'>WayDebug</span>    <span class='hs-keyglyph'>=</span> <span class='hs-conid'>[]</span>
<a name="line-1155"></a><span class='hs-definition'>wayUnsetGeneralFlags</span> <span class='hs-keyword'>_</span> <span class='hs-conid'>WayDyn</span>      <span class='hs-keyglyph'>=</span> <span class='hs-keyglyph'>[</span><span class='hs-comment'>-- There's no point splitting objects</span>
<a name="line-1156"></a>                                      <span class='hs-comment'>-- when we're going to be dynamically</span>
<a name="line-1157"></a>                                      <span class='hs-comment'>-- linking. Plus it breaks compilation</span>
<a name="line-1158"></a>                                      <span class='hs-comment'>-- on OSX x86.</span>
<a name="line-1159"></a>                                      <span class='hs-conid'>Opt_SplitObjs</span><span class='hs-keyglyph'>]</span>
<a name="line-1160"></a><span class='hs-definition'>wayUnsetGeneralFlags</span> <span class='hs-keyword'>_</span> <span class='hs-conid'>WayProf</span>     <span class='hs-keyglyph'>=</span> <span class='hs-conid'>[]</span>
<a name="line-1161"></a><span class='hs-definition'>wayUnsetGeneralFlags</span> <span class='hs-keyword'>_</span> <span class='hs-conid'>WayEventLog</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>[]</span>
<a name="line-1162"></a><span class='hs-definition'>wayUnsetGeneralFlags</span> <span class='hs-keyword'>_</span> <span class='hs-conid'>WayPar</span>      <span class='hs-keyglyph'>=</span> <span class='hs-conid'>[]</span>
<a name="line-1163"></a><span class='hs-definition'>wayUnsetGeneralFlags</span> <span class='hs-keyword'>_</span> <span class='hs-conid'>WayGran</span>     <span class='hs-keyglyph'>=</span> <span class='hs-conid'>[]</span>
<a name="line-1164"></a><span class='hs-definition'>wayUnsetGeneralFlags</span> <span class='hs-keyword'>_</span> <span class='hs-conid'>WayNDP</span>      <span class='hs-keyglyph'>=</span> <span class='hs-conid'>[]</span>
<a name="line-1165"></a>
<a name="line-1166"></a><a name="wayExtras"></a><span class='hs-definition'>wayExtras</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Platform</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Way</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span>
<a name="line-1167"></a><span class='hs-definition'>wayExtras</span> <span class='hs-keyword'>_</span> <span class='hs-layout'>(</span><span class='hs-conid'>WayCustom</span> <span class='hs-layout'>{</span><span class='hs-layout'>}</span><span class='hs-layout'>)</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>dflags</span>
<a name="line-1168"></a><span class='hs-definition'>wayExtras</span> <span class='hs-keyword'>_</span> <span class='hs-conid'>WayThreaded</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>dflags</span>
<a name="line-1169"></a><span class='hs-definition'>wayExtras</span> <span class='hs-keyword'>_</span> <span class='hs-conid'>WayDebug</span>    <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>dflags</span>
<a name="line-1170"></a><span class='hs-definition'>wayExtras</span> <span class='hs-keyword'>_</span> <span class='hs-conid'>WayDyn</span>      <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>dflags</span>
<a name="line-1171"></a><span class='hs-definition'>wayExtras</span> <span class='hs-keyword'>_</span> <span class='hs-conid'>WayProf</span>     <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>dflags</span>
<a name="line-1172"></a><span class='hs-definition'>wayExtras</span> <span class='hs-keyword'>_</span> <span class='hs-conid'>WayEventLog</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>dflags</span>
<a name="line-1173"></a><span class='hs-definition'>wayExtras</span> <span class='hs-keyword'>_</span> <span class='hs-conid'>WayPar</span>      <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>exposePackage'</span> <span class='hs-str'>"concurrent"</span> <span class='hs-varid'>dflags</span>
<a name="line-1174"></a><span class='hs-definition'>wayExtras</span> <span class='hs-keyword'>_</span> <span class='hs-conid'>WayGran</span>     <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>exposePackage'</span> <span class='hs-str'>"concurrent"</span> <span class='hs-varid'>dflags</span>
<a name="line-1175"></a><span class='hs-definition'>wayExtras</span> <span class='hs-keyword'>_</span> <span class='hs-conid'>WayNDP</span>      <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>setExtensionFlag'</span> <span class='hs-conid'>Opt_ParallelArrays</span>
<a name="line-1176"></a>                               <span class='hs-varop'>$</span> <span class='hs-varid'>setGeneralFlag'</span> <span class='hs-conid'>Opt_Vectorise</span> <span class='hs-varid'>dflags</span>
<a name="line-1177"></a>
<a name="line-1178"></a><a name="wayOptc"></a><span class='hs-definition'>wayOptc</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Platform</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Way</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>String</span><span class='hs-keyglyph'>]</span>
<a name="line-1179"></a><span class='hs-definition'>wayOptc</span> <span class='hs-keyword'>_</span> <span class='hs-layout'>(</span><span class='hs-conid'>WayCustom</span> <span class='hs-layout'>{</span><span class='hs-layout'>}</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>[]</span>
<a name="line-1180"></a><span class='hs-definition'>wayOptc</span> <span class='hs-varid'>platform</span> <span class='hs-conid'>WayThreaded</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyword'>case</span> <span class='hs-varid'>platformOS</span> <span class='hs-varid'>platform</span> <span class='hs-keyword'>of</span>
<a name="line-1181"></a>                               <span class='hs-conid'>OSOpenBSD</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyglyph'>[</span><span class='hs-str'>"-pthread"</span><span class='hs-keyglyph'>]</span>
<a name="line-1182"></a>                               <span class='hs-conid'>OSNetBSD</span>  <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyglyph'>[</span><span class='hs-str'>"-pthread"</span><span class='hs-keyglyph'>]</span>
<a name="line-1183"></a>                               <span class='hs-keyword'>_</span>         <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>[]</span>
<a name="line-1184"></a><span class='hs-definition'>wayOptc</span> <span class='hs-keyword'>_</span> <span class='hs-conid'>WayDebug</span>      <span class='hs-keyglyph'>=</span> <span class='hs-conid'>[]</span>
<a name="line-1185"></a><span class='hs-definition'>wayOptc</span> <span class='hs-keyword'>_</span> <span class='hs-conid'>WayDyn</span>        <span class='hs-keyglyph'>=</span> <span class='hs-conid'>[]</span>
<a name="line-1186"></a><span class='hs-definition'>wayOptc</span> <span class='hs-keyword'>_</span> <span class='hs-conid'>WayProf</span>       <span class='hs-keyglyph'>=</span> <span class='hs-keyglyph'>[</span><span class='hs-str'>"-DPROFILING"</span><span class='hs-keyglyph'>]</span>
<a name="line-1187"></a><span class='hs-definition'>wayOptc</span> <span class='hs-keyword'>_</span> <span class='hs-conid'>WayEventLog</span>   <span class='hs-keyglyph'>=</span> <span class='hs-keyglyph'>[</span><span class='hs-str'>"-DTRACING"</span><span class='hs-keyglyph'>]</span>
<a name="line-1188"></a><span class='hs-definition'>wayOptc</span> <span class='hs-keyword'>_</span> <span class='hs-conid'>WayPar</span>        <span class='hs-keyglyph'>=</span> <span class='hs-keyglyph'>[</span><span class='hs-str'>"-DPAR"</span><span class='hs-layout'>,</span> <span class='hs-str'>"-w"</span><span class='hs-keyglyph'>]</span>
<a name="line-1189"></a><span class='hs-definition'>wayOptc</span> <span class='hs-keyword'>_</span> <span class='hs-conid'>WayGran</span>       <span class='hs-keyglyph'>=</span> <span class='hs-keyglyph'>[</span><span class='hs-str'>"-DGRAN"</span><span class='hs-keyglyph'>]</span>
<a name="line-1190"></a><span class='hs-definition'>wayOptc</span> <span class='hs-keyword'>_</span> <span class='hs-conid'>WayNDP</span>        <span class='hs-keyglyph'>=</span> <span class='hs-conid'>[]</span>
<a name="line-1191"></a>
<a name="line-1192"></a><a name="wayOptl"></a><span class='hs-definition'>wayOptl</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Platform</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Way</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>String</span><span class='hs-keyglyph'>]</span>
<a name="line-1193"></a><span class='hs-definition'>wayOptl</span> <span class='hs-keyword'>_</span> <span class='hs-layout'>(</span><span class='hs-conid'>WayCustom</span> <span class='hs-layout'>{</span><span class='hs-layout'>}</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>[]</span>
<a name="line-1194"></a><span class='hs-definition'>wayOptl</span> <span class='hs-varid'>platform</span> <span class='hs-conid'>WayThreaded</span> <span class='hs-keyglyph'>=</span>
<a name="line-1195"></a>        <span class='hs-keyword'>case</span> <span class='hs-varid'>platformOS</span> <span class='hs-varid'>platform</span> <span class='hs-keyword'>of</span>
<a name="line-1196"></a>        <span class='hs-comment'>-- FreeBSD's default threading library is the KSE-based M:N libpthread,</span>
<a name="line-1197"></a>        <span class='hs-comment'>-- which GHC has some problems with.  It's currently not clear whether</span>
<a name="line-1198"></a>        <span class='hs-comment'>-- the problems are our fault or theirs, but it seems that using the</span>
<a name="line-1199"></a>        <span class='hs-comment'>-- alternative 1:1 threading library libthr works around it:</span>
<a name="line-1200"></a>        <span class='hs-conid'>OSFreeBSD</span>  <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyglyph'>[</span><span class='hs-str'>"-lthr"</span><span class='hs-keyglyph'>]</span>
<a name="line-1201"></a>        <span class='hs-conid'>OSSolaris2</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyglyph'>[</span><span class='hs-str'>"-lrt"</span><span class='hs-keyglyph'>]</span>
<a name="line-1202"></a>        <span class='hs-conid'>OSOpenBSD</span>  <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyglyph'>[</span><span class='hs-str'>"-pthread"</span><span class='hs-keyglyph'>]</span>
<a name="line-1203"></a>        <span class='hs-conid'>OSNetBSD</span>   <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyglyph'>[</span><span class='hs-str'>"-pthread"</span><span class='hs-keyglyph'>]</span>
<a name="line-1204"></a>        <span class='hs-keyword'>_</span>          <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>[]</span>
<a name="line-1205"></a><span class='hs-definition'>wayOptl</span> <span class='hs-keyword'>_</span> <span class='hs-conid'>WayDebug</span>      <span class='hs-keyglyph'>=</span> <span class='hs-conid'>[]</span>
<a name="line-1206"></a><span class='hs-definition'>wayOptl</span> <span class='hs-keyword'>_</span> <span class='hs-conid'>WayDyn</span>        <span class='hs-keyglyph'>=</span> <span class='hs-conid'>[]</span>
<a name="line-1207"></a><span class='hs-definition'>wayOptl</span> <span class='hs-keyword'>_</span> <span class='hs-conid'>WayProf</span>       <span class='hs-keyglyph'>=</span> <span class='hs-conid'>[]</span>
<a name="line-1208"></a><span class='hs-definition'>wayOptl</span> <span class='hs-keyword'>_</span> <span class='hs-conid'>WayEventLog</span>   <span class='hs-keyglyph'>=</span> <span class='hs-conid'>[]</span>
<a name="line-1209"></a><span class='hs-definition'>wayOptl</span> <span class='hs-keyword'>_</span> <span class='hs-conid'>WayPar</span>        <span class='hs-keyglyph'>=</span> <span class='hs-keyglyph'>[</span><span class='hs-str'>"-L${PVM_ROOT}/lib/${PVM_ARCH}"</span><span class='hs-layout'>,</span>
<a name="line-1210"></a>                           <span class='hs-str'>"-lpvm3"</span><span class='hs-layout'>,</span>
<a name="line-1211"></a>                           <span class='hs-str'>"-lgpvm3"</span><span class='hs-keyglyph'>]</span>
<a name="line-1212"></a><span class='hs-definition'>wayOptl</span> <span class='hs-keyword'>_</span> <span class='hs-conid'>WayGran</span>       <span class='hs-keyglyph'>=</span> <span class='hs-conid'>[]</span>
<a name="line-1213"></a><span class='hs-definition'>wayOptl</span> <span class='hs-keyword'>_</span> <span class='hs-conid'>WayNDP</span>        <span class='hs-keyglyph'>=</span> <span class='hs-conid'>[]</span>
<a name="line-1214"></a>
<a name="line-1215"></a><a name="wayOptP"></a><span class='hs-definition'>wayOptP</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Platform</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Way</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>String</span><span class='hs-keyglyph'>]</span>
<a name="line-1216"></a><span class='hs-definition'>wayOptP</span> <span class='hs-keyword'>_</span> <span class='hs-layout'>(</span><span class='hs-conid'>WayCustom</span> <span class='hs-layout'>{</span><span class='hs-layout'>}</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>[]</span>
<a name="line-1217"></a><span class='hs-definition'>wayOptP</span> <span class='hs-keyword'>_</span> <span class='hs-conid'>WayThreaded</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>[]</span>
<a name="line-1218"></a><span class='hs-definition'>wayOptP</span> <span class='hs-keyword'>_</span> <span class='hs-conid'>WayDebug</span>    <span class='hs-keyglyph'>=</span> <span class='hs-conid'>[]</span>
<a name="line-1219"></a><span class='hs-definition'>wayOptP</span> <span class='hs-keyword'>_</span> <span class='hs-conid'>WayDyn</span>      <span class='hs-keyglyph'>=</span> <span class='hs-conid'>[]</span>
<a name="line-1220"></a><span class='hs-definition'>wayOptP</span> <span class='hs-keyword'>_</span> <span class='hs-conid'>WayProf</span>     <span class='hs-keyglyph'>=</span> <span class='hs-keyglyph'>[</span><span class='hs-str'>"-DPROFILING"</span><span class='hs-keyglyph'>]</span>
<a name="line-1221"></a><span class='hs-definition'>wayOptP</span> <span class='hs-keyword'>_</span> <span class='hs-conid'>WayEventLog</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyglyph'>[</span><span class='hs-str'>"-DTRACING"</span><span class='hs-keyglyph'>]</span>
<a name="line-1222"></a><span class='hs-definition'>wayOptP</span> <span class='hs-keyword'>_</span> <span class='hs-conid'>WayPar</span>      <span class='hs-keyglyph'>=</span> <span class='hs-keyglyph'>[</span><span class='hs-str'>"-D__PARALLEL_HASKELL__"</span><span class='hs-keyglyph'>]</span>
<a name="line-1223"></a><span class='hs-definition'>wayOptP</span> <span class='hs-keyword'>_</span> <span class='hs-conid'>WayGran</span>     <span class='hs-keyglyph'>=</span> <span class='hs-keyglyph'>[</span><span class='hs-str'>"-D__GRANSIM__"</span><span class='hs-keyglyph'>]</span>
<a name="line-1224"></a><span class='hs-definition'>wayOptP</span> <span class='hs-keyword'>_</span> <span class='hs-conid'>WayNDP</span>      <span class='hs-keyglyph'>=</span> <span class='hs-conid'>[]</span>
<a name="line-1225"></a>
<a name="line-1226"></a><a name="whenGeneratingDynamicToo"></a><span class='hs-definition'>whenGeneratingDynamicToo</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>MonadIO</span> <span class='hs-varid'>m</span> <span class='hs-keyglyph'>=&gt;</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>m</span> <span class='hs-conid'>()</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>m</span> <span class='hs-conid'>()</span>
<a name="line-1227"></a><span class='hs-definition'>whenGeneratingDynamicToo</span> <span class='hs-varid'>dflags</span> <span class='hs-varid'>f</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>ifGeneratingDynamicToo</span> <span class='hs-varid'>dflags</span> <span class='hs-varid'>f</span> <span class='hs-layout'>(</span><span class='hs-varid'>return</span> <span class='hs-conid'>()</span><span class='hs-layout'>)</span>
<a name="line-1228"></a>
<a name="line-1229"></a><a name="ifGeneratingDynamicToo"></a><span class='hs-definition'>ifGeneratingDynamicToo</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>MonadIO</span> <span class='hs-varid'>m</span> <span class='hs-keyglyph'>=&gt;</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>m</span> <span class='hs-varid'>a</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>m</span> <span class='hs-varid'>a</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>m</span> <span class='hs-varid'>a</span>
<a name="line-1230"></a><span class='hs-definition'>ifGeneratingDynamicToo</span> <span class='hs-varid'>dflags</span> <span class='hs-varid'>f</span> <span class='hs-varid'>g</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>generateDynamicTooConditional</span> <span class='hs-varid'>dflags</span> <span class='hs-varid'>f</span> <span class='hs-varid'>g</span> <span class='hs-varid'>g</span>
<a name="line-1231"></a>
<a name="line-1232"></a><a name="whenCannotGenerateDynamicToo"></a><span class='hs-definition'>whenCannotGenerateDynamicToo</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>MonadIO</span> <span class='hs-varid'>m</span> <span class='hs-keyglyph'>=&gt;</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>m</span> <span class='hs-conid'>()</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>m</span> <span class='hs-conid'>()</span>
<a name="line-1233"></a><span class='hs-definition'>whenCannotGenerateDynamicToo</span> <span class='hs-varid'>dflags</span> <span class='hs-varid'>f</span>
<a name="line-1234"></a>    <span class='hs-keyglyph'>=</span> <span class='hs-varid'>ifCannotGenerateDynamicToo</span> <span class='hs-varid'>dflags</span> <span class='hs-varid'>f</span> <span class='hs-layout'>(</span><span class='hs-varid'>return</span> <span class='hs-conid'>()</span><span class='hs-layout'>)</span>
<a name="line-1235"></a>
<a name="line-1236"></a><a name="ifCannotGenerateDynamicToo"></a><span class='hs-definition'>ifCannotGenerateDynamicToo</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>MonadIO</span> <span class='hs-varid'>m</span> <span class='hs-keyglyph'>=&gt;</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>m</span> <span class='hs-varid'>a</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>m</span> <span class='hs-varid'>a</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>m</span> <span class='hs-varid'>a</span>
<a name="line-1237"></a><span class='hs-definition'>ifCannotGenerateDynamicToo</span> <span class='hs-varid'>dflags</span> <span class='hs-varid'>f</span> <span class='hs-varid'>g</span>
<a name="line-1238"></a>    <span class='hs-keyglyph'>=</span> <span class='hs-varid'>generateDynamicTooConditional</span> <span class='hs-varid'>dflags</span> <span class='hs-varid'>g</span> <span class='hs-varid'>f</span> <span class='hs-varid'>g</span>
<a name="line-1239"></a>
<a name="line-1240"></a><a name="generateDynamicTooConditional"></a><span class='hs-definition'>generateDynamicTooConditional</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>MonadIO</span> <span class='hs-varid'>m</span>
<a name="line-1241"></a>                              <span class='hs-keyglyph'>=&gt;</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>m</span> <span class='hs-varid'>a</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>m</span> <span class='hs-varid'>a</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>m</span> <span class='hs-varid'>a</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>m</span> <span class='hs-varid'>a</span>
<a name="line-1242"></a><span class='hs-definition'>generateDynamicTooConditional</span> <span class='hs-varid'>dflags</span> <span class='hs-varid'>canGen</span> <span class='hs-varid'>cannotGen</span> <span class='hs-varid'>notTryingToGen</span>
<a name="line-1243"></a>    <span class='hs-keyglyph'>=</span> <span class='hs-keyword'>if</span> <span class='hs-varid'>gopt</span> <span class='hs-conid'>Opt_BuildDynamicToo</span> <span class='hs-varid'>dflags</span>
<a name="line-1244"></a>      <span class='hs-keyword'>then</span> <span class='hs-keyword'>do</span> <span class='hs-keyword'>let</span> <span class='hs-varid'>ref</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>canGenerateDynamicToo</span> <span class='hs-varid'>dflags</span>
<a name="line-1245"></a>              <span class='hs-varid'>b</span> <span class='hs-keyglyph'>&lt;-</span> <span class='hs-varid'>liftIO</span> <span class='hs-varop'>$</span> <span class='hs-varid'>readIORef</span> <span class='hs-varid'>ref</span>
<a name="line-1246"></a>              <span class='hs-keyword'>if</span> <span class='hs-varid'>b</span> <span class='hs-keyword'>then</span> <span class='hs-varid'>canGen</span> <span class='hs-keyword'>else</span> <span class='hs-varid'>cannotGen</span>
<a name="line-1247"></a>      <span class='hs-keyword'>else</span> <span class='hs-varid'>notTryingToGen</span>
<a name="line-1248"></a>
<a name="line-1249"></a><a name="dynamicTooMkDynamicDynFlags"></a><span class='hs-definition'>dynamicTooMkDynamicDynFlags</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span>
<a name="line-1250"></a><span class='hs-definition'>dynamicTooMkDynamicDynFlags</span> <span class='hs-varid'>dflags0</span>
<a name="line-1251"></a>    <span class='hs-keyglyph'>=</span> <span class='hs-keyword'>let</span> <span class='hs-varid'>dflags1</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>addWay'</span> <span class='hs-conid'>WayDyn</span> <span class='hs-varid'>dflags0</span>
<a name="line-1252"></a>          <span class='hs-varid'>dflags2</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>dflags1</span> <span class='hs-layout'>{</span>
<a name="line-1253"></a>                        <span class='hs-varid'>outputFile</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>dynOutputFile</span> <span class='hs-varid'>dflags1</span><span class='hs-layout'>,</span>
<a name="line-1254"></a>                        <span class='hs-varid'>hiSuf</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>dynHiSuf</span> <span class='hs-varid'>dflags1</span><span class='hs-layout'>,</span>
<a name="line-1255"></a>                        <span class='hs-varid'>objectSuf</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>dynObjectSuf</span> <span class='hs-varid'>dflags1</span>
<a name="line-1256"></a>                    <span class='hs-layout'>}</span>
<a name="line-1257"></a>          <span class='hs-varid'>dflags3</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>updateWays</span> <span class='hs-varid'>dflags2</span>
<a name="line-1258"></a>          <span class='hs-varid'>dflags4</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>gopt_unset</span> <span class='hs-varid'>dflags3</span> <span class='hs-conid'>Opt_BuildDynamicToo</span>
<a name="line-1259"></a>      <span class='hs-keyword'>in</span> <span class='hs-varid'>dflags4</span>
<a name="line-1260"></a>
<a name="line-1261"></a><span class='hs-comment'>-----------------------------------------------------------------------------</span>
<a name="line-1262"></a>
<a name="line-1263"></a><a name="initDynFlags"></a><span class='hs-comment'>-- | Used by 'GHC.runGhc' to partially initialize a new 'DynFlags' value</span>
<a name="line-1264"></a><span class='hs-definition'>initDynFlags</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>IO</span> <span class='hs-conid'>DynFlags</span>
<a name="line-1265"></a><span class='hs-definition'>initDynFlags</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyword'>do</span>
<a name="line-1266"></a> <span class='hs-keyword'>let</span> <span class='hs-comment'>-- We can't build with dynamic-too on Windows, as labels before</span>
<a name="line-1267"></a>     <span class='hs-comment'>-- the fork point are different depending on whether we are</span>
<a name="line-1268"></a>     <span class='hs-comment'>-- building dynamically or not.</span>
<a name="line-1269"></a>     <span class='hs-varid'>platformCanGenerateDynamicToo</span>
<a name="line-1270"></a>         <span class='hs-keyglyph'>=</span> <span class='hs-varid'>platformOS</span> <span class='hs-layout'>(</span><span class='hs-varid'>targetPlatform</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span> <span class='hs-varop'>/=</span> <span class='hs-conid'>OSMinGW32</span>
<a name="line-1271"></a> <span class='hs-varid'>refCanGenerateDynamicToo</span> <span class='hs-keyglyph'>&lt;-</span> <span class='hs-varid'>newIORef</span> <span class='hs-varid'>platformCanGenerateDynamicToo</span>
<a name="line-1272"></a> <span class='hs-varid'>refNextTempSuffix</span> <span class='hs-keyglyph'>&lt;-</span> <span class='hs-varid'>newIORef</span> <span class='hs-num'>0</span>
<a name="line-1273"></a> <span class='hs-varid'>refFilesToClean</span> <span class='hs-keyglyph'>&lt;-</span> <span class='hs-varid'>newIORef</span> <span class='hs-conid'>[]</span>
<a name="line-1274"></a> <span class='hs-varid'>refDirsToClean</span> <span class='hs-keyglyph'>&lt;-</span> <span class='hs-varid'>newIORef</span> <span class='hs-conid'>Map</span><span class='hs-varop'>.</span><span class='hs-varid'>empty</span>
<a name="line-1275"></a> <span class='hs-varid'>refFilesToNotIntermediateClean</span> <span class='hs-keyglyph'>&lt;-</span> <span class='hs-varid'>newIORef</span> <span class='hs-conid'>[]</span>
<a name="line-1276"></a> <span class='hs-varid'>refGeneratedDumps</span> <span class='hs-keyglyph'>&lt;-</span> <span class='hs-varid'>newIORef</span> <span class='hs-conid'>Set</span><span class='hs-varop'>.</span><span class='hs-varid'>empty</span>
<a name="line-1277"></a> <span class='hs-varid'>refLlvmVersion</span> <span class='hs-keyglyph'>&lt;-</span> <span class='hs-varid'>newIORef</span> <span class='hs-num'>28</span>
<a name="line-1278"></a> <span class='hs-varid'>refRtldInfo</span> <span class='hs-keyglyph'>&lt;-</span> <span class='hs-varid'>newIORef</span> <span class='hs-conid'>Nothing</span>
<a name="line-1279"></a> <span class='hs-varid'>refRtccInfo</span> <span class='hs-keyglyph'>&lt;-</span> <span class='hs-varid'>newIORef</span> <span class='hs-conid'>Nothing</span>
<a name="line-1280"></a> <span class='hs-varid'>wrapperNum</span> <span class='hs-keyglyph'>&lt;-</span> <span class='hs-varid'>newIORef</span> <span class='hs-varid'>emptyModuleEnv</span>
<a name="line-1281"></a> <span class='hs-varid'>canUseUnicodeQuotes</span> <span class='hs-keyglyph'>&lt;-</span> <span class='hs-keyword'>do</span> <span class='hs-keyword'>let</span> <span class='hs-varid'>enc</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>localeEncoding</span>
<a name="line-1282"></a>                               <span class='hs-varid'>str</span> <span class='hs-keyglyph'>=</span> <span class='hs-str'>""</span>
<a name="line-1283"></a>                           <span class='hs-layout'>(</span><span class='hs-varid'>withCString</span> <span class='hs-varid'>enc</span> <span class='hs-varid'>str</span> <span class='hs-varop'>$</span> <span class='hs-keyglyph'>\</span><span class='hs-varid'>cstr</span> <span class='hs-keyglyph'>-&gt;</span>
<a name="line-1284"></a>                                <span class='hs-keyword'>do</span> <span class='hs-varid'>str'</span> <span class='hs-keyglyph'>&lt;-</span> <span class='hs-varid'>peekCString</span> <span class='hs-varid'>enc</span> <span class='hs-varid'>cstr</span>
<a name="line-1285"></a>                                   <span class='hs-varid'>return</span> <span class='hs-layout'>(</span><span class='hs-varid'>str</span> <span class='hs-varop'>==</span> <span class='hs-varid'>str'</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-1286"></a>                               <span class='hs-varop'>`catchIOError`</span> <span class='hs-keyglyph'>\</span><span class='hs-keyword'>_</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>return</span> <span class='hs-conid'>False</span>
<a name="line-1287"></a> <span class='hs-varid'>return</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>{</span>
<a name="line-1288"></a>        <span class='hs-varid'>canGenerateDynamicToo</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>refCanGenerateDynamicToo</span><span class='hs-layout'>,</span>
<a name="line-1289"></a>        <span class='hs-varid'>nextTempSuffix</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>refNextTempSuffix</span><span class='hs-layout'>,</span>
<a name="line-1290"></a>        <span class='hs-varid'>filesToClean</span>   <span class='hs-keyglyph'>=</span> <span class='hs-varid'>refFilesToClean</span><span class='hs-layout'>,</span>
<a name="line-1291"></a>        <span class='hs-varid'>dirsToClean</span>    <span class='hs-keyglyph'>=</span> <span class='hs-varid'>refDirsToClean</span><span class='hs-layout'>,</span>
<a name="line-1292"></a>        <span class='hs-varid'>filesToNotIntermediateClean</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>refFilesToNotIntermediateClean</span><span class='hs-layout'>,</span>
<a name="line-1293"></a>        <span class='hs-varid'>generatedDumps</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>refGeneratedDumps</span><span class='hs-layout'>,</span>
<a name="line-1294"></a>        <span class='hs-varid'>llvmVersion</span>    <span class='hs-keyglyph'>=</span> <span class='hs-varid'>refLlvmVersion</span><span class='hs-layout'>,</span>
<a name="line-1295"></a>        <span class='hs-varid'>nextWrapperNum</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>wrapperNum</span><span class='hs-layout'>,</span>
<a name="line-1296"></a>        <span class='hs-varid'>useUnicodeQuotes</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>canUseUnicodeQuotes</span><span class='hs-layout'>,</span>
<a name="line-1297"></a>        <span class='hs-varid'>rtldInfo</span>      <span class='hs-keyglyph'>=</span> <span class='hs-varid'>refRtldInfo</span><span class='hs-layout'>,</span>
<a name="line-1298"></a>        <span class='hs-varid'>rtccInfo</span>      <span class='hs-keyglyph'>=</span> <span class='hs-varid'>refRtccInfo</span>
<a name="line-1299"></a>        <span class='hs-layout'>}</span>
<a name="line-1300"></a>
<a name="line-1301"></a><a name="defaultDynFlags"></a><span class='hs-comment'>-- | The normal 'DynFlags'. Note that they is not suitable for use in this form</span>
<a name="line-1302"></a><span class='hs-comment'>-- and must be fully initialized by 'GHC.runGhc' first.</span>
<a name="line-1303"></a><span class='hs-definition'>defaultDynFlags</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Settings</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span>
<a name="line-1304"></a><span class='hs-definition'>defaultDynFlags</span> <span class='hs-varid'>mySettings</span> <span class='hs-keyglyph'>=</span>
<a name="line-1305"></a>     <span class='hs-conid'>DynFlags</span> <span class='hs-layout'>{</span>
<a name="line-1306"></a>        <span class='hs-varid'>ghcMode</span>                 <span class='hs-keyglyph'>=</span> <span class='hs-conid'>CompManager</span><span class='hs-layout'>,</span>
<a name="line-1307"></a>        <span class='hs-varid'>ghcLink</span>                 <span class='hs-keyglyph'>=</span> <span class='hs-conid'>LinkBinary</span><span class='hs-layout'>,</span>
<a name="line-1308"></a>        <span class='hs-varid'>hscTarget</span>               <span class='hs-keyglyph'>=</span> <span class='hs-varid'>defaultHscTarget</span> <span class='hs-layout'>(</span><span class='hs-varid'>sTargetPlatform</span> <span class='hs-varid'>mySettings</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-1309"></a>        <span class='hs-varid'>verbosity</span>               <span class='hs-keyglyph'>=</span> <span class='hs-num'>0</span><span class='hs-layout'>,</span>
<a name="line-1310"></a>        <span class='hs-varid'>optLevel</span>                <span class='hs-keyglyph'>=</span> <span class='hs-num'>0</span><span class='hs-layout'>,</span>
<a name="line-1311"></a>        <span class='hs-varid'>simplPhases</span>             <span class='hs-keyglyph'>=</span> <span class='hs-num'>2</span><span class='hs-layout'>,</span>
<a name="line-1312"></a>        <span class='hs-varid'>maxSimplIterations</span>      <span class='hs-keyglyph'>=</span> <span class='hs-num'>4</span><span class='hs-layout'>,</span>
<a name="line-1313"></a>        <span class='hs-varid'>shouldDumpSimplPhase</span>    <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Nothing</span><span class='hs-layout'>,</span>
<a name="line-1314"></a>        <span class='hs-varid'>ruleCheck</span>               <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Nothing</span><span class='hs-layout'>,</span>
<a name="line-1315"></a>        <span class='hs-varid'>maxRelevantBinds</span>        <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Just</span> <span class='hs-num'>6</span><span class='hs-layout'>,</span>
<a name="line-1316"></a>        <span class='hs-varid'>simplTickFactor</span>         <span class='hs-keyglyph'>=</span> <span class='hs-num'>100</span><span class='hs-layout'>,</span>
<a name="line-1317"></a>        <span class='hs-varid'>specConstrThreshold</span>     <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Just</span> <span class='hs-num'>2000</span><span class='hs-layout'>,</span>
<a name="line-1318"></a>        <span class='hs-varid'>specConstrCount</span>         <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Just</span> <span class='hs-num'>3</span><span class='hs-layout'>,</span>
<a name="line-1319"></a>        <span class='hs-varid'>specConstrRecursive</span>     <span class='hs-keyglyph'>=</span> <span class='hs-num'>3</span><span class='hs-layout'>,</span>
<a name="line-1320"></a>        <span class='hs-varid'>liberateCaseThreshold</span>   <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Just</span> <span class='hs-num'>2000</span><span class='hs-layout'>,</span>
<a name="line-1321"></a>        <span class='hs-varid'>floatLamArgs</span>            <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Just</span> <span class='hs-num'>0</span><span class='hs-layout'>,</span> <span class='hs-comment'>-- Default: float only if no fvs</span>
<a name="line-1322"></a>
<a name="line-1323"></a>        <span class='hs-varid'>historySize</span>             <span class='hs-keyglyph'>=</span> <span class='hs-num'>20</span><span class='hs-layout'>,</span>
<a name="line-1324"></a>        <span class='hs-varid'>strictnessBefore</span>        <span class='hs-keyglyph'>=</span> <span class='hs-conid'>[]</span><span class='hs-layout'>,</span>
<a name="line-1325"></a>
<a name="line-1326"></a>        <span class='hs-varid'>parMakeCount</span>            <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Just</span> <span class='hs-num'>1</span><span class='hs-layout'>,</span>
<a name="line-1327"></a>
<a name="line-1328"></a>        <span class='hs-varid'>enableTimeStats</span>         <span class='hs-keyglyph'>=</span> <span class='hs-conid'>False</span><span class='hs-layout'>,</span>
<a name="line-1329"></a>        <span class='hs-varid'>ghcHeapSize</span>             <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Nothing</span><span class='hs-layout'>,</span>
<a name="line-1330"></a>
<a name="line-1331"></a>        <span class='hs-varid'>cmdlineHcIncludes</span>       <span class='hs-keyglyph'>=</span> <span class='hs-conid'>[]</span><span class='hs-layout'>,</span>
<a name="line-1332"></a>        <span class='hs-varid'>importPaths</span>             <span class='hs-keyglyph'>=</span> <span class='hs-keyglyph'>[</span><span class='hs-str'>"."</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span>
<a name="line-1333"></a>        <span class='hs-varid'>mainModIs</span>               <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mAIN</span><span class='hs-layout'>,</span>
<a name="line-1334"></a>        <span class='hs-varid'>mainFunIs</span>               <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Nothing</span><span class='hs-layout'>,</span>
<a name="line-1335"></a>        <span class='hs-varid'>ctxtStkDepth</span>            <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mAX_CONTEXT_REDUCTION_DEPTH</span><span class='hs-layout'>,</span>
<a name="line-1336"></a>        <span class='hs-varid'>tyFunStkDepth</span>           <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mAX_TYPE_FUNCTION_REDUCTION_DEPTH</span><span class='hs-layout'>,</span>
<a name="line-1337"></a>
<a name="line-1338"></a>        <span class='hs-varid'>thisPackage</span>             <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mainPackageId</span><span class='hs-layout'>,</span>
<a name="line-1339"></a>
<a name="line-1340"></a>        <span class='hs-varid'>objectDir</span>               <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Nothing</span><span class='hs-layout'>,</span>
<a name="line-1341"></a>        <span class='hs-varid'>dylibInstallName</span>        <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Nothing</span><span class='hs-layout'>,</span>
<a name="line-1342"></a>        <span class='hs-varid'>hiDir</span>                   <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Nothing</span><span class='hs-layout'>,</span>
<a name="line-1343"></a>        <span class='hs-varid'>stubDir</span>                 <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Nothing</span><span class='hs-layout'>,</span>
<a name="line-1344"></a>        <span class='hs-varid'>dumpDir</span>                 <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Nothing</span><span class='hs-layout'>,</span>
<a name="line-1345"></a>
<a name="line-1346"></a>        <span class='hs-varid'>objectSuf</span>               <span class='hs-keyglyph'>=</span> <span class='hs-varid'>phaseInputExt</span> <span class='hs-conid'>StopLn</span><span class='hs-layout'>,</span>
<a name="line-1347"></a>        <span class='hs-varid'>hcSuf</span>                   <span class='hs-keyglyph'>=</span> <span class='hs-varid'>phaseInputExt</span> <span class='hs-conid'>HCc</span><span class='hs-layout'>,</span>
<a name="line-1348"></a>        <span class='hs-varid'>hiSuf</span>                   <span class='hs-keyglyph'>=</span> <span class='hs-str'>"hi"</span><span class='hs-layout'>,</span>
<a name="line-1349"></a>
<a name="line-1350"></a>        <span class='hs-varid'>canGenerateDynamicToo</span>   <span class='hs-keyglyph'>=</span> <span class='hs-varid'>panic</span> <span class='hs-str'>"defaultDynFlags: No canGenerateDynamicToo"</span><span class='hs-layout'>,</span>
<a name="line-1351"></a>        <span class='hs-varid'>dynObjectSuf</span>            <span class='hs-keyglyph'>=</span> <span class='hs-str'>"dyn_"</span> <span class='hs-varop'>++</span> <span class='hs-varid'>phaseInputExt</span> <span class='hs-conid'>StopLn</span><span class='hs-layout'>,</span>
<a name="line-1352"></a>        <span class='hs-varid'>dynHiSuf</span>                <span class='hs-keyglyph'>=</span> <span class='hs-str'>"dyn_hi"</span><span class='hs-layout'>,</span>
<a name="line-1353"></a>
<a name="line-1354"></a>        <span class='hs-varid'>dllSplitFile</span>            <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Nothing</span><span class='hs-layout'>,</span>
<a name="line-1355"></a>        <span class='hs-varid'>dllSplit</span>                <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Nothing</span><span class='hs-layout'>,</span>
<a name="line-1356"></a>
<a name="line-1357"></a>        <span class='hs-varid'>pluginModNames</span>          <span class='hs-keyglyph'>=</span> <span class='hs-conid'>[]</span><span class='hs-layout'>,</span>
<a name="line-1358"></a>        <span class='hs-varid'>pluginModNameOpts</span>       <span class='hs-keyglyph'>=</span> <span class='hs-conid'>[]</span><span class='hs-layout'>,</span>
<a name="line-1359"></a>        <span class='hs-varid'>hooks</span>                   <span class='hs-keyglyph'>=</span> <span class='hs-varid'>emptyHooks</span><span class='hs-layout'>,</span>
<a name="line-1360"></a>
<a name="line-1361"></a>        <span class='hs-varid'>outputFile</span>              <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Nothing</span><span class='hs-layout'>,</span>
<a name="line-1362"></a>        <span class='hs-varid'>dynOutputFile</span>           <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Nothing</span><span class='hs-layout'>,</span>
<a name="line-1363"></a>        <span class='hs-varid'>outputHi</span>                <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Nothing</span><span class='hs-layout'>,</span>
<a name="line-1364"></a>        <span class='hs-varid'>dynLibLoader</span>            <span class='hs-keyglyph'>=</span> <span class='hs-conid'>SystemDependent</span><span class='hs-layout'>,</span>
<a name="line-1365"></a>        <span class='hs-varid'>dumpPrefix</span>              <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Nothing</span><span class='hs-layout'>,</span>
<a name="line-1366"></a>        <span class='hs-varid'>dumpPrefixForce</span>         <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Nothing</span><span class='hs-layout'>,</span>
<a name="line-1367"></a>        <span class='hs-varid'>ldInputs</span>                <span class='hs-keyglyph'>=</span> <span class='hs-conid'>[]</span><span class='hs-layout'>,</span>
<a name="line-1368"></a>        <span class='hs-varid'>includePaths</span>            <span class='hs-keyglyph'>=</span> <span class='hs-conid'>[]</span><span class='hs-layout'>,</span>
<a name="line-1369"></a>        <span class='hs-varid'>libraryPaths</span>            <span class='hs-keyglyph'>=</span> <span class='hs-conid'>[]</span><span class='hs-layout'>,</span>
<a name="line-1370"></a>        <span class='hs-varid'>frameworkPaths</span>          <span class='hs-keyglyph'>=</span> <span class='hs-conid'>[]</span><span class='hs-layout'>,</span>
<a name="line-1371"></a>        <span class='hs-varid'>cmdlineFrameworks</span>       <span class='hs-keyglyph'>=</span> <span class='hs-conid'>[]</span><span class='hs-layout'>,</span>
<a name="line-1372"></a>        <span class='hs-varid'>rtsOpts</span>                 <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Nothing</span><span class='hs-layout'>,</span>
<a name="line-1373"></a>        <span class='hs-varid'>rtsOptsEnabled</span>          <span class='hs-keyglyph'>=</span> <span class='hs-conid'>RtsOptsSafeOnly</span><span class='hs-layout'>,</span>
<a name="line-1374"></a>
<a name="line-1375"></a>        <span class='hs-varid'>hpcDir</span>                  <span class='hs-keyglyph'>=</span> <span class='hs-str'>".hpc"</span><span class='hs-layout'>,</span>
<a name="line-1376"></a>
<a name="line-1377"></a>        <span class='hs-varid'>extraPkgConfs</span>           <span class='hs-keyglyph'>=</span> <span class='hs-varid'>id</span><span class='hs-layout'>,</span>
<a name="line-1378"></a>        <span class='hs-varid'>packageFlags</span>            <span class='hs-keyglyph'>=</span> <span class='hs-conid'>[]</span><span class='hs-layout'>,</span>
<a name="line-1379"></a>        <span class='hs-varid'>pkgDatabase</span>             <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Nothing</span><span class='hs-layout'>,</span>
<a name="line-1380"></a>        <span class='hs-varid'>pkgState</span>                <span class='hs-keyglyph'>=</span> <span class='hs-varid'>panic</span> <span class='hs-str'>"no package state yet: call GHC.setSessionDynFlags"</span><span class='hs-layout'>,</span>
<a name="line-1381"></a>        <span class='hs-varid'>ways</span>                    <span class='hs-keyglyph'>=</span> <span class='hs-varid'>defaultWays</span> <span class='hs-varid'>mySettings</span><span class='hs-layout'>,</span>
<a name="line-1382"></a>        <span class='hs-varid'>buildTag</span>                <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkBuildTag</span> <span class='hs-layout'>(</span><span class='hs-varid'>defaultWays</span> <span class='hs-varid'>mySettings</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-1383"></a>        <span class='hs-varid'>rtsBuildTag</span>             <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkBuildTag</span> <span class='hs-layout'>(</span><span class='hs-varid'>defaultWays</span> <span class='hs-varid'>mySettings</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-1384"></a>        <span class='hs-varid'>splitInfo</span>               <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Nothing</span><span class='hs-layout'>,</span>
<a name="line-1385"></a>        <span class='hs-varid'>settings</span>                <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mySettings</span><span class='hs-layout'>,</span>
<a name="line-1386"></a>        <span class='hs-comment'>-- ghc -M values</span>
<a name="line-1387"></a>        <span class='hs-varid'>depMakefile</span>       <span class='hs-keyglyph'>=</span> <span class='hs-str'>"Makefile"</span><span class='hs-layout'>,</span>
<a name="line-1388"></a>        <span class='hs-varid'>depIncludePkgDeps</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>False</span><span class='hs-layout'>,</span>
<a name="line-1389"></a>        <span class='hs-varid'>depExcludeMods</span>    <span class='hs-keyglyph'>=</span> <span class='hs-conid'>[]</span><span class='hs-layout'>,</span>
<a name="line-1390"></a>        <span class='hs-varid'>depSuffixes</span>       <span class='hs-keyglyph'>=</span> <span class='hs-conid'>[]</span><span class='hs-layout'>,</span>
<a name="line-1391"></a>        <span class='hs-comment'>-- end of ghc -M values</span>
<a name="line-1392"></a>        <span class='hs-varid'>nextTempSuffix</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>panic</span> <span class='hs-str'>"defaultDynFlags: No nextTempSuffix"</span><span class='hs-layout'>,</span>
<a name="line-1393"></a>        <span class='hs-varid'>filesToClean</span>   <span class='hs-keyglyph'>=</span> <span class='hs-varid'>panic</span> <span class='hs-str'>"defaultDynFlags: No filesToClean"</span><span class='hs-layout'>,</span>
<a name="line-1394"></a>        <span class='hs-varid'>dirsToClean</span>    <span class='hs-keyglyph'>=</span> <span class='hs-varid'>panic</span> <span class='hs-str'>"defaultDynFlags: No dirsToClean"</span><span class='hs-layout'>,</span>
<a name="line-1395"></a>        <span class='hs-varid'>filesToNotIntermediateClean</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>panic</span> <span class='hs-str'>"defaultDynFlags: No filesToNotIntermediateClean"</span><span class='hs-layout'>,</span>
<a name="line-1396"></a>        <span class='hs-varid'>generatedDumps</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>panic</span> <span class='hs-str'>"defaultDynFlags: No generatedDumps"</span><span class='hs-layout'>,</span>
<a name="line-1397"></a>        <span class='hs-varid'>haddockOptions</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Nothing</span><span class='hs-layout'>,</span>
<a name="line-1398"></a>        <span class='hs-varid'>dumpFlags</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>IntSet</span><span class='hs-varop'>.</span><span class='hs-varid'>empty</span><span class='hs-layout'>,</span>
<a name="line-1399"></a>        <span class='hs-varid'>generalFlags</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>IntSet</span><span class='hs-varop'>.</span><span class='hs-varid'>fromList</span> <span class='hs-layout'>(</span><span class='hs-varid'>map</span> <span class='hs-varid'>fromEnum</span> <span class='hs-layout'>(</span><span class='hs-varid'>defaultFlags</span> <span class='hs-varid'>mySettings</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-1400"></a>        <span class='hs-varid'>warningFlags</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>IntSet</span><span class='hs-varop'>.</span><span class='hs-varid'>fromList</span> <span class='hs-layout'>(</span><span class='hs-varid'>map</span> <span class='hs-varid'>fromEnum</span> <span class='hs-varid'>standardWarnings</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-1401"></a>        <span class='hs-varid'>ghciScripts</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>[]</span><span class='hs-layout'>,</span>
<a name="line-1402"></a>        <span class='hs-varid'>language</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Nothing</span><span class='hs-layout'>,</span>
<a name="line-1403"></a>        <span class='hs-varid'>safeHaskell</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Sf_SafeInferred</span><span class='hs-layout'>,</span>
<a name="line-1404"></a>        <span class='hs-varid'>thOnLoc</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>noSrcSpan</span><span class='hs-layout'>,</span>
<a name="line-1405"></a>        <span class='hs-varid'>newDerivOnLoc</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>noSrcSpan</span><span class='hs-layout'>,</span>
<a name="line-1406"></a>        <span class='hs-varid'>pkgTrustOnLoc</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>noSrcSpan</span><span class='hs-layout'>,</span>
<a name="line-1407"></a>        <span class='hs-varid'>warnSafeOnLoc</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>noSrcSpan</span><span class='hs-layout'>,</span>
<a name="line-1408"></a>        <span class='hs-varid'>warnUnsafeOnLoc</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>noSrcSpan</span><span class='hs-layout'>,</span>
<a name="line-1409"></a>        <span class='hs-varid'>extensions</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>[]</span><span class='hs-layout'>,</span>
<a name="line-1410"></a>        <span class='hs-varid'>extensionFlags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>flattenExtensionFlags</span> <span class='hs-conid'>Nothing</span> <span class='hs-conid'>[]</span><span class='hs-layout'>,</span>
<a name="line-1411"></a>
<a name="line-1412"></a>        <span class='hs-comment'>-- The ufCreationThreshold threshold must be reasonably high to</span>
<a name="line-1413"></a>        <span class='hs-comment'>-- take account of possible discounts.</span>
<a name="line-1414"></a>        <span class='hs-comment'>-- E.g. 450 is not enough in 'fulsom' for Interval.sqr to inline</span>
<a name="line-1415"></a>        <span class='hs-comment'>-- into Csg.calc (The unfolding for sqr never makes it into the</span>
<a name="line-1416"></a>        <span class='hs-comment'>-- interface file.)</span>
<a name="line-1417"></a>        <span class='hs-varid'>ufCreationThreshold</span> <span class='hs-keyglyph'>=</span> <span class='hs-num'>750</span><span class='hs-layout'>,</span>
<a name="line-1418"></a>        <span class='hs-varid'>ufUseThreshold</span>      <span class='hs-keyglyph'>=</span> <span class='hs-num'>60</span><span class='hs-layout'>,</span>
<a name="line-1419"></a>        <span class='hs-varid'>ufFunAppDiscount</span>    <span class='hs-keyglyph'>=</span> <span class='hs-num'>60</span><span class='hs-layout'>,</span>
<a name="line-1420"></a>        <span class='hs-comment'>-- Be fairly keen to inline a fuction if that means</span>
<a name="line-1421"></a>        <span class='hs-comment'>-- we'll be able to pick the right method from a dictionary</span>
<a name="line-1422"></a>        <span class='hs-varid'>ufDictDiscount</span>      <span class='hs-keyglyph'>=</span> <span class='hs-num'>30</span><span class='hs-layout'>,</span>
<a name="line-1423"></a>        <span class='hs-varid'>ufKeenessFactor</span>     <span class='hs-keyglyph'>=</span> <span class='hs-num'>1.5</span><span class='hs-layout'>,</span>
<a name="line-1424"></a>        <span class='hs-varid'>ufDearOp</span>            <span class='hs-keyglyph'>=</span> <span class='hs-num'>40</span><span class='hs-layout'>,</span>
<a name="line-1425"></a>
<a name="line-1426"></a>        <span class='hs-varid'>maxWorkerArgs</span> <span class='hs-keyglyph'>=</span> <span class='hs-num'>10</span><span class='hs-layout'>,</span>
<a name="line-1427"></a>
<a name="line-1428"></a>        <span class='hs-varid'>ghciHistSize</span> <span class='hs-keyglyph'>=</span> <span class='hs-num'>50</span><span class='hs-layout'>,</span> <span class='hs-comment'>-- keep a log of length 50 by default</span>
<a name="line-1429"></a>
<a name="line-1430"></a>        <span class='hs-varid'>log_action</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>defaultLogAction</span><span class='hs-layout'>,</span>
<a name="line-1431"></a>        <span class='hs-varid'>flushOut</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>defaultFlushOut</span><span class='hs-layout'>,</span>
<a name="line-1432"></a>        <span class='hs-varid'>flushErr</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>defaultFlushErr</span><span class='hs-layout'>,</span>
<a name="line-1433"></a>        <span class='hs-varid'>pprUserLength</span> <span class='hs-keyglyph'>=</span> <span class='hs-num'>5</span><span class='hs-layout'>,</span>
<a name="line-1434"></a>        <span class='hs-varid'>pprCols</span> <span class='hs-keyglyph'>=</span> <span class='hs-num'>100</span><span class='hs-layout'>,</span>
<a name="line-1435"></a>        <span class='hs-varid'>useUnicodeQuotes</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>False</span><span class='hs-layout'>,</span>
<a name="line-1436"></a>        <span class='hs-varid'>traceLevel</span> <span class='hs-keyglyph'>=</span> <span class='hs-num'>1</span><span class='hs-layout'>,</span>
<a name="line-1437"></a>        <span class='hs-varid'>profAuto</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>NoProfAuto</span><span class='hs-layout'>,</span>
<a name="line-1438"></a>        <span class='hs-varid'>llvmVersion</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>panic</span> <span class='hs-str'>"defaultDynFlags: No llvmVersion"</span><span class='hs-layout'>,</span>
<a name="line-1439"></a>        <span class='hs-varid'>interactivePrint</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Nothing</span><span class='hs-layout'>,</span>
<a name="line-1440"></a>        <span class='hs-varid'>nextWrapperNum</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>panic</span> <span class='hs-str'>"defaultDynFlags: No nextWrapperNum"</span><span class='hs-layout'>,</span>
<a name="line-1441"></a>        <span class='hs-varid'>sseVersion</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Nothing</span><span class='hs-layout'>,</span>
<a name="line-1442"></a>        <span class='hs-varid'>avx</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>False</span><span class='hs-layout'>,</span>
<a name="line-1443"></a>        <span class='hs-varid'>avx2</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>False</span><span class='hs-layout'>,</span>
<a name="line-1444"></a>        <span class='hs-varid'>avx512cd</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>False</span><span class='hs-layout'>,</span>
<a name="line-1445"></a>        <span class='hs-varid'>avx512er</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>False</span><span class='hs-layout'>,</span>
<a name="line-1446"></a>        <span class='hs-varid'>avx512f</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>False</span><span class='hs-layout'>,</span>
<a name="line-1447"></a>        <span class='hs-varid'>avx512pf</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>False</span><span class='hs-layout'>,</span>
<a name="line-1448"></a>        <span class='hs-varid'>rtldInfo</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>panic</span> <span class='hs-str'>"defaultDynFlags: no rtldInfo"</span><span class='hs-layout'>,</span>
<a name="line-1449"></a>        <span class='hs-varid'>rtccInfo</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>panic</span> <span class='hs-str'>"defaultDynFlags: no rtccInfo"</span>
<a name="line-1450"></a>      <span class='hs-layout'>}</span>
<a name="line-1451"></a>
<a name="line-1452"></a><a name="defaultWays"></a><span class='hs-definition'>defaultWays</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Settings</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>Way</span><span class='hs-keyglyph'>]</span>
<a name="line-1453"></a><span class='hs-definition'>defaultWays</span> <span class='hs-varid'>settings</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyword'>if</span> <span class='hs-varid'>pc_DYNAMIC_BY_DEFAULT</span> <span class='hs-layout'>(</span><span class='hs-varid'>sPlatformConstants</span> <span class='hs-varid'>settings</span><span class='hs-layout'>)</span>
<a name="line-1454"></a>                       <span class='hs-keyword'>then</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>WayDyn</span><span class='hs-keyglyph'>]</span>
<a name="line-1455"></a>                       <span class='hs-keyword'>else</span> <span class='hs-conid'>[]</span>
<a name="line-1456"></a>
<a name="line-1457"></a><a name="interpWays"></a><span class='hs-definition'>interpWays</span> <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>Way</span><span class='hs-keyglyph'>]</span>
<a name="line-1458"></a><span class='hs-definition'>interpWays</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyword'>if</span> <span class='hs-varid'>dynamicGhc</span>
<a name="line-1459"></a>             <span class='hs-keyword'>then</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>WayDyn</span><span class='hs-keyglyph'>]</span>
<a name="line-1460"></a>             <span class='hs-keyword'>else</span> <span class='hs-conid'>[]</span>
<a name="line-1461"></a>
<a name="line-1462"></a><span class='hs-comment'>--------------------------------------------------------------------------</span>
<a name="line-1463"></a>
<a name="line-1464"></a><a name="FatalMessager"></a><span class='hs-keyword'>type</span> <span class='hs-conid'>FatalMessager</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>String</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>IO</span> <span class='hs-conid'>()</span>
<a name="line-1465"></a><a name="LogAction"></a><span class='hs-keyword'>type</span> <span class='hs-conid'>LogAction</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Severity</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>SrcSpan</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>PprStyle</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>MsgDoc</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>IO</span> <span class='hs-conid'>()</span>
<a name="line-1466"></a>
<a name="line-1467"></a><a name="defaultFatalMessager"></a><span class='hs-definition'>defaultFatalMessager</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>FatalMessager</span>
<a name="line-1468"></a><span class='hs-definition'>defaultFatalMessager</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>hPutStrLn</span> <span class='hs-varid'>stderr</span>
<a name="line-1469"></a>
<a name="line-1470"></a><a name="defaultLogAction"></a><span class='hs-definition'>defaultLogAction</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>LogAction</span>
<a name="line-1471"></a><span class='hs-definition'>defaultLogAction</span> <span class='hs-varid'>dflags</span> <span class='hs-varid'>severity</span> <span class='hs-varid'>srcSpan</span> <span class='hs-varid'>style</span> <span class='hs-varid'>msg</span>
<a name="line-1472"></a>    <span class='hs-keyglyph'>=</span> <span class='hs-keyword'>case</span> <span class='hs-varid'>severity</span> <span class='hs-keyword'>of</span>
<a name="line-1473"></a>      <span class='hs-conid'>SevOutput</span>      <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>printSDoc</span> <span class='hs-varid'>msg</span> <span class='hs-varid'>style</span>
<a name="line-1474"></a>      <span class='hs-conid'>SevDump</span>        <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>printSDoc</span> <span class='hs-layout'>(</span><span class='hs-varid'>msg</span> <span class='hs-varop'>$$</span> <span class='hs-varid'>blankLine</span><span class='hs-layout'>)</span> <span class='hs-varid'>style</span>
<a name="line-1475"></a>      <span class='hs-conid'>SevInteractive</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>putStrSDoc</span> <span class='hs-varid'>msg</span> <span class='hs-varid'>style</span>
<a name="line-1476"></a>      <span class='hs-conid'>SevInfo</span>        <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>printErrs</span> <span class='hs-varid'>msg</span> <span class='hs-varid'>style</span>
<a name="line-1477"></a>      <span class='hs-conid'>SevFatal</span>       <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>printErrs</span> <span class='hs-varid'>msg</span> <span class='hs-varid'>style</span>
<a name="line-1478"></a>      <span class='hs-keyword'>_</span>              <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyword'>do</span> <span class='hs-varid'>hPutChar</span> <span class='hs-varid'>stderr</span> <span class='hs-chr'>'\n'</span>
<a name="line-1479"></a>                           <span class='hs-varid'>printErrs</span> <span class='hs-layout'>(</span><span class='hs-varid'>mkLocMessage</span> <span class='hs-varid'>severity</span> <span class='hs-varid'>srcSpan</span> <span class='hs-varid'>msg</span><span class='hs-layout'>)</span> <span class='hs-varid'>style</span>
<a name="line-1480"></a>                           <span class='hs-comment'>-- careful (#2302): printErrs prints in UTF-8,</span>
<a name="line-1481"></a>                           <span class='hs-comment'>-- whereas converting to string first and using</span>
<a name="line-1482"></a>                           <span class='hs-comment'>-- hPutStr would just emit the low 8 bits of</span>
<a name="line-1483"></a>                           <span class='hs-comment'>-- each unicode char.</span>
<a name="line-1484"></a>    <span class='hs-keyword'>where</span> <span class='hs-varid'>printSDoc</span>  <span class='hs-keyglyph'>=</span> <span class='hs-varid'>defaultLogActionHPrintDoc</span>  <span class='hs-varid'>dflags</span> <span class='hs-varid'>stdout</span>
<a name="line-1485"></a>          <span class='hs-varid'>printErrs</span>  <span class='hs-keyglyph'>=</span> <span class='hs-varid'>defaultLogActionHPrintDoc</span>  <span class='hs-varid'>dflags</span> <span class='hs-varid'>stderr</span>
<a name="line-1486"></a>          <span class='hs-varid'>putStrSDoc</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>defaultLogActionHPutStrDoc</span> <span class='hs-varid'>dflags</span> <span class='hs-varid'>stdout</span>
<a name="line-1487"></a>
<a name="line-1488"></a><a name="defaultLogActionHPrintDoc"></a><span class='hs-definition'>defaultLogActionHPrintDoc</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Handle</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>SDoc</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>PprStyle</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>IO</span> <span class='hs-conid'>()</span>
<a name="line-1489"></a><span class='hs-definition'>defaultLogActionHPrintDoc</span> <span class='hs-varid'>dflags</span> <span class='hs-varid'>h</span> <span class='hs-varid'>d</span> <span class='hs-varid'>sty</span>
<a name="line-1490"></a> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>defaultLogActionHPutStrDoc</span> <span class='hs-varid'>dflags</span> <span class='hs-varid'>h</span> <span class='hs-layout'>(</span><span class='hs-varid'>d</span> <span class='hs-varop'>$$</span> <span class='hs-varid'>text</span> <span class='hs-str'>""</span><span class='hs-layout'>)</span> <span class='hs-varid'>sty</span>
<a name="line-1491"></a>      <span class='hs-comment'>-- Adds a newline</span>
<a name="line-1492"></a>
<a name="line-1493"></a><a name="defaultLogActionHPutStrDoc"></a><span class='hs-definition'>defaultLogActionHPutStrDoc</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Handle</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>SDoc</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>PprStyle</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>IO</span> <span class='hs-conid'>()</span>
<a name="line-1494"></a><span class='hs-definition'>defaultLogActionHPutStrDoc</span> <span class='hs-varid'>dflags</span> <span class='hs-varid'>h</span> <span class='hs-varid'>d</span> <span class='hs-varid'>sty</span>
<a name="line-1495"></a>  <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Pretty</span><span class='hs-varop'>.</span><span class='hs-varid'>printDoc_</span> <span class='hs-conid'>Pretty</span><span class='hs-varop'>.</span><span class='hs-conid'>PageMode</span> <span class='hs-layout'>(</span><span class='hs-varid'>pprCols</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span> <span class='hs-varid'>h</span> <span class='hs-varid'>doc</span>
<a name="line-1496"></a>  <span class='hs-keyword'>where</span>   <span class='hs-comment'>-- Don't add a newline at the end, so that successive</span>
<a name="line-1497"></a>          <span class='hs-comment'>-- calls to this log-action can output all on the same line</span>
<a name="line-1498"></a>    <span class='hs-varid'>doc</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>runSDoc</span> <span class='hs-varid'>d</span> <span class='hs-layout'>(</span><span class='hs-varid'>initSDocContext</span> <span class='hs-varid'>dflags</span> <span class='hs-varid'>sty</span><span class='hs-layout'>)</span>
<a name="line-1499"></a>
<a name="line-1500"></a><a name="FlushOut"></a><span class='hs-keyword'>newtype</span> <span class='hs-conid'>FlushOut</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>FlushOut</span> <span class='hs-layout'>(</span><span class='hs-conid'>IO</span> <span class='hs-conid'>()</span><span class='hs-layout'>)</span>
<a name="line-1501"></a>
<a name="line-1502"></a><a name="defaultFlushOut"></a><span class='hs-definition'>defaultFlushOut</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>FlushOut</span>
<a name="line-1503"></a><span class='hs-definition'>defaultFlushOut</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>FlushOut</span> <span class='hs-varop'>$</span> <span class='hs-varid'>hFlush</span> <span class='hs-varid'>stdout</span>
<a name="line-1504"></a>
<a name="line-1505"></a><a name="FlushErr"></a><span class='hs-keyword'>newtype</span> <span class='hs-conid'>FlushErr</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>FlushErr</span> <span class='hs-layout'>(</span><span class='hs-conid'>IO</span> <span class='hs-conid'>()</span><span class='hs-layout'>)</span>
<a name="line-1506"></a>
<a name="line-1507"></a><a name="defaultFlushErr"></a><span class='hs-definition'>defaultFlushErr</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>FlushErr</span>
<a name="line-1508"></a><span class='hs-definition'>defaultFlushErr</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>FlushErr</span> <span class='hs-varop'>$</span> <span class='hs-varid'>hFlush</span> <span class='hs-varid'>stderr</span>
<a name="line-1509"></a>
<a name="line-1510"></a><a name="printOutputForUser"></a><span class='hs-definition'>printOutputForUser</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>PrintUnqualified</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>SDoc</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>IO</span> <span class='hs-conid'>()</span>
<a name="line-1511"></a><span class='hs-definition'>printOutputForUser</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>printSevForUser</span> <span class='hs-conid'>SevOutput</span>
<a name="line-1512"></a>
<a name="line-1513"></a><a name="printInfoForUser"></a><span class='hs-definition'>printInfoForUser</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>PrintUnqualified</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>SDoc</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>IO</span> <span class='hs-conid'>()</span>
<a name="line-1514"></a><span class='hs-definition'>printInfoForUser</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>printSevForUser</span> <span class='hs-conid'>SevInfo</span>
<a name="line-1515"></a>
<a name="line-1516"></a><a name="printSevForUser"></a><span class='hs-definition'>printSevForUser</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Severity</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>PrintUnqualified</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>SDoc</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>IO</span> <span class='hs-conid'>()</span>
<a name="line-1517"></a><span class='hs-definition'>printSevForUser</span> <span class='hs-varid'>sev</span> <span class='hs-varid'>dflags</span> <span class='hs-varid'>unqual</span> <span class='hs-varid'>doc</span>
<a name="line-1518"></a>    <span class='hs-keyglyph'>=</span> <span class='hs-varid'>log_action</span> <span class='hs-varid'>dflags</span> <span class='hs-varid'>dflags</span> <span class='hs-varid'>sev</span> <span class='hs-varid'>noSrcSpan</span> <span class='hs-layout'>(</span><span class='hs-varid'>mkUserStyle</span> <span class='hs-varid'>unqual</span> <span class='hs-conid'>AllTheWay</span><span class='hs-layout'>)</span> <span class='hs-varid'>doc</span>
<a name="line-1519"></a>
<a name="line-1520"></a><span class='hs-comment'>{-
<a name="line-1521"></a>Note [Verbosity levels]
<a name="line-1522"></a>~~~~~~~~~~~~~~~~~~~~~~~
<a name="line-1523"></a>    0   |   print errors &amp; warnings only
<a name="line-1524"></a>    1   |   minimal verbosity: print "compiling M ... done." for each module.
<a name="line-1525"></a>    2   |   equivalent to -dshow-passes
<a name="line-1526"></a>    3   |   equivalent to existing "ghc -v"
<a name="line-1527"></a>    4   |   "ghc -v -ddump-most"
<a name="line-1528"></a>    5   |   "ghc -v -ddump-all"
<a name="line-1529"></a>-}</span>
<a name="line-1530"></a>
<a name="line-1531"></a><a name="OnOff"></a><span class='hs-keyword'>data</span> <span class='hs-conid'>OnOff</span> <span class='hs-varid'>a</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>On</span> <span class='hs-varid'>a</span>
<a name="line-1532"></a>             <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Off</span> <span class='hs-varid'>a</span>
<a name="line-1533"></a>
<a name="line-1534"></a><a name="flattenExtensionFlags"></a><span class='hs-comment'>-- OnOffs accumulate in reverse order, so we use foldr in order to</span>
<a name="line-1535"></a><span class='hs-comment'>-- process them in the right order</span>
<a name="line-1536"></a><span class='hs-definition'>flattenExtensionFlags</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Maybe</span> <span class='hs-conid'>Language</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>OnOff</span> <span class='hs-conid'>ExtensionFlag</span><span class='hs-keyglyph'>]</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>IntSet</span>
<a name="line-1537"></a><span class='hs-definition'>flattenExtensionFlags</span> <span class='hs-varid'>ml</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>foldr</span> <span class='hs-varid'>f</span> <span class='hs-varid'>defaultExtensionFlags</span>
<a name="line-1538"></a>    <span class='hs-keyword'>where</span> <span class='hs-varid'>f</span> <span class='hs-layout'>(</span><span class='hs-conid'>On</span> <span class='hs-varid'>f</span><span class='hs-layout'>)</span>  <span class='hs-varid'>flags</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>IntSet</span><span class='hs-varop'>.</span><span class='hs-varid'>insert</span> <span class='hs-layout'>(</span><span class='hs-varid'>fromEnum</span> <span class='hs-varid'>f</span><span class='hs-layout'>)</span> <span class='hs-varid'>flags</span>
<a name="line-1539"></a>          <span class='hs-varid'>f</span> <span class='hs-layout'>(</span><span class='hs-conid'>Off</span> <span class='hs-varid'>f</span><span class='hs-layout'>)</span> <span class='hs-varid'>flags</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>IntSet</span><span class='hs-varop'>.</span><span class='hs-varid'>delete</span> <span class='hs-layout'>(</span><span class='hs-varid'>fromEnum</span> <span class='hs-varid'>f</span><span class='hs-layout'>)</span> <span class='hs-varid'>flags</span>
<a name="line-1540"></a>          <span class='hs-varid'>defaultExtensionFlags</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>IntSet</span><span class='hs-varop'>.</span><span class='hs-varid'>fromList</span> <span class='hs-layout'>(</span><span class='hs-varid'>map</span> <span class='hs-varid'>fromEnum</span> <span class='hs-layout'>(</span><span class='hs-varid'>languageExtensions</span> <span class='hs-varid'>ml</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-1541"></a>
<a name="line-1542"></a><a name="languageExtensions"></a><span class='hs-definition'>languageExtensions</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Maybe</span> <span class='hs-conid'>Language</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>ExtensionFlag</span><span class='hs-keyglyph'>]</span>
<a name="line-1543"></a>
<a name="line-1544"></a><span class='hs-definition'>languageExtensions</span> <span class='hs-conid'>Nothing</span>
<a name="line-1545"></a>    <span class='hs-comment'>-- Nothing =&gt; the default case</span>
<a name="line-1546"></a>    <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Opt_NondecreasingIndentation</span> <span class='hs-comment'>-- This has been on by default for some time</span>
<a name="line-1547"></a>    <span class='hs-conop'>:</span> <span class='hs-varid'>delete</span> <span class='hs-conid'>Opt_DatatypeContexts</span>  <span class='hs-comment'>-- The Haskell' committee decided to</span>
<a name="line-1548"></a>                                   <span class='hs-comment'>-- remove datatype contexts from the</span>
<a name="line-1549"></a>                                   <span class='hs-comment'>-- language:</span>
<a name="line-1550"></a>   <span class='hs-comment'>-- <a href="http://www.haskell.org/pipermail/haskell-prime/2011-January/003335.html">http://www.haskell.org/pipermail/haskell-prime/2011-January/003335.html</a></span>
<a name="line-1551"></a>      <span class='hs-layout'>(</span><span class='hs-varid'>languageExtensions</span> <span class='hs-layout'>(</span><span class='hs-conid'>Just</span> <span class='hs-conid'>Haskell2010</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-1552"></a>
<a name="line-1553"></a>   <span class='hs-comment'>-- NB: MonoPatBinds is no longer the default</span>
<a name="line-1554"></a>
<a name="line-1555"></a><span class='hs-definition'>languageExtensions</span> <span class='hs-layout'>(</span><span class='hs-conid'>Just</span> <span class='hs-conid'>Haskell98</span><span class='hs-layout'>)</span>
<a name="line-1556"></a>    <span class='hs-keyglyph'>=</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>Opt_ImplicitPrelude</span><span class='hs-layout'>,</span>
<a name="line-1557"></a>       <span class='hs-conid'>Opt_MonomorphismRestriction</span><span class='hs-layout'>,</span>
<a name="line-1558"></a>       <span class='hs-conid'>Opt_NPlusKPatterns</span><span class='hs-layout'>,</span>
<a name="line-1559"></a>       <span class='hs-conid'>Opt_DatatypeContexts</span><span class='hs-layout'>,</span>
<a name="line-1560"></a>       <span class='hs-conid'>Opt_TraditionalRecordSyntax</span><span class='hs-layout'>,</span>
<a name="line-1561"></a>       <span class='hs-conid'>Opt_NondecreasingIndentation</span>
<a name="line-1562"></a>           <span class='hs-comment'>-- strictly speaking non-standard, but we always had this</span>
<a name="line-1563"></a>           <span class='hs-comment'>-- on implicitly before the option was added in 7.1, and</span>
<a name="line-1564"></a>           <span class='hs-comment'>-- turning it off breaks code, so we're keeping it on for</span>
<a name="line-1565"></a>           <span class='hs-comment'>-- backwards compatibility.  Cabal uses -XHaskell98 by</span>
<a name="line-1566"></a>           <span class='hs-comment'>-- default unless you specify another language.</span>
<a name="line-1567"></a>      <span class='hs-keyglyph'>]</span>
<a name="line-1568"></a>
<a name="line-1569"></a><span class='hs-definition'>languageExtensions</span> <span class='hs-layout'>(</span><span class='hs-conid'>Just</span> <span class='hs-conid'>Haskell2010</span><span class='hs-layout'>)</span>
<a name="line-1570"></a>    <span class='hs-keyglyph'>=</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>Opt_ImplicitPrelude</span><span class='hs-layout'>,</span>
<a name="line-1571"></a>       <span class='hs-conid'>Opt_MonomorphismRestriction</span><span class='hs-layout'>,</span>
<a name="line-1572"></a>       <span class='hs-conid'>Opt_DatatypeContexts</span><span class='hs-layout'>,</span>
<a name="line-1573"></a>       <span class='hs-conid'>Opt_TraditionalRecordSyntax</span><span class='hs-layout'>,</span>
<a name="line-1574"></a>       <span class='hs-conid'>Opt_EmptyDataDecls</span><span class='hs-layout'>,</span>
<a name="line-1575"></a>       <span class='hs-conid'>Opt_ForeignFunctionInterface</span><span class='hs-layout'>,</span>
<a name="line-1576"></a>       <span class='hs-conid'>Opt_PatternGuards</span><span class='hs-layout'>,</span>
<a name="line-1577"></a>       <span class='hs-conid'>Opt_DoAndIfThenElse</span><span class='hs-layout'>,</span>
<a name="line-1578"></a>       <span class='hs-conid'>Opt_RelaxedPolyRec</span><span class='hs-keyglyph'>]</span>
<a name="line-1579"></a>
<a name="line-1580"></a><a name="dopt"></a><span class='hs-comment'>-- | Test whether a 'DumpFlag' is set</span>
<a name="line-1581"></a><span class='hs-definition'>dopt</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DumpFlag</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Bool</span>
<a name="line-1582"></a><span class='hs-definition'>dopt</span> <span class='hs-varid'>f</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-layout'>(</span><span class='hs-varid'>fromEnum</span> <span class='hs-varid'>f</span> <span class='hs-varop'>`</span><span class='hs-conid'>IntSet</span><span class='hs-varop'>.</span><span class='hs-varid'>member</span><span class='hs-varop'>`</span> <span class='hs-varid'>dumpFlags</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span>
<a name="line-1583"></a>             <span class='hs-varop'>||</span> <span class='hs-layout'>(</span><span class='hs-varid'>verbosity</span> <span class='hs-varid'>dflags</span> <span class='hs-varop'>&gt;=</span> <span class='hs-num'>4</span> <span class='hs-varop'>&amp;&amp;</span> <span class='hs-varid'>enableIfVerbose</span> <span class='hs-varid'>f</span><span class='hs-layout'>)</span>
<a name="line-1584"></a>    <span class='hs-keyword'>where</span> <span class='hs-varid'>enableIfVerbose</span> <span class='hs-conid'>Opt_D_dump_tc_trace</span>               <span class='hs-keyglyph'>=</span> <span class='hs-conid'>False</span>
<a name="line-1585"></a>          <span class='hs-varid'>enableIfVerbose</span> <span class='hs-conid'>Opt_D_dump_rn_trace</span>               <span class='hs-keyglyph'>=</span> <span class='hs-conid'>False</span>
<a name="line-1586"></a>          <span class='hs-varid'>enableIfVerbose</span> <span class='hs-conid'>Opt_D_dump_cs_trace</span>               <span class='hs-keyglyph'>=</span> <span class='hs-conid'>False</span>
<a name="line-1587"></a>          <span class='hs-varid'>enableIfVerbose</span> <span class='hs-conid'>Opt_D_dump_if_trace</span>               <span class='hs-keyglyph'>=</span> <span class='hs-conid'>False</span>
<a name="line-1588"></a>          <span class='hs-varid'>enableIfVerbose</span> <span class='hs-conid'>Opt_D_dump_vt_trace</span>               <span class='hs-keyglyph'>=</span> <span class='hs-conid'>False</span>
<a name="line-1589"></a>          <span class='hs-varid'>enableIfVerbose</span> <span class='hs-conid'>Opt_D_dump_tc</span>                     <span class='hs-keyglyph'>=</span> <span class='hs-conid'>False</span>
<a name="line-1590"></a>          <span class='hs-varid'>enableIfVerbose</span> <span class='hs-conid'>Opt_D_dump_rn</span>                     <span class='hs-keyglyph'>=</span> <span class='hs-conid'>False</span>
<a name="line-1591"></a>          <span class='hs-varid'>enableIfVerbose</span> <span class='hs-conid'>Opt_D_dump_rn_stats</span>               <span class='hs-keyglyph'>=</span> <span class='hs-conid'>False</span>
<a name="line-1592"></a>          <span class='hs-varid'>enableIfVerbose</span> <span class='hs-conid'>Opt_D_dump_hi_diffs</span>               <span class='hs-keyglyph'>=</span> <span class='hs-conid'>False</span>
<a name="line-1593"></a>          <span class='hs-varid'>enableIfVerbose</span> <span class='hs-conid'>Opt_D_verbose_core2core</span>           <span class='hs-keyglyph'>=</span> <span class='hs-conid'>False</span>
<a name="line-1594"></a>          <span class='hs-varid'>enableIfVerbose</span> <span class='hs-conid'>Opt_D_verbose_stg2stg</span>             <span class='hs-keyglyph'>=</span> <span class='hs-conid'>False</span>
<a name="line-1595"></a>          <span class='hs-varid'>enableIfVerbose</span> <span class='hs-conid'>Opt_D_dump_splices</span>                <span class='hs-keyglyph'>=</span> <span class='hs-conid'>False</span>
<a name="line-1596"></a>          <span class='hs-varid'>enableIfVerbose</span> <span class='hs-conid'>Opt_D_dump_rule_firings</span>           <span class='hs-keyglyph'>=</span> <span class='hs-conid'>False</span>
<a name="line-1597"></a>          <span class='hs-varid'>enableIfVerbose</span> <span class='hs-conid'>Opt_D_dump_rule_rewrites</span>          <span class='hs-keyglyph'>=</span> <span class='hs-conid'>False</span>
<a name="line-1598"></a>          <span class='hs-varid'>enableIfVerbose</span> <span class='hs-conid'>Opt_D_dump_simpl_trace</span>            <span class='hs-keyglyph'>=</span> <span class='hs-conid'>False</span>
<a name="line-1599"></a>          <span class='hs-varid'>enableIfVerbose</span> <span class='hs-conid'>Opt_D_dump_rtti</span>                   <span class='hs-keyglyph'>=</span> <span class='hs-conid'>False</span>
<a name="line-1600"></a>          <span class='hs-varid'>enableIfVerbose</span> <span class='hs-conid'>Opt_D_dump_inlinings</span>              <span class='hs-keyglyph'>=</span> <span class='hs-conid'>False</span>
<a name="line-1601"></a>          <span class='hs-varid'>enableIfVerbose</span> <span class='hs-conid'>Opt_D_dump_core_stats</span>             <span class='hs-keyglyph'>=</span> <span class='hs-conid'>False</span>
<a name="line-1602"></a>          <span class='hs-varid'>enableIfVerbose</span> <span class='hs-conid'>Opt_D_dump_asm_stats</span>              <span class='hs-keyglyph'>=</span> <span class='hs-conid'>False</span>
<a name="line-1603"></a>          <span class='hs-varid'>enableIfVerbose</span> <span class='hs-conid'>Opt_D_dump_types</span>                  <span class='hs-keyglyph'>=</span> <span class='hs-conid'>False</span>
<a name="line-1604"></a>          <span class='hs-varid'>enableIfVerbose</span> <span class='hs-conid'>Opt_D_dump_simpl_iterations</span>       <span class='hs-keyglyph'>=</span> <span class='hs-conid'>False</span>
<a name="line-1605"></a>          <span class='hs-varid'>enableIfVerbose</span> <span class='hs-conid'>Opt_D_dump_ticked</span>                 <span class='hs-keyglyph'>=</span> <span class='hs-conid'>False</span>
<a name="line-1606"></a>          <span class='hs-varid'>enableIfVerbose</span> <span class='hs-conid'>Opt_D_dump_view_pattern_commoning</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>False</span>
<a name="line-1607"></a>          <span class='hs-varid'>enableIfVerbose</span> <span class='hs-conid'>Opt_D_dump_mod_cycles</span>             <span class='hs-keyglyph'>=</span> <span class='hs-conid'>False</span>
<a name="line-1608"></a>          <span class='hs-varid'>enableIfVerbose</span> <span class='hs-keyword'>_</span>                                 <span class='hs-keyglyph'>=</span> <span class='hs-conid'>True</span>
<a name="line-1609"></a>
<a name="line-1610"></a><a name="dopt_set"></a><span class='hs-comment'>-- | Set a 'DumpFlag'</span>
<a name="line-1611"></a><span class='hs-definition'>dopt_set</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DumpFlag</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span>
<a name="line-1612"></a><span class='hs-definition'>dopt_set</span> <span class='hs-varid'>dfs</span> <span class='hs-varid'>f</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>dfs</span><span class='hs-layout'>{</span> <span class='hs-varid'>dumpFlags</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>IntSet</span><span class='hs-varop'>.</span><span class='hs-varid'>insert</span> <span class='hs-layout'>(</span><span class='hs-varid'>fromEnum</span> <span class='hs-varid'>f</span><span class='hs-layout'>)</span> <span class='hs-layout'>(</span><span class='hs-varid'>dumpFlags</span> <span class='hs-varid'>dfs</span><span class='hs-layout'>)</span> <span class='hs-layout'>}</span>
<a name="line-1613"></a>
<a name="line-1614"></a><a name="dopt_unset"></a><span class='hs-comment'>-- | Unset a 'DumpFlag'</span>
<a name="line-1615"></a><span class='hs-definition'>dopt_unset</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DumpFlag</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span>
<a name="line-1616"></a><span class='hs-definition'>dopt_unset</span> <span class='hs-varid'>dfs</span> <span class='hs-varid'>f</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>dfs</span><span class='hs-layout'>{</span> <span class='hs-varid'>dumpFlags</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>IntSet</span><span class='hs-varop'>.</span><span class='hs-varid'>delete</span> <span class='hs-layout'>(</span><span class='hs-varid'>fromEnum</span> <span class='hs-varid'>f</span><span class='hs-layout'>)</span> <span class='hs-layout'>(</span><span class='hs-varid'>dumpFlags</span> <span class='hs-varid'>dfs</span><span class='hs-layout'>)</span> <span class='hs-layout'>}</span>
<a name="line-1617"></a>
<a name="line-1618"></a><a name="gopt"></a><span class='hs-comment'>-- | Test whether a 'GeneralFlag' is set</span>
<a name="line-1619"></a><span class='hs-definition'>gopt</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>GeneralFlag</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Bool</span>
<a name="line-1620"></a><span class='hs-definition'>gopt</span> <span class='hs-varid'>f</span> <span class='hs-varid'>dflags</span>  <span class='hs-keyglyph'>=</span> <span class='hs-varid'>fromEnum</span> <span class='hs-varid'>f</span> <span class='hs-varop'>`</span><span class='hs-conid'>IntSet</span><span class='hs-varop'>.</span><span class='hs-varid'>member</span><span class='hs-varop'>`</span> <span class='hs-varid'>generalFlags</span> <span class='hs-varid'>dflags</span>
<a name="line-1621"></a>
<a name="line-1622"></a><a name="gopt_set"></a><span class='hs-comment'>-- | Set a 'GeneralFlag'</span>
<a name="line-1623"></a><span class='hs-definition'>gopt_set</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>GeneralFlag</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span>
<a name="line-1624"></a><span class='hs-definition'>gopt_set</span> <span class='hs-varid'>dfs</span> <span class='hs-varid'>f</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>dfs</span><span class='hs-layout'>{</span> <span class='hs-varid'>generalFlags</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>IntSet</span><span class='hs-varop'>.</span><span class='hs-varid'>insert</span> <span class='hs-layout'>(</span><span class='hs-varid'>fromEnum</span> <span class='hs-varid'>f</span><span class='hs-layout'>)</span> <span class='hs-layout'>(</span><span class='hs-varid'>generalFlags</span> <span class='hs-varid'>dfs</span><span class='hs-layout'>)</span> <span class='hs-layout'>}</span>
<a name="line-1625"></a>
<a name="line-1626"></a><a name="gopt_unset"></a><span class='hs-comment'>-- | Unset a 'GeneralFlag'</span>
<a name="line-1627"></a><span class='hs-definition'>gopt_unset</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>GeneralFlag</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span>
<a name="line-1628"></a><span class='hs-definition'>gopt_unset</span> <span class='hs-varid'>dfs</span> <span class='hs-varid'>f</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>dfs</span><span class='hs-layout'>{</span> <span class='hs-varid'>generalFlags</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>IntSet</span><span class='hs-varop'>.</span><span class='hs-varid'>delete</span> <span class='hs-layout'>(</span><span class='hs-varid'>fromEnum</span> <span class='hs-varid'>f</span><span class='hs-layout'>)</span> <span class='hs-layout'>(</span><span class='hs-varid'>generalFlags</span> <span class='hs-varid'>dfs</span><span class='hs-layout'>)</span> <span class='hs-layout'>}</span>
<a name="line-1629"></a>
<a name="line-1630"></a><a name="wopt"></a><span class='hs-comment'>-- | Test whether a 'WarningFlag' is set</span>
<a name="line-1631"></a><span class='hs-definition'>wopt</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>WarningFlag</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Bool</span>
<a name="line-1632"></a><span class='hs-definition'>wopt</span> <span class='hs-varid'>f</span> <span class='hs-varid'>dflags</span>  <span class='hs-keyglyph'>=</span> <span class='hs-varid'>fromEnum</span> <span class='hs-varid'>f</span> <span class='hs-varop'>`</span><span class='hs-conid'>IntSet</span><span class='hs-varop'>.</span><span class='hs-varid'>member</span><span class='hs-varop'>`</span> <span class='hs-varid'>warningFlags</span> <span class='hs-varid'>dflags</span>
<a name="line-1633"></a>
<a name="line-1634"></a><a name="wopt_set"></a><span class='hs-comment'>-- | Set a 'WarningFlag'</span>
<a name="line-1635"></a><span class='hs-definition'>wopt_set</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>WarningFlag</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span>
<a name="line-1636"></a><span class='hs-definition'>wopt_set</span> <span class='hs-varid'>dfs</span> <span class='hs-varid'>f</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>dfs</span><span class='hs-layout'>{</span> <span class='hs-varid'>warningFlags</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>IntSet</span><span class='hs-varop'>.</span><span class='hs-varid'>insert</span> <span class='hs-layout'>(</span><span class='hs-varid'>fromEnum</span> <span class='hs-varid'>f</span><span class='hs-layout'>)</span> <span class='hs-layout'>(</span><span class='hs-varid'>warningFlags</span> <span class='hs-varid'>dfs</span><span class='hs-layout'>)</span> <span class='hs-layout'>}</span>
<a name="line-1637"></a>
<a name="line-1638"></a><a name="wopt_unset"></a><span class='hs-comment'>-- | Unset a 'WarningFlag'</span>
<a name="line-1639"></a><span class='hs-definition'>wopt_unset</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>WarningFlag</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span>
<a name="line-1640"></a><span class='hs-definition'>wopt_unset</span> <span class='hs-varid'>dfs</span> <span class='hs-varid'>f</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>dfs</span><span class='hs-layout'>{</span> <span class='hs-varid'>warningFlags</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>IntSet</span><span class='hs-varop'>.</span><span class='hs-varid'>delete</span> <span class='hs-layout'>(</span><span class='hs-varid'>fromEnum</span> <span class='hs-varid'>f</span><span class='hs-layout'>)</span> <span class='hs-layout'>(</span><span class='hs-varid'>warningFlags</span> <span class='hs-varid'>dfs</span><span class='hs-layout'>)</span> <span class='hs-layout'>}</span>
<a name="line-1641"></a>
<a name="line-1642"></a><a name="xopt"></a><span class='hs-comment'>-- | Test whether a 'ExtensionFlag' is set</span>
<a name="line-1643"></a><span class='hs-definition'>xopt</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>ExtensionFlag</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Bool</span>
<a name="line-1644"></a><span class='hs-definition'>xopt</span> <span class='hs-varid'>f</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>fromEnum</span> <span class='hs-varid'>f</span> <span class='hs-varop'>`</span><span class='hs-conid'>IntSet</span><span class='hs-varop'>.</span><span class='hs-varid'>member</span><span class='hs-varop'>`</span> <span class='hs-varid'>extensionFlags</span> <span class='hs-varid'>dflags</span>
<a name="line-1645"></a>
<a name="line-1646"></a><a name="xopt_set"></a><span class='hs-comment'>-- | Set a 'ExtensionFlag'</span>
<a name="line-1647"></a><span class='hs-definition'>xopt_set</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>ExtensionFlag</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span>
<a name="line-1648"></a><span class='hs-definition'>xopt_set</span> <span class='hs-varid'>dfs</span> <span class='hs-varid'>f</span>
<a name="line-1649"></a>    <span class='hs-keyglyph'>=</span> <span class='hs-keyword'>let</span> <span class='hs-varid'>onoffs</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>On</span> <span class='hs-varid'>f</span> <span class='hs-conop'>:</span> <span class='hs-varid'>extensions</span> <span class='hs-varid'>dfs</span>
<a name="line-1650"></a>      <span class='hs-keyword'>in</span> <span class='hs-varid'>dfs</span> <span class='hs-layout'>{</span> <span class='hs-varid'>extensions</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>onoffs</span><span class='hs-layout'>,</span>
<a name="line-1651"></a>               <span class='hs-varid'>extensionFlags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>flattenExtensionFlags</span> <span class='hs-layout'>(</span><span class='hs-varid'>language</span> <span class='hs-varid'>dfs</span><span class='hs-layout'>)</span> <span class='hs-varid'>onoffs</span> <span class='hs-layout'>}</span>
<a name="line-1652"></a>
<a name="line-1653"></a><a name="xopt_unset"></a><span class='hs-comment'>-- | Unset a 'ExtensionFlag'</span>
<a name="line-1654"></a><span class='hs-definition'>xopt_unset</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>ExtensionFlag</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span>
<a name="line-1655"></a><span class='hs-definition'>xopt_unset</span> <span class='hs-varid'>dfs</span> <span class='hs-varid'>f</span>
<a name="line-1656"></a>    <span class='hs-keyglyph'>=</span> <span class='hs-keyword'>let</span> <span class='hs-varid'>onoffs</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Off</span> <span class='hs-varid'>f</span> <span class='hs-conop'>:</span> <span class='hs-varid'>extensions</span> <span class='hs-varid'>dfs</span>
<a name="line-1657"></a>      <span class='hs-keyword'>in</span> <span class='hs-varid'>dfs</span> <span class='hs-layout'>{</span> <span class='hs-varid'>extensions</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>onoffs</span><span class='hs-layout'>,</span>
<a name="line-1658"></a>               <span class='hs-varid'>extensionFlags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>flattenExtensionFlags</span> <span class='hs-layout'>(</span><span class='hs-varid'>language</span> <span class='hs-varid'>dfs</span><span class='hs-layout'>)</span> <span class='hs-varid'>onoffs</span> <span class='hs-layout'>}</span>
<a name="line-1659"></a>
<a name="line-1660"></a><a name="lang_set"></a><span class='hs-definition'>lang_set</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Maybe</span> <span class='hs-conid'>Language</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span>
<a name="line-1661"></a><span class='hs-definition'>lang_set</span> <span class='hs-varid'>dflags</span> <span class='hs-varid'>lang</span> <span class='hs-keyglyph'>=</span>
<a name="line-1662"></a>   <span class='hs-varid'>dflags</span> <span class='hs-layout'>{</span>
<a name="line-1663"></a>            <span class='hs-varid'>language</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>lang</span><span class='hs-layout'>,</span>
<a name="line-1664"></a>            <span class='hs-varid'>extensionFlags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>flattenExtensionFlags</span> <span class='hs-varid'>lang</span> <span class='hs-layout'>(</span><span class='hs-varid'>extensions</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span>
<a name="line-1665"></a>          <span class='hs-layout'>}</span>
<a name="line-1666"></a>
<a name="line-1667"></a><a name="setLanguage"></a><span class='hs-comment'>-- | Set the Haskell language standard to use</span>
<a name="line-1668"></a><span class='hs-definition'>setLanguage</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Language</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynP</span> <span class='hs-conid'>()</span>
<a name="line-1669"></a><span class='hs-definition'>setLanguage</span> <span class='hs-varid'>l</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>upd</span> <span class='hs-layout'>(</span><span class='hs-varop'>`lang_set`</span> <span class='hs-conid'>Just</span> <span class='hs-varid'>l</span><span class='hs-layout'>)</span>
<a name="line-1670"></a>
<a name="line-1671"></a><a name="dynFlagDependencies"></a><span class='hs-comment'>-- | Some modules have dependencies on others through the DynFlags rather than textual imports</span>
<a name="line-1672"></a><span class='hs-definition'>dynFlagDependencies</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>ModuleName</span><span class='hs-keyglyph'>]</span>
<a name="line-1673"></a><span class='hs-definition'>dynFlagDependencies</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>pluginModNames</span>
<a name="line-1674"></a>
<a name="line-1675"></a><a name="packageTrustOn"></a><span class='hs-comment'>-- | Is the -fpackage-trust mode on</span>
<a name="line-1676"></a><span class='hs-definition'>packageTrustOn</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Bool</span>
<a name="line-1677"></a><span class='hs-definition'>packageTrustOn</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>gopt</span> <span class='hs-conid'>Opt_PackageTrust</span>
<a name="line-1678"></a>
<a name="line-1679"></a><a name="safeHaskellOn"></a><span class='hs-comment'>-- | Is Safe Haskell on in some way (including inference mode)</span>
<a name="line-1680"></a><span class='hs-definition'>safeHaskellOn</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Bool</span>
<a name="line-1681"></a><span class='hs-definition'>safeHaskellOn</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>safeHaskell</span> <span class='hs-varid'>dflags</span> <span class='hs-varop'>/=</span> <span class='hs-conid'>Sf_None</span>
<a name="line-1682"></a>
<a name="line-1683"></a><a name="safeLanguageOn"></a><span class='hs-comment'>-- | Is the Safe Haskell safe language in use</span>
<a name="line-1684"></a><span class='hs-definition'>safeLanguageOn</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Bool</span>
<a name="line-1685"></a><span class='hs-definition'>safeLanguageOn</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>safeHaskell</span> <span class='hs-varid'>dflags</span> <span class='hs-varop'>==</span> <span class='hs-conid'>Sf_Safe</span>
<a name="line-1686"></a>
<a name="line-1687"></a><a name="safeInferOn"></a><span class='hs-comment'>-- | Is the Safe Haskell safe inference mode active</span>
<a name="line-1688"></a><span class='hs-definition'>safeInferOn</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Bool</span>
<a name="line-1689"></a><span class='hs-definition'>safeInferOn</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>safeHaskell</span> <span class='hs-varid'>dflags</span> <span class='hs-varop'>==</span> <span class='hs-conid'>Sf_SafeInferred</span>
<a name="line-1690"></a>
<a name="line-1691"></a><a name="safeImportsOn"></a><span class='hs-comment'>-- | Test if Safe Imports are on in some form</span>
<a name="line-1692"></a><span class='hs-definition'>safeImportsOn</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Bool</span>
<a name="line-1693"></a><span class='hs-definition'>safeImportsOn</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>safeHaskell</span> <span class='hs-varid'>dflags</span> <span class='hs-varop'>==</span> <span class='hs-conid'>Sf_Unsafe</span> <span class='hs-varop'>||</span>
<a name="line-1694"></a>                       <span class='hs-varid'>safeHaskell</span> <span class='hs-varid'>dflags</span> <span class='hs-varop'>==</span> <span class='hs-conid'>Sf_Trustworthy</span> <span class='hs-varop'>||</span>
<a name="line-1695"></a>                       <span class='hs-varid'>safeHaskell</span> <span class='hs-varid'>dflags</span> <span class='hs-varop'>==</span> <span class='hs-conid'>Sf_Safe</span>
<a name="line-1696"></a>
<a name="line-1697"></a><a name="setSafeHaskell"></a><span class='hs-comment'>-- | Set a 'Safe Haskell' flag</span>
<a name="line-1698"></a><span class='hs-definition'>setSafeHaskell</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>SafeHaskellMode</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynP</span> <span class='hs-conid'>()</span>
<a name="line-1699"></a><span class='hs-definition'>setSafeHaskell</span> <span class='hs-varid'>s</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>updM</span> <span class='hs-varid'>f</span>
<a name="line-1700"></a>    <span class='hs-keyword'>where</span> <span class='hs-varid'>f</span> <span class='hs-varid'>dfs</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyword'>do</span>
<a name="line-1701"></a>              <span class='hs-keyword'>let</span> <span class='hs-varid'>sf</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>safeHaskell</span> <span class='hs-varid'>dfs</span>
<a name="line-1702"></a>              <span class='hs-varid'>safeM</span> <span class='hs-keyglyph'>&lt;-</span> <span class='hs-varid'>combineSafeFlags</span> <span class='hs-varid'>sf</span> <span class='hs-varid'>s</span>
<a name="line-1703"></a>              <span class='hs-varid'>return</span> <span class='hs-varop'>$</span> <span class='hs-varid'>dfs</span> <span class='hs-layout'>{</span> <span class='hs-varid'>safeHaskell</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>safeM</span> <span class='hs-layout'>}</span>
<a name="line-1704"></a>
<a name="line-1705"></a><a name="safeDirectImpsReq"></a><span class='hs-comment'>-- | Are all direct imports required to be safe for this Safe Haskell mode?</span>
<a name="line-1706"></a><span class='hs-comment'>-- Direct imports are when the code explicitly imports a module</span>
<a name="line-1707"></a><span class='hs-definition'>safeDirectImpsReq</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Bool</span>
<a name="line-1708"></a><span class='hs-definition'>safeDirectImpsReq</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>safeLanguageOn</span> <span class='hs-varid'>d</span>
<a name="line-1709"></a>
<a name="line-1710"></a><a name="safeImplicitImpsReq"></a><span class='hs-comment'>-- | Are all implicit imports required to be safe for this Safe Haskell mode?</span>
<a name="line-1711"></a><span class='hs-comment'>-- Implicit imports are things in the prelude. e.g System.IO when print is used.</span>
<a name="line-1712"></a><span class='hs-definition'>safeImplicitImpsReq</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Bool</span>
<a name="line-1713"></a><span class='hs-definition'>safeImplicitImpsReq</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>safeLanguageOn</span> <span class='hs-varid'>d</span>
<a name="line-1714"></a>
<a name="line-1715"></a><a name="combineSafeFlags"></a><span class='hs-comment'>-- | Combine two Safe Haskell modes correctly. Used for dealing with multiple flags.</span>
<a name="line-1716"></a><span class='hs-comment'>-- This makes Safe Haskell very much a monoid but for now I prefer this as I don't</span>
<a name="line-1717"></a><span class='hs-comment'>-- want to export this functionality from the module but do want to export the</span>
<a name="line-1718"></a><span class='hs-comment'>-- type constructors.</span>
<a name="line-1719"></a><span class='hs-definition'>combineSafeFlags</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>SafeHaskellMode</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>SafeHaskellMode</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynP</span> <span class='hs-conid'>SafeHaskellMode</span>
<a name="line-1720"></a><span class='hs-definition'>combineSafeFlags</span> <span class='hs-varid'>a</span> <span class='hs-varid'>b</span> <span class='hs-keyglyph'>|</span> <span class='hs-varid'>a</span> <span class='hs-varop'>==</span> <span class='hs-conid'>Sf_SafeInferred</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>return</span> <span class='hs-varid'>b</span>
<a name="line-1721"></a>                     <span class='hs-keyglyph'>|</span> <span class='hs-varid'>b</span> <span class='hs-varop'>==</span> <span class='hs-conid'>Sf_SafeInferred</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>return</span> <span class='hs-varid'>a</span>
<a name="line-1722"></a>                     <span class='hs-keyglyph'>|</span> <span class='hs-varid'>a</span> <span class='hs-varop'>==</span> <span class='hs-conid'>Sf_None</span>         <span class='hs-keyglyph'>=</span> <span class='hs-varid'>return</span> <span class='hs-varid'>b</span>
<a name="line-1723"></a>                     <span class='hs-keyglyph'>|</span> <span class='hs-varid'>b</span> <span class='hs-varop'>==</span> <span class='hs-conid'>Sf_None</span>         <span class='hs-keyglyph'>=</span> <span class='hs-varid'>return</span> <span class='hs-varid'>a</span>
<a name="line-1724"></a>                     <span class='hs-keyglyph'>|</span> <span class='hs-varid'>a</span> <span class='hs-varop'>==</span> <span class='hs-varid'>b</span>               <span class='hs-keyglyph'>=</span> <span class='hs-varid'>return</span> <span class='hs-varid'>a</span>
<a name="line-1725"></a>                     <span class='hs-keyglyph'>|</span> <span class='hs-varid'>otherwise</span>            <span class='hs-keyglyph'>=</span> <span class='hs-varid'>addErr</span> <span class='hs-varid'>errm</span> <span class='hs-varop'>&gt;&gt;</span> <span class='hs-varid'>return</span> <span class='hs-layout'>(</span><span class='hs-varid'>panic</span> <span class='hs-varid'>errm</span><span class='hs-layout'>)</span>
<a name="line-1726"></a>    <span class='hs-keyword'>where</span> <span class='hs-varid'>errm</span> <span class='hs-keyglyph'>=</span> <span class='hs-str'>"Incompatible Safe Haskell flags! ("</span>
<a name="line-1727"></a>                    <span class='hs-varop'>++</span> <span class='hs-varid'>show</span> <span class='hs-varid'>a</span> <span class='hs-varop'>++</span> <span class='hs-str'>", "</span> <span class='hs-varop'>++</span> <span class='hs-varid'>show</span> <span class='hs-varid'>b</span> <span class='hs-varop'>++</span> <span class='hs-str'>")"</span>
<a name="line-1728"></a>
<a name="line-1729"></a><a name="unsafeFlags"></a><span class='hs-comment'>-- | A list of unsafe flags under Safe Haskell. Tuple elements are:</span>
<a name="line-1730"></a><span class='hs-comment'>--     * name of the flag</span>
<a name="line-1731"></a><span class='hs-comment'>--     * function to get srcspan that enabled the flag</span>
<a name="line-1732"></a><span class='hs-comment'>--     * function to test if the flag is on</span>
<a name="line-1733"></a><span class='hs-comment'>--     * function to turn the flag off</span>
<a name="line-1734"></a><span class='hs-definition'>unsafeFlags</span> <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-layout'>(</span><span class='hs-conid'>String</span><span class='hs-layout'>,</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>SrcSpan</span><span class='hs-layout'>,</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Bool</span><span class='hs-layout'>,</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span><span class='hs-layout'>)</span><span class='hs-keyglyph'>]</span>
<a name="line-1735"></a><span class='hs-definition'>unsafeFlags</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyglyph'>[</span><span class='hs-layout'>(</span><span class='hs-str'>"-XGeneralizedNewtypeDeriving"</span><span class='hs-layout'>,</span> <span class='hs-varid'>newDerivOnLoc</span><span class='hs-layout'>,</span>
<a name="line-1736"></a>                   <span class='hs-varid'>xopt</span> <span class='hs-conid'>Opt_GeneralizedNewtypeDeriving</span><span class='hs-layout'>,</span>
<a name="line-1737"></a>                   <span class='hs-varid'>flip</span> <span class='hs-varid'>xopt_unset</span> <span class='hs-conid'>Opt_GeneralizedNewtypeDeriving</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-1738"></a>               <span class='hs-layout'>(</span><span class='hs-str'>"-XTemplateHaskell"</span><span class='hs-layout'>,</span> <span class='hs-varid'>thOnLoc</span><span class='hs-layout'>,</span>
<a name="line-1739"></a>                   <span class='hs-varid'>xopt</span> <span class='hs-conid'>Opt_TemplateHaskell</span><span class='hs-layout'>,</span>
<a name="line-1740"></a>                   <span class='hs-varid'>flip</span> <span class='hs-varid'>xopt_unset</span> <span class='hs-conid'>Opt_TemplateHaskell</span><span class='hs-layout'>)</span><span class='hs-keyglyph'>]</span>
<a name="line-1741"></a>
<a name="line-1742"></a><a name="getOpts"></a><span class='hs-comment'>-- | Retrieve the options corresponding to a particular @opt_*@ field in the correct order</span>
<a name="line-1743"></a><span class='hs-definition'>getOpts</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span>             <span class='hs-comment'>-- ^ 'DynFlags' to retrieve the options from</span>
<a name="line-1744"></a>        <span class='hs-keyglyph'>-&gt;</span> <span class='hs-layout'>(</span><span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyglyph'>[</span><span class='hs-varid'>a</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>)</span>    <span class='hs-comment'>-- ^ Relevant record accessor: one of the @opt_*@ accessors</span>
<a name="line-1745"></a>        <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyglyph'>[</span><span class='hs-varid'>a</span><span class='hs-keyglyph'>]</span>                  <span class='hs-comment'>-- ^ Correctly ordered extracted options</span>
<a name="line-1746"></a><span class='hs-definition'>getOpts</span> <span class='hs-varid'>dflags</span> <span class='hs-varid'>opts</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>reverse</span> <span class='hs-layout'>(</span><span class='hs-varid'>opts</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span>
<a name="line-1747"></a>        <span class='hs-comment'>-- We add to the options from the front, so we need to reverse the list</span>
<a name="line-1748"></a>
<a name="line-1749"></a><a name="getVerbFlags"></a><span class='hs-comment'>-- | Gets the verbosity flag for the current verbosity level. This is fed to</span>
<a name="line-1750"></a><span class='hs-comment'>-- other tools, so GHC-specific verbosity flags like @-ddump-most@ are not included</span>
<a name="line-1751"></a><span class='hs-definition'>getVerbFlags</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>String</span><span class='hs-keyglyph'>]</span>
<a name="line-1752"></a><span class='hs-definition'>getVerbFlags</span> <span class='hs-varid'>dflags</span>
<a name="line-1753"></a>  <span class='hs-keyglyph'>|</span> <span class='hs-varid'>verbosity</span> <span class='hs-varid'>dflags</span> <span class='hs-varop'>&gt;=</span> <span class='hs-num'>4</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyglyph'>[</span><span class='hs-str'>"-v"</span><span class='hs-keyglyph'>]</span>
<a name="line-1754"></a>  <span class='hs-keyglyph'>|</span> <span class='hs-varid'>otherwise</span>             <span class='hs-keyglyph'>=</span> <span class='hs-conid'>[]</span>
<a name="line-1755"></a>
<a name="line-1756"></a><a name="setObjectDir"></a><span class='hs-definition'>setObjectDir</span><span class='hs-layout'>,</span> <span class='hs-varid'>setHiDir</span><span class='hs-layout'>,</span> <span class='hs-varid'>setStubDir</span><span class='hs-layout'>,</span> <span class='hs-varid'>setDumpDir</span><span class='hs-layout'>,</span> <span class='hs-varid'>setOutputDir</span><span class='hs-layout'>,</span>
<a name="line-1757"></a>         <span class='hs-varid'>setDynObjectSuf</span><span class='hs-layout'>,</span> <span class='hs-varid'>setDynHiSuf</span><span class='hs-layout'>,</span>
<a name="line-1758"></a>         <span class='hs-varid'>setDylibInstallName</span><span class='hs-layout'>,</span>
<a name="line-1759"></a>         <span class='hs-varid'>setObjectSuf</span><span class='hs-layout'>,</span> <span class='hs-varid'>setHiSuf</span><span class='hs-layout'>,</span> <span class='hs-varid'>setHcSuf</span><span class='hs-layout'>,</span> <span class='hs-varid'>parseDynLibLoaderMode</span><span class='hs-layout'>,</span>
<a name="line-1760"></a>         <span class='hs-varid'>setPgmP</span><span class='hs-layout'>,</span> <span class='hs-varid'>addOptl</span><span class='hs-layout'>,</span> <span class='hs-varid'>addOptc</span><span class='hs-layout'>,</span> <span class='hs-varid'>addOptP</span><span class='hs-layout'>,</span>
<a name="line-1761"></a>         <span class='hs-varid'>addCmdlineFramework</span><span class='hs-layout'>,</span> <span class='hs-varid'>addHaddockOpts</span><span class='hs-layout'>,</span> <span class='hs-varid'>addGhciScript</span><span class='hs-layout'>,</span>
<a name="line-1762"></a>         <span class='hs-varid'>setInteractivePrint</span>
<a name="line-1763"></a>   <span class='hs-keyglyph'>::</span> <span class='hs-conid'>String</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span>
<a name="line-1764"></a><a name="setOutputFile"></a><span class='hs-definition'>setOutputFile</span><span class='hs-layout'>,</span> <span class='hs-varid'>setDynOutputFile</span><span class='hs-layout'>,</span> <span class='hs-varid'>setOutputHi</span><span class='hs-layout'>,</span> <span class='hs-varid'>setDumpPrefixForce</span>
<a name="line-1765"></a>   <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Maybe</span> <span class='hs-conid'>String</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span>
<a name="line-1766"></a>
<a name="line-1767"></a><span class='hs-definition'>setObjectDir</span>  <span class='hs-varid'>f</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>d</span><span class='hs-layout'>{</span> <span class='hs-varid'>objectDir</span>  <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Just</span> <span class='hs-varid'>f</span><span class='hs-layout'>}</span>
<a name="line-1768"></a><a name="setHiDir"></a><span class='hs-definition'>setHiDir</span>      <span class='hs-varid'>f</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>d</span><span class='hs-layout'>{</span> <span class='hs-varid'>hiDir</span>      <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Just</span> <span class='hs-varid'>f</span><span class='hs-layout'>}</span>
<a name="line-1769"></a><a name="setStubDir"></a><span class='hs-definition'>setStubDir</span>    <span class='hs-varid'>f</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>d</span><span class='hs-layout'>{</span> <span class='hs-varid'>stubDir</span>    <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Just</span> <span class='hs-varid'>f</span><span class='hs-layout'>,</span> <span class='hs-varid'>includePaths</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>f</span> <span class='hs-conop'>:</span> <span class='hs-varid'>includePaths</span> <span class='hs-varid'>d</span> <span class='hs-layout'>}</span>
<a name="line-1770"></a>  <span class='hs-comment'>-- -stubdir D adds an implicit -I D, so that gcc can find the _stub.h file</span>
<a name="line-1771"></a>  <span class='hs-comment'>-- \#included from the .hc file when compiling via C (i.e. unregisterised</span>
<a name="line-1772"></a>  <span class='hs-comment'>-- builds).</span>
<a name="line-1773"></a><a name="setDumpDir"></a><span class='hs-definition'>setDumpDir</span>    <span class='hs-varid'>f</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>d</span><span class='hs-layout'>{</span> <span class='hs-varid'>dumpDir</span>    <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Just</span> <span class='hs-varid'>f</span><span class='hs-layout'>}</span>
<a name="line-1774"></a><a name="setOutputDir"></a><span class='hs-definition'>setOutputDir</span>  <span class='hs-varid'>f</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>setObjectDir</span> <span class='hs-varid'>f</span> <span class='hs-varop'>.</span> <span class='hs-varid'>setHiDir</span> <span class='hs-varid'>f</span> <span class='hs-varop'>.</span> <span class='hs-varid'>setStubDir</span> <span class='hs-varid'>f</span> <span class='hs-varop'>.</span> <span class='hs-varid'>setDumpDir</span> <span class='hs-varid'>f</span>
<a name="line-1775"></a><a name="setDylibInstallName"></a><span class='hs-definition'>setDylibInstallName</span>  <span class='hs-varid'>f</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>d</span><span class='hs-layout'>{</span> <span class='hs-varid'>dylibInstallName</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Just</span> <span class='hs-varid'>f</span><span class='hs-layout'>}</span>
<a name="line-1776"></a>
<a name="line-1777"></a><a name="setObjectSuf"></a><span class='hs-definition'>setObjectSuf</span>    <span class='hs-varid'>f</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>d</span><span class='hs-layout'>{</span> <span class='hs-varid'>objectSuf</span>    <span class='hs-keyglyph'>=</span> <span class='hs-varid'>f</span><span class='hs-layout'>}</span>
<a name="line-1778"></a><a name="setDynObjectSuf"></a><span class='hs-definition'>setDynObjectSuf</span> <span class='hs-varid'>f</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>d</span><span class='hs-layout'>{</span> <span class='hs-varid'>dynObjectSuf</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>f</span><span class='hs-layout'>}</span>
<a name="line-1779"></a><a name="setHiSuf"></a><span class='hs-definition'>setHiSuf</span>        <span class='hs-varid'>f</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>d</span><span class='hs-layout'>{</span> <span class='hs-varid'>hiSuf</span>        <span class='hs-keyglyph'>=</span> <span class='hs-varid'>f</span><span class='hs-layout'>}</span>
<a name="line-1780"></a><a name="setDynHiSuf"></a><span class='hs-definition'>setDynHiSuf</span>     <span class='hs-varid'>f</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>d</span><span class='hs-layout'>{</span> <span class='hs-varid'>dynHiSuf</span>     <span class='hs-keyglyph'>=</span> <span class='hs-varid'>f</span><span class='hs-layout'>}</span>
<a name="line-1781"></a><a name="setHcSuf"></a><span class='hs-definition'>setHcSuf</span>        <span class='hs-varid'>f</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>d</span><span class='hs-layout'>{</span> <span class='hs-varid'>hcSuf</span>        <span class='hs-keyglyph'>=</span> <span class='hs-varid'>f</span><span class='hs-layout'>}</span>
<a name="line-1782"></a>
<a name="line-1783"></a><span class='hs-definition'>setOutputFile</span> <span class='hs-varid'>f</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>d</span><span class='hs-layout'>{</span> <span class='hs-varid'>outputFile</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>f</span><span class='hs-layout'>}</span>
<a name="line-1784"></a><a name="setDynOutputFile"></a><span class='hs-definition'>setDynOutputFile</span> <span class='hs-varid'>f</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>d</span><span class='hs-layout'>{</span> <span class='hs-varid'>dynOutputFile</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>f</span><span class='hs-layout'>}</span>
<a name="line-1785"></a><a name="setOutputHi"></a><span class='hs-definition'>setOutputHi</span>   <span class='hs-varid'>f</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>d</span><span class='hs-layout'>{</span> <span class='hs-varid'>outputHi</span>   <span class='hs-keyglyph'>=</span> <span class='hs-varid'>f</span><span class='hs-layout'>}</span>
<a name="line-1786"></a>
<a name="line-1787"></a><a name="addPluginModuleName"></a><span class='hs-definition'>addPluginModuleName</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>String</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span>
<a name="line-1788"></a><span class='hs-definition'>addPluginModuleName</span> <span class='hs-varid'>name</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>pluginModNames</span> <span class='hs-keyglyph'>=</span> <span class='hs-layout'>(</span><span class='hs-varid'>mkModuleName</span> <span class='hs-varid'>name</span><span class='hs-layout'>)</span> <span class='hs-conop'>:</span> <span class='hs-layout'>(</span><span class='hs-varid'>pluginModNames</span> <span class='hs-varid'>d</span><span class='hs-layout'>)</span> <span class='hs-layout'>}</span>
<a name="line-1789"></a>
<a name="line-1790"></a><a name="addPluginModuleNameOption"></a><span class='hs-definition'>addPluginModuleNameOption</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>String</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span>
<a name="line-1791"></a><span class='hs-definition'>addPluginModuleNameOption</span> <span class='hs-varid'>optflag</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>pluginModNameOpts</span> <span class='hs-keyglyph'>=</span> <span class='hs-layout'>(</span><span class='hs-varid'>mkModuleName</span> <span class='hs-varid'>m</span><span class='hs-layout'>,</span> <span class='hs-varid'>option</span><span class='hs-layout'>)</span> <span class='hs-conop'>:</span> <span class='hs-layout'>(</span><span class='hs-varid'>pluginModNameOpts</span> <span class='hs-varid'>d</span><span class='hs-layout'>)</span> <span class='hs-layout'>}</span>
<a name="line-1792"></a>  <span class='hs-keyword'>where</span> <span class='hs-layout'>(</span><span class='hs-varid'>m</span><span class='hs-layout'>,</span> <span class='hs-varid'>rest</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>break</span> <span class='hs-layout'>(</span><span class='hs-varop'>==</span> <span class='hs-chr'>':'</span><span class='hs-layout'>)</span> <span class='hs-varid'>optflag</span>
<a name="line-1793"></a>        <span class='hs-varid'>option</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyword'>case</span> <span class='hs-varid'>rest</span> <span class='hs-keyword'>of</span>
<a name="line-1794"></a>          <span class='hs-conid'>[]</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-str'>""</span> <span class='hs-comment'>-- should probably signal an error</span>
<a name="line-1795"></a>          <span class='hs-layout'>(</span><span class='hs-keyword'>_</span><span class='hs-conop'>:</span><span class='hs-varid'>plug_opt</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>plug_opt</span> <span class='hs-comment'>-- ignore the ':' from break</span>
<a name="line-1796"></a>
<a name="line-1797"></a><a name="parseDynLibLoaderMode"></a><span class='hs-definition'>parseDynLibLoaderMode</span> <span class='hs-varid'>f</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>=</span>
<a name="line-1798"></a> <span class='hs-keyword'>case</span> <span class='hs-varid'>splitAt</span> <span class='hs-num'>8</span> <span class='hs-varid'>f</span> <span class='hs-keyword'>of</span>
<a name="line-1799"></a>   <span class='hs-layout'>(</span><span class='hs-str'>"deploy"</span><span class='hs-layout'>,</span> <span class='hs-str'>""</span><span class='hs-layout'>)</span>       <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span><span class='hs-layout'>{</span> <span class='hs-varid'>dynLibLoader</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Deployable</span> <span class='hs-layout'>}</span>
<a name="line-1800"></a>   <span class='hs-layout'>(</span><span class='hs-str'>"sysdep"</span><span class='hs-layout'>,</span> <span class='hs-str'>""</span><span class='hs-layout'>)</span>       <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span><span class='hs-layout'>{</span> <span class='hs-varid'>dynLibLoader</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>SystemDependent</span> <span class='hs-layout'>}</span>
<a name="line-1801"></a>   <span class='hs-keyword'>_</span>                    <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>throwGhcException</span> <span class='hs-layout'>(</span><span class='hs-conid'>CmdLineError</span> <span class='hs-layout'>(</span><span class='hs-str'>"Unknown dynlib loader: "</span> <span class='hs-varop'>++</span> <span class='hs-varid'>f</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-1802"></a>
<a name="line-1803"></a><a name="setDumpPrefixForce"></a><span class='hs-definition'>setDumpPrefixForce</span> <span class='hs-varid'>f</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>dumpPrefixForce</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>f</span><span class='hs-layout'>}</span>
<a name="line-1804"></a>
<a name="line-1805"></a><a name="setPgmP"></a><span class='hs-comment'>-- XXX HACK: Prelude&gt; words "'does not' work" ===&gt; ["'does","not'","work"]</span>
<a name="line-1806"></a><span class='hs-comment'>-- Config.hs should really use Option.</span>
<a name="line-1807"></a><span class='hs-definition'>setPgmP</span>   <span class='hs-varid'>f</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyword'>let</span> <span class='hs-layout'>(</span><span class='hs-varid'>pgm</span><span class='hs-conop'>:</span><span class='hs-varid'>args</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>words</span> <span class='hs-varid'>f</span> <span class='hs-keyword'>in</span> <span class='hs-varid'>alterSettings</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>s</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>s</span> <span class='hs-layout'>{</span> <span class='hs-varid'>sPgm_P</span>   <span class='hs-keyglyph'>=</span> <span class='hs-layout'>(</span><span class='hs-varid'>pgm</span><span class='hs-layout'>,</span> <span class='hs-varid'>map</span> <span class='hs-conid'>Option</span> <span class='hs-varid'>args</span><span class='hs-layout'>)</span><span class='hs-layout'>}</span><span class='hs-layout'>)</span>
<a name="line-1808"></a><a name="addOptl"></a><span class='hs-definition'>addOptl</span>   <span class='hs-varid'>f</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>alterSettings</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>s</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>s</span> <span class='hs-layout'>{</span> <span class='hs-varid'>sOpt_l</span>   <span class='hs-keyglyph'>=</span> <span class='hs-varid'>f</span> <span class='hs-conop'>:</span> <span class='hs-varid'>sOpt_l</span> <span class='hs-varid'>s</span><span class='hs-layout'>}</span><span class='hs-layout'>)</span>
<a name="line-1809"></a><a name="addOptc"></a><span class='hs-definition'>addOptc</span>   <span class='hs-varid'>f</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>alterSettings</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>s</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>s</span> <span class='hs-layout'>{</span> <span class='hs-varid'>sOpt_c</span>   <span class='hs-keyglyph'>=</span> <span class='hs-varid'>f</span> <span class='hs-conop'>:</span> <span class='hs-varid'>sOpt_c</span> <span class='hs-varid'>s</span><span class='hs-layout'>}</span><span class='hs-layout'>)</span>
<a name="line-1810"></a><a name="addOptP"></a><span class='hs-definition'>addOptP</span>   <span class='hs-varid'>f</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>alterSettings</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>s</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>s</span> <span class='hs-layout'>{</span> <span class='hs-varid'>sOpt_P</span>   <span class='hs-keyglyph'>=</span> <span class='hs-varid'>f</span> <span class='hs-conop'>:</span> <span class='hs-varid'>sOpt_P</span> <span class='hs-varid'>s</span><span class='hs-layout'>}</span><span class='hs-layout'>)</span>
<a name="line-1811"></a>
<a name="line-1812"></a>
<a name="line-1813"></a><a name="setDepMakefile"></a><span class='hs-definition'>setDepMakefile</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>FilePath</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span>
<a name="line-1814"></a><span class='hs-definition'>setDepMakefile</span> <span class='hs-varid'>f</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>depMakefile</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>deOptDep</span> <span class='hs-varid'>f</span> <span class='hs-layout'>}</span>
<a name="line-1815"></a>
<a name="line-1816"></a><a name="setDepIncludePkgDeps"></a><span class='hs-definition'>setDepIncludePkgDeps</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Bool</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span>
<a name="line-1817"></a><span class='hs-definition'>setDepIncludePkgDeps</span> <span class='hs-varid'>b</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>depIncludePkgDeps</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>b</span> <span class='hs-layout'>}</span>
<a name="line-1818"></a>
<a name="line-1819"></a><a name="addDepExcludeMod"></a><span class='hs-definition'>addDepExcludeMod</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>String</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span>
<a name="line-1820"></a><span class='hs-definition'>addDepExcludeMod</span> <span class='hs-varid'>m</span> <span class='hs-varid'>d</span>
<a name="line-1821"></a>    <span class='hs-keyglyph'>=</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>depExcludeMods</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkModuleName</span> <span class='hs-layout'>(</span><span class='hs-varid'>deOptDep</span> <span class='hs-varid'>m</span><span class='hs-layout'>)</span> <span class='hs-conop'>:</span> <span class='hs-varid'>depExcludeMods</span> <span class='hs-varid'>d</span> <span class='hs-layout'>}</span>
<a name="line-1822"></a>
<a name="line-1823"></a><a name="addDepSuffix"></a><span class='hs-definition'>addDepSuffix</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>FilePath</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span>
<a name="line-1824"></a><span class='hs-definition'>addDepSuffix</span> <span class='hs-varid'>s</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>depSuffixes</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>deOptDep</span> <span class='hs-varid'>s</span> <span class='hs-conop'>:</span> <span class='hs-varid'>depSuffixes</span> <span class='hs-varid'>d</span> <span class='hs-layout'>}</span>
<a name="line-1825"></a>
<a name="line-1826"></a><a name="deOptDep"></a><span class='hs-comment'>-- XXX Legacy code:</span>
<a name="line-1827"></a><span class='hs-comment'>-- We used to use "-optdep-flag -optdeparg", so for legacy applications</span>
<a name="line-1828"></a><span class='hs-comment'>-- we need to strip the "-optdep" off of the arg</span>
<a name="line-1829"></a><span class='hs-definition'>deOptDep</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>String</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>String</span>
<a name="line-1830"></a><span class='hs-definition'>deOptDep</span> <span class='hs-varid'>x</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyword'>case</span> <span class='hs-varid'>stripPrefix</span> <span class='hs-str'>"-optdep"</span> <span class='hs-varid'>x</span> <span class='hs-keyword'>of</span>
<a name="line-1831"></a>             <span class='hs-conid'>Just</span> <span class='hs-varid'>rest</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>rest</span>
<a name="line-1832"></a>             <span class='hs-conid'>Nothing</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>x</span>
<a name="line-1833"></a>
<a name="line-1834"></a><a name="addCmdlineFramework"></a><span class='hs-definition'>addCmdlineFramework</span> <span class='hs-varid'>f</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>d</span><span class='hs-layout'>{</span> <span class='hs-varid'>cmdlineFrameworks</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>f</span> <span class='hs-conop'>:</span> <span class='hs-varid'>cmdlineFrameworks</span> <span class='hs-varid'>d</span><span class='hs-layout'>}</span>
<a name="line-1835"></a>
<a name="line-1836"></a><a name="addHaddockOpts"></a><span class='hs-definition'>addHaddockOpts</span> <span class='hs-varid'>f</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>d</span><span class='hs-layout'>{</span> <span class='hs-varid'>haddockOptions</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Just</span> <span class='hs-varid'>f</span><span class='hs-layout'>}</span>
<a name="line-1837"></a>
<a name="line-1838"></a><a name="addGhciScript"></a><span class='hs-definition'>addGhciScript</span> <span class='hs-varid'>f</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>d</span><span class='hs-layout'>{</span> <span class='hs-varid'>ghciScripts</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>f</span> <span class='hs-conop'>:</span> <span class='hs-varid'>ghciScripts</span> <span class='hs-varid'>d</span><span class='hs-layout'>}</span>
<a name="line-1839"></a>
<a name="line-1840"></a><a name="setInteractivePrint"></a><span class='hs-definition'>setInteractivePrint</span> <span class='hs-varid'>f</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>d</span><span class='hs-layout'>{</span> <span class='hs-varid'>interactivePrint</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Just</span> <span class='hs-varid'>f</span><span class='hs-layout'>}</span>
<a name="line-1841"></a>
<a name="line-1842"></a><span class='hs-comment'>-- -----------------------------------------------------------------------------</span>
<a name="line-1843"></a><span class='hs-comment'>-- Command-line options</span>
<a name="line-1844"></a>
<a name="line-1845"></a><a name="Option"></a><span class='hs-comment'>-- | When invoking external tools as part of the compilation pipeline, we</span>
<a name="line-1846"></a><a name="Option"></a><span class='hs-comment'>-- pass these a sequence of options on the command-line. Rather than</span>
<a name="line-1847"></a><a name="Option"></a><span class='hs-comment'>-- just using a list of Strings, we use a type that allows us to distinguish</span>
<a name="line-1848"></a><a name="Option"></a><span class='hs-comment'>-- between filepaths and 'other stuff'. The reason for this is that</span>
<a name="line-1849"></a><a name="Option"></a><span class='hs-comment'>-- this type gives us a handle on transforming filenames, and filenames only,</span>
<a name="line-1850"></a><a name="Option"></a><span class='hs-comment'>-- to whatever format they're expected to be on a particular platform.</span>
<a name="line-1851"></a><a name="Option"></a><span class='hs-keyword'>data</span> <span class='hs-conid'>Option</span>
<a name="line-1852"></a> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>FileOption</span> <span class='hs-comment'>-- an entry that _contains_ filename(s) / filepaths.</span>
<a name="line-1853"></a>              <span class='hs-conid'>String</span>  <span class='hs-comment'>-- a non-filepath prefix that shouldn't be</span>
<a name="line-1854"></a>                      <span class='hs-comment'>-- transformed (e.g., "/out=")</span>
<a name="line-1855"></a>              <span class='hs-conid'>String</span>  <span class='hs-comment'>-- the filepath/filename portion</span>
<a name="line-1856"></a> <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Option</span>     <span class='hs-conid'>String</span>
<a name="line-1857"></a> <span class='hs-keyword'>deriving</span> <span class='hs-layout'>(</span> <span class='hs-conid'>Eq</span> <span class='hs-layout'>)</span>
<a name="line-1858"></a>
<a name="line-1859"></a><a name="showOpt"></a><span class='hs-definition'>showOpt</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Option</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>String</span>
<a name="line-1860"></a><span class='hs-definition'>showOpt</span> <span class='hs-layout'>(</span><span class='hs-conid'>FileOption</span> <span class='hs-varid'>pre</span> <span class='hs-varid'>f</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>pre</span> <span class='hs-varop'>++</span> <span class='hs-varid'>f</span>
<a name="line-1861"></a><span class='hs-definition'>showOpt</span> <span class='hs-layout'>(</span><span class='hs-conid'>Option</span> <span class='hs-varid'>s</span><span class='hs-layout'>)</span>  <span class='hs-keyglyph'>=</span> <span class='hs-varid'>s</span>
<a name="line-1862"></a>
<a name="line-1863"></a><span class='hs-comment'>-----------------------------------------------------------------------------</span>
<a name="line-1864"></a><span class='hs-comment'>-- Setting the optimisation level</span>
<a name="line-1865"></a>
<a name="line-1866"></a><a name="updOptLevel"></a><span class='hs-definition'>updOptLevel</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Int</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span>
<a name="line-1867"></a><span class='hs-comment'>-- ^ Sets the 'DynFlags' to be appropriate to the optimisation level</span>
<a name="line-1868"></a><span class='hs-definition'>updOptLevel</span> <span class='hs-varid'>n</span> <span class='hs-varid'>dfs</span>
<a name="line-1869"></a>  <span class='hs-keyglyph'>=</span> <span class='hs-varid'>dfs2</span><span class='hs-layout'>{</span> <span class='hs-varid'>optLevel</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>final_n</span> <span class='hs-layout'>}</span>
<a name="line-1870"></a>  <span class='hs-keyword'>where</span>
<a name="line-1871"></a>   <span class='hs-varid'>final_n</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>max</span> <span class='hs-num'>0</span> <span class='hs-layout'>(</span><span class='hs-varid'>min</span> <span class='hs-num'>2</span> <span class='hs-varid'>n</span><span class='hs-layout'>)</span>    <span class='hs-comment'>-- Clamp to 0 &lt;= n &lt;= 2</span>
<a name="line-1872"></a>   <span class='hs-varid'>dfs1</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>foldr</span> <span class='hs-layout'>(</span><span class='hs-varid'>flip</span> <span class='hs-varid'>gopt_unset</span><span class='hs-layout'>)</span> <span class='hs-varid'>dfs</span>  <span class='hs-varid'>remove_gopts</span>
<a name="line-1873"></a>   <span class='hs-varid'>dfs2</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>foldr</span> <span class='hs-layout'>(</span><span class='hs-varid'>flip</span> <span class='hs-varid'>gopt_set</span><span class='hs-layout'>)</span>   <span class='hs-varid'>dfs1</span> <span class='hs-varid'>extra_gopts</span>
<a name="line-1874"></a>
<a name="line-1875"></a>   <span class='hs-varid'>extra_gopts</span>  <span class='hs-keyglyph'>=</span> <span class='hs-keyglyph'>[</span> <span class='hs-varid'>f</span> <span class='hs-keyglyph'>|</span> <span class='hs-layout'>(</span><span class='hs-varid'>ns</span><span class='hs-layout'>,</span><span class='hs-varid'>f</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>&lt;-</span> <span class='hs-varid'>optLevelFlags</span><span class='hs-layout'>,</span> <span class='hs-varid'>final_n</span> <span class='hs-varop'>`elem`</span> <span class='hs-varid'>ns</span> <span class='hs-keyglyph'>]</span>
<a name="line-1876"></a>   <span class='hs-varid'>remove_gopts</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyglyph'>[</span> <span class='hs-varid'>f</span> <span class='hs-keyglyph'>|</span> <span class='hs-layout'>(</span><span class='hs-varid'>ns</span><span class='hs-layout'>,</span><span class='hs-varid'>f</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>&lt;-</span> <span class='hs-varid'>optLevelFlags</span><span class='hs-layout'>,</span> <span class='hs-varid'>final_n</span> <span class='hs-varop'>`notElem`</span> <span class='hs-varid'>ns</span> <span class='hs-keyglyph'>]</span>
<a name="line-1877"></a>
<a name="line-1878"></a><span class='hs-comment'>-- -----------------------------------------------------------------------------</span>
<a name="line-1879"></a><span class='hs-comment'>-- StgToDo:  abstraction of stg-to-stg passes to run.</span>
<a name="line-1880"></a>
<a name="line-1881"></a><a name="StgToDo"></a><span class='hs-keyword'>data</span> <span class='hs-conid'>StgToDo</span>
<a name="line-1882"></a>  <span class='hs-keyglyph'>=</span> <span class='hs-conid'>StgDoMassageForProfiling</span>  <span class='hs-comment'>-- should be (next to) last</span>
<a name="line-1883"></a>  <span class='hs-comment'>-- There's also setStgVarInfo, but its absolute "lastness"</span>
<a name="line-1884"></a>  <span class='hs-comment'>-- is so critical that it is hardwired in (no flag).</span>
<a name="line-1885"></a>  <span class='hs-keyglyph'>|</span> <span class='hs-conid'>D_stg_stats</span>
<a name="line-1886"></a>
<a name="line-1887"></a><a name="getStgToDo"></a><span class='hs-definition'>getStgToDo</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>StgToDo</span><span class='hs-keyglyph'>]</span>
<a name="line-1888"></a><span class='hs-definition'>getStgToDo</span> <span class='hs-varid'>dflags</span>
<a name="line-1889"></a>  <span class='hs-keyglyph'>=</span> <span class='hs-varid'>todo2</span>
<a name="line-1890"></a>  <span class='hs-keyword'>where</span>
<a name="line-1891"></a>        <span class='hs-varid'>stg_stats</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>gopt</span> <span class='hs-conid'>Opt_StgStats</span> <span class='hs-varid'>dflags</span>
<a name="line-1892"></a>
<a name="line-1893"></a>        <span class='hs-varid'>todo1</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyword'>if</span> <span class='hs-varid'>stg_stats</span> <span class='hs-keyword'>then</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>D_stg_stats</span><span class='hs-keyglyph'>]</span> <span class='hs-keyword'>else</span> <span class='hs-conid'>[]</span>
<a name="line-1894"></a>
<a name="line-1895"></a>        <span class='hs-varid'>todo2</span> <span class='hs-keyglyph'>|</span> <span class='hs-conid'>WayProf</span> <span class='hs-varop'>`elem`</span> <span class='hs-varid'>ways</span> <span class='hs-varid'>dflags</span>
<a name="line-1896"></a>              <span class='hs-keyglyph'>=</span> <span class='hs-conid'>StgDoMassageForProfiling</span> <span class='hs-conop'>:</span> <span class='hs-varid'>todo1</span>
<a name="line-1897"></a>              <span class='hs-keyglyph'>|</span> <span class='hs-varid'>otherwise</span>
<a name="line-1898"></a>              <span class='hs-keyglyph'>=</span> <span class='hs-varid'>todo1</span>
<a name="line-1899"></a>
<a name="line-1900"></a><span class='hs-comment'>{- **********************************************************************
<a name="line-1901"></a>%*                                                                      *
<a name="line-1902"></a>                DynFlags parser
<a name="line-1903"></a>%*                                                                      *
<a name="line-1904"></a>%********************************************************************* -}</span>
<a name="line-1905"></a>
<a name="line-1906"></a><span class='hs-comment'>-- -----------------------------------------------------------------------------</span>
<a name="line-1907"></a><span class='hs-comment'>-- Parsing the dynamic flags.</span>
<a name="line-1908"></a>
<a name="line-1909"></a>
<a name="line-1910"></a><a name="parseDynamicFlagsCmdLine"></a><span class='hs-comment'>-- | Parse dynamic flags from a list of command line arguments.  Returns the</span>
<a name="line-1911"></a><span class='hs-comment'>-- the parsed 'DynFlags', the left-over arguments, and a list of warnings.</span>
<a name="line-1912"></a><span class='hs-comment'>-- Throws a 'UsageError' if errors occurred during parsing (such as unknown</span>
<a name="line-1913"></a><span class='hs-comment'>-- flags or missing arguments).</span>
<a name="line-1914"></a><span class='hs-definition'>parseDynamicFlagsCmdLine</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>MonadIO</span> <span class='hs-varid'>m</span> <span class='hs-keyglyph'>=&gt;</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>Located</span> <span class='hs-conid'>String</span><span class='hs-keyglyph'>]</span>
<a name="line-1915"></a>                         <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>m</span> <span class='hs-layout'>(</span><span class='hs-conid'>DynFlags</span><span class='hs-layout'>,</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>Located</span> <span class='hs-conid'>String</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>Located</span> <span class='hs-conid'>String</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>)</span>
<a name="line-1916"></a>                            <span class='hs-comment'>-- ^ Updated 'DynFlags', left-over arguments, and</span>
<a name="line-1917"></a>                            <span class='hs-comment'>-- list of warnings.</span>
<a name="line-1918"></a><span class='hs-definition'>parseDynamicFlagsCmdLine</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>parseDynamicFlagsFull</span> <span class='hs-varid'>flagsAll</span> <span class='hs-conid'>True</span>
<a name="line-1919"></a>
<a name="line-1920"></a>
<a name="line-1921"></a><a name="parseDynamicFilePragma"></a><span class='hs-comment'>-- | Like 'parseDynamicFlagsCmdLine' but does not allow the package flags</span>
<a name="line-1922"></a><span class='hs-comment'>-- (-package, -hide-package, -ignore-package, -hide-all-packages, -package-db).</span>
<a name="line-1923"></a><span class='hs-comment'>-- Used to parse flags set in a modules pragma.</span>
<a name="line-1924"></a><span class='hs-definition'>parseDynamicFilePragma</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>MonadIO</span> <span class='hs-varid'>m</span> <span class='hs-keyglyph'>=&gt;</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>Located</span> <span class='hs-conid'>String</span><span class='hs-keyglyph'>]</span>
<a name="line-1925"></a>                       <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>m</span> <span class='hs-layout'>(</span><span class='hs-conid'>DynFlags</span><span class='hs-layout'>,</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>Located</span> <span class='hs-conid'>String</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>Located</span> <span class='hs-conid'>String</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>)</span>
<a name="line-1926"></a>                          <span class='hs-comment'>-- ^ Updated 'DynFlags', left-over arguments, and</span>
<a name="line-1927"></a>                          <span class='hs-comment'>-- list of warnings.</span>
<a name="line-1928"></a><span class='hs-definition'>parseDynamicFilePragma</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>parseDynamicFlagsFull</span> <span class='hs-varid'>flagsDynamic</span> <span class='hs-conid'>False</span>
<a name="line-1929"></a>
<a name="line-1930"></a>
<a name="line-1931"></a><a name="parseDynamicFlagsFull"></a><span class='hs-comment'>-- | Parses the dynamically set flags for GHC. This is the most general form of</span>
<a name="line-1932"></a><span class='hs-comment'>-- the dynamic flag parser that the other methods simply wrap. It allows</span>
<a name="line-1933"></a><span class='hs-comment'>-- saying which flags are valid flags and indicating if we are parsing</span>
<a name="line-1934"></a><span class='hs-comment'>-- arguments from the command line or from a file pragma.</span>
<a name="line-1935"></a><span class='hs-definition'>parseDynamicFlagsFull</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>MonadIO</span> <span class='hs-varid'>m</span>
<a name="line-1936"></a>                  <span class='hs-keyglyph'>=&gt;</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>Flag</span> <span class='hs-layout'>(</span><span class='hs-conid'>CmdLineP</span> <span class='hs-conid'>DynFlags</span><span class='hs-layout'>)</span><span class='hs-keyglyph'>]</span>    <span class='hs-comment'>-- ^ valid flags to match against</span>
<a name="line-1937"></a>                  <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Bool</span>                          <span class='hs-comment'>-- ^ are the arguments from the command line?</span>
<a name="line-1938"></a>                  <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span>                      <span class='hs-comment'>-- ^ current dynamic flags</span>
<a name="line-1939"></a>                  <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>Located</span> <span class='hs-conid'>String</span><span class='hs-keyglyph'>]</span>              <span class='hs-comment'>-- ^ arguments to parse</span>
<a name="line-1940"></a>                  <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>m</span> <span class='hs-layout'>(</span><span class='hs-conid'>DynFlags</span><span class='hs-layout'>,</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>Located</span> <span class='hs-conid'>String</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>Located</span> <span class='hs-conid'>String</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>)</span>
<a name="line-1941"></a><span class='hs-definition'>parseDynamicFlagsFull</span> <span class='hs-varid'>activeFlags</span> <span class='hs-varid'>cmdline</span> <span class='hs-varid'>dflags0</span> <span class='hs-varid'>args</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyword'>do</span>
<a name="line-1942"></a>  <span class='hs-comment'>-- XXX Legacy support code</span>
<a name="line-1943"></a>  <span class='hs-comment'>-- We used to accept things like</span>
<a name="line-1944"></a>  <span class='hs-comment'>--     optdep-f  -optdepdepend</span>
<a name="line-1945"></a>  <span class='hs-comment'>--     optdep-f  -optdep depend</span>
<a name="line-1946"></a>  <span class='hs-comment'>--     optdep -f -optdepdepend</span>
<a name="line-1947"></a>  <span class='hs-comment'>--     optdep -f -optdep depend</span>
<a name="line-1948"></a>  <span class='hs-comment'>-- but the spaces trip up proper argument handling. So get rid of them.</span>
<a name="line-1949"></a>  <span class='hs-keyword'>let</span> <span class='hs-varid'>f</span> <span class='hs-layout'>(</span><span class='hs-conid'>L</span> <span class='hs-varid'>p</span> <span class='hs-str'>"-optdep"</span> <span class='hs-conop'>:</span> <span class='hs-conid'>L</span> <span class='hs-keyword'>_</span> <span class='hs-varid'>x</span> <span class='hs-conop'>:</span> <span class='hs-varid'>xs</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>=</span> <span class='hs-layout'>(</span><span class='hs-conid'>L</span> <span class='hs-varid'>p</span> <span class='hs-layout'>(</span><span class='hs-str'>"-optdep"</span> <span class='hs-varop'>++</span> <span class='hs-varid'>x</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span> <span class='hs-conop'>:</span> <span class='hs-varid'>f</span> <span class='hs-varid'>xs</span>
<a name="line-1950"></a>      <span class='hs-varid'>f</span> <span class='hs-layout'>(</span><span class='hs-varid'>x</span> <span class='hs-conop'>:</span> <span class='hs-varid'>xs</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>x</span> <span class='hs-conop'>:</span> <span class='hs-varid'>f</span> <span class='hs-varid'>xs</span>
<a name="line-1951"></a>      <span class='hs-varid'>f</span> <span class='hs-varid'>xs</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>xs</span>
<a name="line-1952"></a>      <span class='hs-varid'>args'</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>f</span> <span class='hs-varid'>args</span>
<a name="line-1953"></a>
<a name="line-1954"></a>  <span class='hs-keyword'>let</span> <span class='hs-layout'>(</span><span class='hs-layout'>(</span><span class='hs-varid'>leftover</span><span class='hs-layout'>,</span> <span class='hs-varid'>errs</span><span class='hs-layout'>,</span> <span class='hs-varid'>warns</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span> <span class='hs-varid'>dflags1</span><span class='hs-layout'>)</span>
<a name="line-1955"></a>          <span class='hs-keyglyph'>=</span> <span class='hs-varid'>runCmdLine</span> <span class='hs-layout'>(</span><span class='hs-varid'>processArgs</span> <span class='hs-varid'>activeFlags</span> <span class='hs-varid'>args'</span><span class='hs-layout'>)</span> <span class='hs-varid'>dflags0</span>
<a name="line-1956"></a>  <span class='hs-varid'>when</span> <span class='hs-layout'>(</span><span class='hs-varid'>not</span> <span class='hs-layout'>(</span><span class='hs-varid'>null</span> <span class='hs-varid'>errs</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span> <span class='hs-varop'>$</span> <span class='hs-varid'>liftIO</span> <span class='hs-varop'>$</span>
<a name="line-1957"></a>      <span class='hs-varid'>throwGhcExceptionIO</span> <span class='hs-varop'>$</span> <span class='hs-varid'>errorsToGhcException</span> <span class='hs-varid'>errs</span>
<a name="line-1958"></a>
<a name="line-1959"></a>  <span class='hs-comment'>-- check for disabled flags in safe haskell</span>
<a name="line-1960"></a>  <span class='hs-keyword'>let</span> <span class='hs-layout'>(</span><span class='hs-varid'>dflags2</span><span class='hs-layout'>,</span> <span class='hs-varid'>sh_warns</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>safeFlagCheck</span> <span class='hs-varid'>cmdline</span> <span class='hs-varid'>dflags1</span>
<a name="line-1961"></a>      <span class='hs-varid'>dflags3</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>updateWays</span> <span class='hs-varid'>dflags2</span>
<a name="line-1962"></a>      <span class='hs-varid'>theWays</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>ways</span> <span class='hs-varid'>dflags3</span>
<a name="line-1963"></a>
<a name="line-1964"></a>  <span class='hs-varid'>unless</span> <span class='hs-layout'>(</span><span class='hs-varid'>allowed_combination</span> <span class='hs-varid'>theWays</span><span class='hs-layout'>)</span> <span class='hs-varop'>$</span> <span class='hs-varid'>liftIO</span> <span class='hs-varop'>$</span>
<a name="line-1965"></a>      <span class='hs-varid'>throwGhcExceptionIO</span> <span class='hs-layout'>(</span><span class='hs-conid'>CmdLineError</span> <span class='hs-layout'>(</span><span class='hs-str'>"combination not supported: "</span> <span class='hs-varop'>++</span>
<a name="line-1966"></a>                               <span class='hs-varid'>intercalate</span> <span class='hs-str'>"/"</span> <span class='hs-layout'>(</span><span class='hs-varid'>map</span> <span class='hs-varid'>wayDesc</span> <span class='hs-varid'>theWays</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-1967"></a>
<a name="line-1968"></a>  <span class='hs-keyword'>let</span> <span class='hs-varid'>chooseOutput</span>
<a name="line-1969"></a>        <span class='hs-keyglyph'>|</span> <span class='hs-varid'>isJust</span> <span class='hs-layout'>(</span><span class='hs-varid'>outputFile</span> <span class='hs-varid'>dflags3</span><span class='hs-layout'>)</span>          <span class='hs-comment'>-- Only iff user specified -o ...</span>
<a name="line-1970"></a>        <span class='hs-layout'>,</span> <span class='hs-varid'>not</span> <span class='hs-layout'>(</span><span class='hs-varid'>isJust</span> <span class='hs-layout'>(</span><span class='hs-varid'>dynOutputFile</span> <span class='hs-varid'>dflags3</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span> <span class='hs-comment'>-- but not -dyno</span>
<a name="line-1971"></a>        <span class='hs-keyglyph'>=</span> <span class='hs-varid'>return</span> <span class='hs-varop'>$</span> <span class='hs-varid'>dflags3</span> <span class='hs-layout'>{</span> <span class='hs-varid'>dynOutputFile</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Just</span> <span class='hs-varop'>$</span> <span class='hs-varid'>dynOut</span> <span class='hs-layout'>(</span><span class='hs-varid'>fromJust</span> <span class='hs-varop'>$</span> <span class='hs-varid'>outputFile</span> <span class='hs-varid'>dflags3</span><span class='hs-layout'>)</span> <span class='hs-layout'>}</span>
<a name="line-1972"></a>        <span class='hs-keyglyph'>|</span> <span class='hs-varid'>otherwise</span>
<a name="line-1973"></a>        <span class='hs-keyglyph'>=</span> <span class='hs-varid'>return</span> <span class='hs-varid'>dflags3</span>
<a name="line-1974"></a>        <span class='hs-keyword'>where</span>
<a name="line-1975"></a>          <span class='hs-varid'>dynOut</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>flip</span> <span class='hs-varid'>addExtension</span> <span class='hs-layout'>(</span><span class='hs-varid'>dynObjectSuf</span> <span class='hs-varid'>dflags3</span><span class='hs-layout'>)</span> <span class='hs-varop'>.</span> <span class='hs-varid'>dropExtension</span>
<a name="line-1976"></a>  <span class='hs-varid'>dflags4</span> <span class='hs-keyglyph'>&lt;-</span> <span class='hs-varid'>ifGeneratingDynamicToo</span> <span class='hs-varid'>dflags3</span> <span class='hs-varid'>chooseOutput</span> <span class='hs-layout'>(</span><span class='hs-varid'>return</span> <span class='hs-varid'>dflags3</span><span class='hs-layout'>)</span>
<a name="line-1977"></a>
<a name="line-1978"></a>  <span class='hs-keyword'>let</span> <span class='hs-layout'>(</span><span class='hs-varid'>dflags5</span><span class='hs-layout'>,</span> <span class='hs-varid'>consistency_warnings</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>makeDynFlagsConsistent</span> <span class='hs-varid'>dflags4</span>
<a name="line-1979"></a>
<a name="line-1980"></a>  <span class='hs-varid'>dflags6</span> <span class='hs-keyglyph'>&lt;-</span> <span class='hs-keyword'>case</span> <span class='hs-varid'>dllSplitFile</span> <span class='hs-varid'>dflags5</span> <span class='hs-keyword'>of</span>
<a name="line-1981"></a>             <span class='hs-conid'>Nothing</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>return</span> <span class='hs-layout'>(</span><span class='hs-varid'>dflags5</span> <span class='hs-layout'>{</span> <span class='hs-varid'>dllSplit</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Nothing</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span>
<a name="line-1982"></a>             <span class='hs-conid'>Just</span> <span class='hs-varid'>f</span> <span class='hs-keyglyph'>-&gt;</span>
<a name="line-1983"></a>                 <span class='hs-keyword'>case</span> <span class='hs-varid'>dllSplit</span> <span class='hs-varid'>dflags5</span> <span class='hs-keyword'>of</span>
<a name="line-1984"></a>                 <span class='hs-conid'>Just</span> <span class='hs-keyword'>_</span> <span class='hs-keyglyph'>-&gt;</span>
<a name="line-1985"></a>                     <span class='hs-comment'>-- If dllSplit is out of date then it would have</span>
<a name="line-1986"></a>                     <span class='hs-comment'>-- been set to Nothing. As it's a Just, it must be</span>
<a name="line-1987"></a>                     <span class='hs-comment'>-- up-to-date.</span>
<a name="line-1988"></a>                     <span class='hs-varid'>return</span> <span class='hs-varid'>dflags5</span>
<a name="line-1989"></a>                 <span class='hs-conid'>Nothing</span> <span class='hs-keyglyph'>-&gt;</span>
<a name="line-1990"></a>                     <span class='hs-keyword'>do</span> <span class='hs-varid'>xs</span> <span class='hs-keyglyph'>&lt;-</span> <span class='hs-varid'>liftIO</span> <span class='hs-varop'>$</span> <span class='hs-varid'>readFile</span> <span class='hs-varid'>f</span>
<a name="line-1991"></a>                        <span class='hs-keyword'>let</span> <span class='hs-varid'>ss</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>map</span> <span class='hs-layout'>(</span><span class='hs-conid'>Set</span><span class='hs-varop'>.</span><span class='hs-varid'>fromList</span> <span class='hs-varop'>.</span> <span class='hs-varid'>words</span><span class='hs-layout'>)</span> <span class='hs-layout'>(</span><span class='hs-varid'>lines</span> <span class='hs-varid'>xs</span><span class='hs-layout'>)</span>
<a name="line-1992"></a>                        <span class='hs-varid'>return</span> <span class='hs-varop'>$</span> <span class='hs-varid'>dflags5</span> <span class='hs-layout'>{</span> <span class='hs-varid'>dllSplit</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Just</span> <span class='hs-varid'>ss</span> <span class='hs-layout'>}</span>
<a name="line-1993"></a>
<a name="line-1994"></a>  <span class='hs-comment'>-- Set timer stats &amp; heap size</span>
<a name="line-1995"></a>  <span class='hs-varid'>when</span> <span class='hs-layout'>(</span><span class='hs-varid'>enableTimeStats</span> <span class='hs-varid'>dflags6</span><span class='hs-layout'>)</span> <span class='hs-varop'>$</span> <span class='hs-varid'>liftIO</span> <span class='hs-varid'>enableTimingStats</span>
<a name="line-1996"></a>  <span class='hs-keyword'>case</span> <span class='hs-layout'>(</span><span class='hs-varid'>ghcHeapSize</span> <span class='hs-varid'>dflags6</span><span class='hs-layout'>)</span> <span class='hs-keyword'>of</span>
<a name="line-1997"></a>    <span class='hs-conid'>Just</span> <span class='hs-varid'>x</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>liftIO</span> <span class='hs-layout'>(</span><span class='hs-varid'>setHeapSize</span> <span class='hs-varid'>x</span><span class='hs-layout'>)</span>
<a name="line-1998"></a>    <span class='hs-keyword'>_</span>      <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>return</span> <span class='hs-conid'>()</span>
<a name="line-1999"></a>
<a name="line-2000"></a>  <span class='hs-varid'>liftIO</span> <span class='hs-varop'>$</span> <span class='hs-varid'>setUnsafeGlobalDynFlags</span> <span class='hs-varid'>dflags6</span>
<a name="line-2001"></a>
<a name="line-2002"></a>  <span class='hs-varid'>return</span> <span class='hs-layout'>(</span><span class='hs-varid'>dflags6</span><span class='hs-layout'>,</span> <span class='hs-varid'>leftover</span><span class='hs-layout'>,</span> <span class='hs-varid'>consistency_warnings</span> <span class='hs-varop'>++</span> <span class='hs-varid'>sh_warns</span> <span class='hs-varop'>++</span> <span class='hs-varid'>warns</span><span class='hs-layout'>)</span>
<a name="line-2003"></a>
<a name="line-2004"></a><a name="updateWays"></a><span class='hs-definition'>updateWays</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span>
<a name="line-2005"></a><span class='hs-definition'>updateWays</span> <span class='hs-varid'>dflags</span>
<a name="line-2006"></a>    <span class='hs-keyglyph'>=</span> <span class='hs-keyword'>let</span> <span class='hs-varid'>theWays</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>sort</span> <span class='hs-varop'>$</span> <span class='hs-varid'>nub</span> <span class='hs-varop'>$</span> <span class='hs-varid'>ways</span> <span class='hs-varid'>dflags</span>
<a name="line-2007"></a>          <span class='hs-varid'>f</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyword'>if</span> <span class='hs-conid'>WayDyn</span> <span class='hs-varop'>`elem`</span> <span class='hs-varid'>theWays</span> <span class='hs-keyword'>then</span> <span class='hs-varid'>unSetGeneralFlag'</span>
<a name="line-2008"></a>                                       <span class='hs-keyword'>else</span> <span class='hs-varid'>setGeneralFlag'</span>
<a name="line-2009"></a>      <span class='hs-keyword'>in</span> <span class='hs-varid'>f</span> <span class='hs-conid'>Opt_Static</span>
<a name="line-2010"></a>       <span class='hs-varop'>$</span> <span class='hs-varid'>dflags</span> <span class='hs-layout'>{</span>
<a name="line-2011"></a>             <span class='hs-varid'>ways</span>        <span class='hs-keyglyph'>=</span> <span class='hs-varid'>theWays</span><span class='hs-layout'>,</span>
<a name="line-2012"></a>             <span class='hs-varid'>buildTag</span>    <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkBuildTag</span> <span class='hs-layout'>(</span><span class='hs-varid'>filter</span> <span class='hs-layout'>(</span><span class='hs-varid'>not</span> <span class='hs-varop'>.</span> <span class='hs-varid'>wayRTSOnly</span><span class='hs-layout'>)</span> <span class='hs-varid'>theWays</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2013"></a>             <span class='hs-varid'>rtsBuildTag</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkBuildTag</span>                            <span class='hs-varid'>theWays</span>
<a name="line-2014"></a>         <span class='hs-layout'>}</span>
<a name="line-2015"></a>
<a name="line-2016"></a><a name="safeFlagCheck"></a><span class='hs-comment'>-- | Check (and potentially disable) any extensions that aren't allowed</span>
<a name="line-2017"></a><span class='hs-comment'>-- in safe mode.</span>
<a name="line-2018"></a><span class='hs-comment'>--</span>
<a name="line-2019"></a><span class='hs-comment'>-- The bool is to indicate if we are parsing command line flags (false means</span>
<a name="line-2020"></a><span class='hs-comment'>-- file pragma). This allows us to generate better warnings.</span>
<a name="line-2021"></a><span class='hs-definition'>safeFlagCheck</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Bool</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-layout'>(</span><span class='hs-conid'>DynFlags</span><span class='hs-layout'>,</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>Located</span> <span class='hs-conid'>String</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>)</span>
<a name="line-2022"></a><span class='hs-definition'>safeFlagCheck</span> <span class='hs-keyword'>_</span>  <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>|</span> <span class='hs-varid'>not</span> <span class='hs-layout'>(</span><span class='hs-varid'>safeLanguageOn</span> <span class='hs-varid'>dflags</span> <span class='hs-varop'>||</span> <span class='hs-varid'>safeInferOn</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span>
<a name="line-2023"></a>                        <span class='hs-keyglyph'>=</span> <span class='hs-layout'>(</span><span class='hs-varid'>dflags</span><span class='hs-layout'>,</span> <span class='hs-conid'>[]</span><span class='hs-layout'>)</span>
<a name="line-2024"></a>
<a name="line-2025"></a><span class='hs-comment'>-- safe or safe-infer ON</span>
<a name="line-2026"></a><span class='hs-definition'>safeFlagCheck</span> <span class='hs-varid'>cmdl</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span>
<a name="line-2027"></a>    <span class='hs-keyword'>case</span> <span class='hs-varid'>safeLanguageOn</span> <span class='hs-varid'>dflags</span> <span class='hs-keyword'>of</span>
<a name="line-2028"></a>        <span class='hs-conid'>True</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-layout'>(</span><span class='hs-varid'>dflags'</span><span class='hs-layout'>,</span> <span class='hs-varid'>warns</span><span class='hs-layout'>)</span>
<a name="line-2029"></a>
<a name="line-2030"></a>        <span class='hs-comment'>-- throw error if -fpackage-trust by itself with no safe haskell flag</span>
<a name="line-2031"></a>        <span class='hs-conid'>False</span> <span class='hs-keyglyph'>|</span> <span class='hs-varid'>not</span> <span class='hs-varid'>cmdl</span> <span class='hs-varop'>&amp;&amp;</span> <span class='hs-varid'>packageTrustOn</span> <span class='hs-varid'>dflags</span>
<a name="line-2032"></a>              <span class='hs-keyglyph'>-&gt;</span> <span class='hs-layout'>(</span><span class='hs-varid'>gopt_unset</span> <span class='hs-varid'>dflags'</span> <span class='hs-conid'>Opt_PackageTrust</span><span class='hs-layout'>,</span>
<a name="line-2033"></a>                  <span class='hs-keyglyph'>[</span><span class='hs-conid'>L</span> <span class='hs-layout'>(</span><span class='hs-varid'>pkgTrustOnLoc</span> <span class='hs-varid'>dflags'</span><span class='hs-layout'>)</span> <span class='hs-varop'>$</span>
<a name="line-2034"></a>                      <span class='hs-str'>"-fpackage-trust ignored;"</span> <span class='hs-varop'>++</span>
<a name="line-2035"></a>                      <span class='hs-str'>" must be specified with a Safe Haskell flag"</span><span class='hs-keyglyph'>]</span>
<a name="line-2036"></a>                  <span class='hs-layout'>)</span>
<a name="line-2037"></a>
<a name="line-2038"></a>        <span class='hs-conid'>False</span> <span class='hs-keyglyph'>|</span> <span class='hs-varid'>null</span> <span class='hs-varid'>warns</span> <span class='hs-varop'>&amp;&amp;</span> <span class='hs-varid'>safeInfOk</span>
<a name="line-2039"></a>              <span class='hs-keyglyph'>-&gt;</span> <span class='hs-layout'>(</span><span class='hs-varid'>dflags'</span><span class='hs-layout'>,</span> <span class='hs-conid'>[]</span><span class='hs-layout'>)</span>
<a name="line-2040"></a>
<a name="line-2041"></a>              <span class='hs-keyglyph'>|</span> <span class='hs-varid'>otherwise</span>
<a name="line-2042"></a>              <span class='hs-keyglyph'>-&gt;</span> <span class='hs-layout'>(</span><span class='hs-varid'>dflags'</span> <span class='hs-layout'>{</span> <span class='hs-varid'>safeHaskell</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Sf_None</span> <span class='hs-layout'>}</span><span class='hs-layout'>,</span> <span class='hs-conid'>[]</span><span class='hs-layout'>)</span>
<a name="line-2043"></a>                <span class='hs-comment'>-- Have we inferred Unsafe?</span>
<a name="line-2044"></a>                <span class='hs-comment'>-- See Note [HscMain . Safe Haskell Inference]</span>
<a name="line-2045"></a>    <span class='hs-keyword'>where</span>
<a name="line-2046"></a>        <span class='hs-comment'>-- TODO: Can we do better than this for inference?</span>
<a name="line-2047"></a>        <span class='hs-varid'>safeInfOk</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>not</span> <span class='hs-varop'>$</span> <span class='hs-varid'>xopt</span> <span class='hs-conid'>Opt_OverlappingInstances</span> <span class='hs-varid'>dflags</span>
<a name="line-2048"></a>
<a name="line-2049"></a>        <span class='hs-layout'>(</span><span class='hs-varid'>dflags'</span><span class='hs-layout'>,</span> <span class='hs-varid'>warns</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>foldl</span> <span class='hs-varid'>check_method</span> <span class='hs-layout'>(</span><span class='hs-varid'>dflags</span><span class='hs-layout'>,</span> <span class='hs-conid'>[]</span><span class='hs-layout'>)</span> <span class='hs-varid'>unsafeFlags</span>
<a name="line-2050"></a>
<a name="line-2051"></a>        <span class='hs-varid'>check_method</span> <span class='hs-layout'>(</span><span class='hs-varid'>df</span><span class='hs-layout'>,</span> <span class='hs-varid'>warns</span><span class='hs-layout'>)</span> <span class='hs-layout'>(</span><span class='hs-varid'>str</span><span class='hs-layout'>,</span><span class='hs-varid'>loc</span><span class='hs-layout'>,</span><span class='hs-varid'>test</span><span class='hs-layout'>,</span><span class='hs-varid'>fix</span><span class='hs-layout'>)</span>
<a name="line-2052"></a>            <span class='hs-keyglyph'>|</span> <span class='hs-varid'>test</span> <span class='hs-varid'>df</span>   <span class='hs-keyglyph'>=</span> <span class='hs-layout'>(</span><span class='hs-varid'>apFix</span> <span class='hs-varid'>fix</span> <span class='hs-varid'>df</span><span class='hs-layout'>,</span> <span class='hs-varid'>warns</span> <span class='hs-varop'>++</span> <span class='hs-varid'>safeFailure</span> <span class='hs-layout'>(</span><span class='hs-varid'>loc</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span> <span class='hs-varid'>str</span><span class='hs-layout'>)</span>
<a name="line-2053"></a>            <span class='hs-keyglyph'>|</span> <span class='hs-varid'>otherwise</span> <span class='hs-keyglyph'>=</span> <span class='hs-layout'>(</span><span class='hs-varid'>df</span><span class='hs-layout'>,</span> <span class='hs-varid'>warns</span><span class='hs-layout'>)</span>
<a name="line-2054"></a>
<a name="line-2055"></a>        <span class='hs-varid'>apFix</span> <span class='hs-varid'>f</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyword'>if</span> <span class='hs-varid'>safeInferOn</span> <span class='hs-varid'>dflags</span> <span class='hs-keyword'>then</span> <span class='hs-varid'>id</span> <span class='hs-keyword'>else</span> <span class='hs-varid'>f</span>
<a name="line-2056"></a>
<a name="line-2057"></a>        <span class='hs-varid'>safeFailure</span> <span class='hs-varid'>loc</span> <span class='hs-varid'>str</span>
<a name="line-2058"></a>           <span class='hs-keyglyph'>=</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>L</span> <span class='hs-varid'>loc</span> <span class='hs-varop'>$</span> <span class='hs-varid'>str</span> <span class='hs-varop'>++</span> <span class='hs-str'>" is not allowed in Safe Haskell; ignoring "</span> <span class='hs-varop'>++</span> <span class='hs-varid'>str</span><span class='hs-keyglyph'>]</span>
<a name="line-2059"></a>
<a name="line-2060"></a><span class='hs-comment'>{- **********************************************************************
<a name="line-2061"></a>%*                                                                      *
<a name="line-2062"></a>                DynFlags specifications
<a name="line-2063"></a>%*                                                                      *
<a name="line-2064"></a>%********************************************************************* -}</span>
<a name="line-2065"></a>
<a name="line-2066"></a><a name="allFlags"></a><span class='hs-comment'>-- | All dynamic flags option strings. These are the user facing strings for</span>
<a name="line-2067"></a><span class='hs-comment'>-- enabling and disabling options.</span>
<a name="line-2068"></a><span class='hs-definition'>allFlags</span> <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>String</span><span class='hs-keyglyph'>]</span>
<a name="line-2069"></a><span class='hs-definition'>allFlags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>map</span> <span class='hs-layout'>(</span><span class='hs-chr'>'-'</span><span class='hs-conop'>:</span><span class='hs-layout'>)</span> <span class='hs-varop'>$</span>
<a name="line-2070"></a>           <span class='hs-keyglyph'>[</span> <span class='hs-varid'>flagName</span> <span class='hs-varid'>flag</span> <span class='hs-keyglyph'>|</span> <span class='hs-varid'>flag</span> <span class='hs-keyglyph'>&lt;-</span> <span class='hs-varid'>dynamic_flags</span> <span class='hs-varop'>++</span> <span class='hs-varid'>package_flags</span><span class='hs-layout'>,</span> <span class='hs-varid'>ok</span> <span class='hs-layout'>(</span><span class='hs-varid'>flagOptKind</span> <span class='hs-varid'>flag</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>]</span> <span class='hs-varop'>++</span>
<a name="line-2071"></a>           <span class='hs-varid'>map</span> <span class='hs-layout'>(</span><span class='hs-str'>"fno-"</span><span class='hs-varop'>++</span><span class='hs-layout'>)</span> <span class='hs-varid'>fflags</span> <span class='hs-varop'>++</span>
<a name="line-2072"></a>           <span class='hs-varid'>map</span> <span class='hs-layout'>(</span><span class='hs-str'>"f"</span><span class='hs-varop'>++</span><span class='hs-layout'>)</span> <span class='hs-varid'>fflags</span> <span class='hs-varop'>++</span>
<a name="line-2073"></a>           <span class='hs-varid'>map</span> <span class='hs-layout'>(</span><span class='hs-str'>"X"</span><span class='hs-varop'>++</span><span class='hs-layout'>)</span> <span class='hs-varid'>supportedExtensions</span>
<a name="line-2074"></a>    <span class='hs-keyword'>where</span> <span class='hs-varid'>ok</span> <span class='hs-layout'>(</span><span class='hs-conid'>PrefixPred</span> <span class='hs-keyword'>_</span> <span class='hs-keyword'>_</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>False</span>
<a name="line-2075"></a>          <span class='hs-varid'>ok</span> <span class='hs-keyword'>_</span>   <span class='hs-keyglyph'>=</span> <span class='hs-conid'>True</span>
<a name="line-2076"></a>          <span class='hs-varid'>fflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>fflags0</span> <span class='hs-varop'>++</span> <span class='hs-varid'>fflags1</span> <span class='hs-varop'>++</span> <span class='hs-varid'>fflags2</span>
<a name="line-2077"></a>          <span class='hs-varid'>fflags0</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyglyph'>[</span> <span class='hs-varid'>name</span> <span class='hs-keyglyph'>|</span> <span class='hs-layout'>(</span><span class='hs-varid'>name</span><span class='hs-layout'>,</span> <span class='hs-keyword'>_</span><span class='hs-layout'>,</span> <span class='hs-keyword'>_</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>&lt;-</span> <span class='hs-varid'>fFlags</span> <span class='hs-keyglyph'>]</span>
<a name="line-2078"></a>          <span class='hs-varid'>fflags1</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyglyph'>[</span> <span class='hs-varid'>name</span> <span class='hs-keyglyph'>|</span> <span class='hs-layout'>(</span><span class='hs-varid'>name</span><span class='hs-layout'>,</span> <span class='hs-keyword'>_</span><span class='hs-layout'>,</span> <span class='hs-keyword'>_</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>&lt;-</span> <span class='hs-varid'>fWarningFlags</span> <span class='hs-keyglyph'>]</span>
<a name="line-2079"></a>          <span class='hs-varid'>fflags2</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyglyph'>[</span> <span class='hs-varid'>name</span> <span class='hs-keyglyph'>|</span> <span class='hs-layout'>(</span><span class='hs-varid'>name</span><span class='hs-layout'>,</span> <span class='hs-keyword'>_</span><span class='hs-layout'>,</span> <span class='hs-keyword'>_</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>&lt;-</span> <span class='hs-varid'>fLangFlags</span> <span class='hs-keyglyph'>]</span>
<a name="line-2080"></a>
<a name="line-2081"></a><span class='hs-comment'>{-
<a name="line-2082"></a> - Below we export user facing symbols for GHC dynamic flags for use with the
<a name="line-2083"></a> - GHC API.
<a name="line-2084"></a> -}</span>
<a name="line-2085"></a>
<a name="line-2086"></a><a name="flagsAll"></a><span class='hs-comment'>-- All dynamic flags present in GHC.</span>
<a name="line-2087"></a><span class='hs-definition'>flagsAll</span> <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>Flag</span> <span class='hs-layout'>(</span><span class='hs-conid'>CmdLineP</span> <span class='hs-conid'>DynFlags</span><span class='hs-layout'>)</span><span class='hs-keyglyph'>]</span>
<a name="line-2088"></a><span class='hs-definition'>flagsAll</span>     <span class='hs-keyglyph'>=</span> <span class='hs-varid'>package_flags</span> <span class='hs-varop'>++</span> <span class='hs-varid'>dynamic_flags</span>
<a name="line-2089"></a>
<a name="line-2090"></a><a name="flagsDynamic"></a><span class='hs-comment'>-- All dynamic flags, minus package flags, present in GHC.</span>
<a name="line-2091"></a><span class='hs-definition'>flagsDynamic</span> <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>Flag</span> <span class='hs-layout'>(</span><span class='hs-conid'>CmdLineP</span> <span class='hs-conid'>DynFlags</span><span class='hs-layout'>)</span><span class='hs-keyglyph'>]</span>
<a name="line-2092"></a><span class='hs-definition'>flagsDynamic</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>dynamic_flags</span>
<a name="line-2093"></a>
<a name="line-2094"></a><a name="flagsPackage"></a><span class='hs-comment'>-- ALl package flags present in GHC.</span>
<a name="line-2095"></a><span class='hs-definition'>flagsPackage</span> <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>Flag</span> <span class='hs-layout'>(</span><span class='hs-conid'>CmdLineP</span> <span class='hs-conid'>DynFlags</span><span class='hs-layout'>)</span><span class='hs-keyglyph'>]</span>
<a name="line-2096"></a><span class='hs-definition'>flagsPackage</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>package_flags</span>
<a name="line-2097"></a>
<a name="line-2098"></a><a name="dynamic_flags"></a><span class='hs-comment'>--------------- The main flags themselves ------------------</span>
<a name="line-2099"></a><span class='hs-definition'>dynamic_flags</span> <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>Flag</span> <span class='hs-layout'>(</span><span class='hs-conid'>CmdLineP</span> <span class='hs-conid'>DynFlags</span><span class='hs-layout'>)</span><span class='hs-keyglyph'>]</span>
<a name="line-2100"></a><span class='hs-definition'>dynamic_flags</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyglyph'>[</span>
<a name="line-2101"></a>    <span class='hs-conid'>Flag</span> <span class='hs-str'>"n"</span>        <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>addWarn</span> <span class='hs-str'>"The -n flag is deprecated and no longer has any effect"</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2102"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"cpp"</span>      <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>setExtensionFlag</span> <span class='hs-conid'>Opt_Cpp</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2103"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"F"</span>        <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>setGeneralFlag</span> <span class='hs-conid'>Opt_Pp</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2104"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"#include"</span>
<a name="line-2105"></a>         <span class='hs-layout'>(</span><span class='hs-conid'>HasArg</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>s</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyword'>do</span> <span class='hs-varid'>addCmdlineHCInclude</span> <span class='hs-varid'>s</span>
<a name="line-2106"></a>                           <span class='hs-varid'>addWarn</span> <span class='hs-str'>"-#include and INCLUDE pragmas are deprecated: They no longer have any effect"</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2107"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"v"</span>        <span class='hs-layout'>(</span><span class='hs-conid'>OptIntSuffix</span> <span class='hs-varid'>setVerbosity</span><span class='hs-layout'>)</span>
<a name="line-2108"></a>
<a name="line-2109"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"j"</span>        <span class='hs-layout'>(</span><span class='hs-conid'>OptIntSuffix</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>n</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>upd</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span><span class='hs-varid'>parMakeCount</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>n</span><span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2110"></a>
<a name="line-2111"></a>    <span class='hs-comment'>-- RTS options -------------------------------------------------------------</span>
<a name="line-2112"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"H"</span>           <span class='hs-layout'>(</span><span class='hs-conid'>HasArg</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>s</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>upd</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span>
<a name="line-2113"></a>          <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>ghcHeapSize</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Just</span> <span class='hs-varop'>$</span> <span class='hs-varid'>fromIntegral</span> <span class='hs-layout'>(</span><span class='hs-varid'>decodeSize</span> <span class='hs-varid'>s</span><span class='hs-layout'>)</span><span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2114"></a>
<a name="line-2115"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"Rghc-timing"</span> <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>upd</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>enableTimeStats</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>True</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2116"></a>
<a name="line-2117"></a>    <span class='hs-comment'>------- ways ---------------------------------------------------------------</span>
<a name="line-2118"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"prof"</span>           <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>addWay</span> <span class='hs-conid'>WayProf</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2119"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"eventlog"</span>       <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>addWay</span> <span class='hs-conid'>WayEventLog</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2120"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"parallel"</span>       <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>addWay</span> <span class='hs-conid'>WayPar</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2121"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"gransim"</span>        <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>addWay</span> <span class='hs-conid'>WayGran</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2122"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"smp"</span>            <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>addWay</span> <span class='hs-conid'>WayThreaded</span> <span class='hs-varop'>&gt;&gt;</span> <span class='hs-varid'>deprecate</span> <span class='hs-str'>"Use -threaded instead"</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2123"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"debug"</span>          <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>addWay</span> <span class='hs-conid'>WayDebug</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2124"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"ndp"</span>            <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>addWay</span> <span class='hs-conid'>WayNDP</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2125"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"threaded"</span>       <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>addWay</span> <span class='hs-conid'>WayThreaded</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2126"></a>
<a name="line-2127"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"ticky"</span>          <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>setGeneralFlag</span> <span class='hs-conid'>Opt_Ticky</span> <span class='hs-varop'>&gt;&gt;</span> <span class='hs-varid'>addWay</span> <span class='hs-conid'>WayDebug</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2128"></a>
<a name="line-2129"></a>    <span class='hs-comment'>-- -ticky enables ticky-ticky code generation, and also implies -debug which</span>
<a name="line-2130"></a>    <span class='hs-comment'>-- is required to get the RTS ticky support.</span>
<a name="line-2131"></a>
<a name="line-2132"></a>        <span class='hs-comment'>----- Linker --------------------------------------------------------</span>
<a name="line-2133"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"static"</span>         <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-varid'>removeWayDyn</span><span class='hs-layout'>)</span>
<a name="line-2134"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"dynamic"</span>        <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>addWay</span> <span class='hs-conid'>WayDyn</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2135"></a>    <span class='hs-comment'>-- ignored for compat w/ gcc:</span>
<a name="line-2136"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"rdynamic"</span>       <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>return</span> <span class='hs-conid'>()</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2137"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"relative-dynlib-paths"</span>  <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>setGeneralFlag</span> <span class='hs-conid'>Opt_RelativeDynlibPaths</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2138"></a>
<a name="line-2139"></a>        <span class='hs-comment'>------- Specific phases  --------------------------------------------</span>
<a name="line-2140"></a>    <span class='hs-comment'>-- need to appear before -pgmL to be parsed as LLVM flags.</span>
<a name="line-2141"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"pgmlo"</span>          <span class='hs-layout'>(</span><span class='hs-varid'>hasArg</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>f</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>alterSettings</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>s</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>s</span> <span class='hs-layout'>{</span> <span class='hs-varid'>sPgm_lo</span>  <span class='hs-keyglyph'>=</span> <span class='hs-layout'>(</span><span class='hs-varid'>f</span><span class='hs-layout'>,</span><span class='hs-conid'>[]</span><span class='hs-layout'>)</span><span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2142"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"pgmlc"</span>          <span class='hs-layout'>(</span><span class='hs-varid'>hasArg</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>f</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>alterSettings</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>s</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>s</span> <span class='hs-layout'>{</span> <span class='hs-varid'>sPgm_lc</span>  <span class='hs-keyglyph'>=</span> <span class='hs-layout'>(</span><span class='hs-varid'>f</span><span class='hs-layout'>,</span><span class='hs-conid'>[]</span><span class='hs-layout'>)</span><span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2143"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"pgmL"</span>           <span class='hs-layout'>(</span><span class='hs-varid'>hasArg</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>f</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>alterSettings</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>s</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>s</span> <span class='hs-layout'>{</span> <span class='hs-varid'>sPgm_L</span>   <span class='hs-keyglyph'>=</span> <span class='hs-varid'>f</span><span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2144"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"pgmP"</span>           <span class='hs-layout'>(</span><span class='hs-varid'>hasArg</span> <span class='hs-varid'>setPgmP</span><span class='hs-layout'>)</span>
<a name="line-2145"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"pgmF"</span>           <span class='hs-layout'>(</span><span class='hs-varid'>hasArg</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>f</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>alterSettings</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>s</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>s</span> <span class='hs-layout'>{</span> <span class='hs-varid'>sPgm_F</span>   <span class='hs-keyglyph'>=</span> <span class='hs-varid'>f</span><span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2146"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"pgmc"</span>           <span class='hs-layout'>(</span><span class='hs-varid'>hasArg</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>f</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>alterSettings</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>s</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>s</span> <span class='hs-layout'>{</span> <span class='hs-varid'>sPgm_c</span>   <span class='hs-keyglyph'>=</span> <span class='hs-layout'>(</span><span class='hs-varid'>f</span><span class='hs-layout'>,</span><span class='hs-conid'>[]</span><span class='hs-layout'>)</span><span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2147"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"pgmm"</span>           <span class='hs-layout'>(</span><span class='hs-conid'>HasArg</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-keyword'>_</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>addWarn</span> <span class='hs-str'>"The -pgmm flag does nothing; it will be removed in a future GHC release"</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2148"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"pgms"</span>           <span class='hs-layout'>(</span><span class='hs-varid'>hasArg</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>f</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>alterSettings</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>s</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>s</span> <span class='hs-layout'>{</span> <span class='hs-varid'>sPgm_s</span>   <span class='hs-keyglyph'>=</span> <span class='hs-layout'>(</span><span class='hs-varid'>f</span><span class='hs-layout'>,</span><span class='hs-conid'>[]</span><span class='hs-layout'>)</span><span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2149"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"pgma"</span>           <span class='hs-layout'>(</span><span class='hs-varid'>hasArg</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>f</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>alterSettings</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>s</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>s</span> <span class='hs-layout'>{</span> <span class='hs-varid'>sPgm_a</span>   <span class='hs-keyglyph'>=</span> <span class='hs-layout'>(</span><span class='hs-varid'>f</span><span class='hs-layout'>,</span><span class='hs-conid'>[]</span><span class='hs-layout'>)</span><span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2150"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"pgml"</span>           <span class='hs-layout'>(</span><span class='hs-varid'>hasArg</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>f</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>alterSettings</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>s</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>s</span> <span class='hs-layout'>{</span> <span class='hs-varid'>sPgm_l</span>   <span class='hs-keyglyph'>=</span> <span class='hs-layout'>(</span><span class='hs-varid'>f</span><span class='hs-layout'>,</span><span class='hs-conid'>[]</span><span class='hs-layout'>)</span><span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2151"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"pgmdll"</span>         <span class='hs-layout'>(</span><span class='hs-varid'>hasArg</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>f</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>alterSettings</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>s</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>s</span> <span class='hs-layout'>{</span> <span class='hs-varid'>sPgm_dll</span> <span class='hs-keyglyph'>=</span> <span class='hs-layout'>(</span><span class='hs-varid'>f</span><span class='hs-layout'>,</span><span class='hs-conid'>[]</span><span class='hs-layout'>)</span><span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2152"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"pgmwindres"</span>     <span class='hs-layout'>(</span><span class='hs-varid'>hasArg</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>f</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>alterSettings</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>s</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>s</span> <span class='hs-layout'>{</span> <span class='hs-varid'>sPgm_windres</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>f</span><span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2153"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"pgmlibtool"</span>     <span class='hs-layout'>(</span><span class='hs-varid'>hasArg</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>f</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>alterSettings</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>s</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>s</span> <span class='hs-layout'>{</span> <span class='hs-varid'>sPgm_libtool</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>f</span><span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2154"></a>
<a name="line-2155"></a>    <span class='hs-comment'>-- need to appear before -optl/-opta to be parsed as LLVM flags.</span>
<a name="line-2156"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"optlo"</span>          <span class='hs-layout'>(</span><span class='hs-varid'>hasArg</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>f</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>alterSettings</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>s</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>s</span> <span class='hs-layout'>{</span> <span class='hs-varid'>sOpt_lo</span>  <span class='hs-keyglyph'>=</span> <span class='hs-varid'>f</span> <span class='hs-conop'>:</span> <span class='hs-varid'>sOpt_lo</span> <span class='hs-varid'>s</span><span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2157"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"optlc"</span>          <span class='hs-layout'>(</span><span class='hs-varid'>hasArg</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>f</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>alterSettings</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>s</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>s</span> <span class='hs-layout'>{</span> <span class='hs-varid'>sOpt_lc</span>  <span class='hs-keyglyph'>=</span> <span class='hs-varid'>f</span> <span class='hs-conop'>:</span> <span class='hs-varid'>sOpt_lc</span> <span class='hs-varid'>s</span><span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2158"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"optL"</span>           <span class='hs-layout'>(</span><span class='hs-varid'>hasArg</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>f</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>alterSettings</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>s</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>s</span> <span class='hs-layout'>{</span> <span class='hs-varid'>sOpt_L</span>   <span class='hs-keyglyph'>=</span> <span class='hs-varid'>f</span> <span class='hs-conop'>:</span> <span class='hs-varid'>sOpt_L</span> <span class='hs-varid'>s</span><span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2159"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"optP"</span>           <span class='hs-layout'>(</span><span class='hs-varid'>hasArg</span> <span class='hs-varid'>addOptP</span><span class='hs-layout'>)</span>
<a name="line-2160"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"optF"</span>           <span class='hs-layout'>(</span><span class='hs-varid'>hasArg</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>f</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>alterSettings</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>s</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>s</span> <span class='hs-layout'>{</span> <span class='hs-varid'>sOpt_F</span>   <span class='hs-keyglyph'>=</span> <span class='hs-varid'>f</span> <span class='hs-conop'>:</span> <span class='hs-varid'>sOpt_F</span> <span class='hs-varid'>s</span><span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2161"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"optc"</span>           <span class='hs-layout'>(</span><span class='hs-varid'>hasArg</span> <span class='hs-varid'>addOptc</span><span class='hs-layout'>)</span>
<a name="line-2162"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"optm"</span>           <span class='hs-layout'>(</span><span class='hs-conid'>HasArg</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-keyword'>_</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>addWarn</span> <span class='hs-str'>"The -optm flag does nothing; it will be removed in a future GHC release"</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2163"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"opta"</span>           <span class='hs-layout'>(</span><span class='hs-varid'>hasArg</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>f</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>alterSettings</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>s</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>s</span> <span class='hs-layout'>{</span> <span class='hs-varid'>sOpt_a</span>   <span class='hs-keyglyph'>=</span> <span class='hs-varid'>f</span> <span class='hs-conop'>:</span> <span class='hs-varid'>sOpt_a</span> <span class='hs-varid'>s</span><span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2164"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"optl"</span>           <span class='hs-layout'>(</span><span class='hs-varid'>hasArg</span> <span class='hs-varid'>addOptl</span><span class='hs-layout'>)</span>
<a name="line-2165"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"optwindres"</span>     <span class='hs-layout'>(</span><span class='hs-varid'>hasArg</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>f</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>alterSettings</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>s</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>s</span> <span class='hs-layout'>{</span> <span class='hs-varid'>sOpt_windres</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>f</span> <span class='hs-conop'>:</span> <span class='hs-varid'>sOpt_windres</span> <span class='hs-varid'>s</span><span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2166"></a>
<a name="line-2167"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"split-objs"</span>
<a name="line-2168"></a>         <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-keyword'>if</span> <span class='hs-varid'>can_split</span>
<a name="line-2169"></a>                 <span class='hs-keyword'>then</span> <span class='hs-varid'>setGeneralFlag</span> <span class='hs-conid'>Opt_SplitObjs</span>
<a name="line-2170"></a>                 <span class='hs-keyword'>else</span> <span class='hs-varid'>addWarn</span> <span class='hs-str'>"ignoring -fsplit-objs"</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2171"></a>
<a name="line-2172"></a>        <span class='hs-comment'>-------- ghc -M -----------------------------------------------------</span>
<a name="line-2173"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"dep-suffix"</span>     <span class='hs-layout'>(</span><span class='hs-varid'>hasArg</span> <span class='hs-varid'>addDepSuffix</span><span class='hs-layout'>)</span>
<a name="line-2174"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"optdep-s"</span>       <span class='hs-layout'>(</span><span class='hs-varid'>hasArgDF</span> <span class='hs-varid'>addDepSuffix</span> <span class='hs-str'>"Use -dep-suffix instead"</span><span class='hs-layout'>)</span>
<a name="line-2175"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"dep-makefile"</span>   <span class='hs-layout'>(</span><span class='hs-varid'>hasArg</span> <span class='hs-varid'>setDepMakefile</span><span class='hs-layout'>)</span>
<a name="line-2176"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"optdep-f"</span>       <span class='hs-layout'>(</span><span class='hs-varid'>hasArgDF</span> <span class='hs-varid'>setDepMakefile</span> <span class='hs-str'>"Use -dep-makefile instead"</span><span class='hs-layout'>)</span>
<a name="line-2177"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"optdep-w"</span>       <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span>  <span class='hs-layout'>(</span><span class='hs-varid'>deprecate</span> <span class='hs-str'>"doesn't do anything"</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2178"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"include-pkg-deps"</span>         <span class='hs-layout'>(</span><span class='hs-varid'>noArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>setDepIncludePkgDeps</span> <span class='hs-conid'>True</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2179"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"optdep--include-prelude"</span>  <span class='hs-layout'>(</span><span class='hs-varid'>noArgDF</span> <span class='hs-layout'>(</span><span class='hs-varid'>setDepIncludePkgDeps</span> <span class='hs-conid'>True</span><span class='hs-layout'>)</span> <span class='hs-str'>"Use -include-pkg-deps instead"</span><span class='hs-layout'>)</span>
<a name="line-2180"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"optdep--include-pkg-deps"</span> <span class='hs-layout'>(</span><span class='hs-varid'>noArgDF</span> <span class='hs-layout'>(</span><span class='hs-varid'>setDepIncludePkgDeps</span> <span class='hs-conid'>True</span><span class='hs-layout'>)</span> <span class='hs-str'>"Use -include-pkg-deps instead"</span><span class='hs-layout'>)</span>
<a name="line-2181"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"exclude-module"</span>           <span class='hs-layout'>(</span><span class='hs-varid'>hasArg</span> <span class='hs-varid'>addDepExcludeMod</span><span class='hs-layout'>)</span>
<a name="line-2182"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"optdep--exclude-module"</span>   <span class='hs-layout'>(</span><span class='hs-varid'>hasArgDF</span> <span class='hs-varid'>addDepExcludeMod</span> <span class='hs-str'>"Use -exclude-module instead"</span><span class='hs-layout'>)</span>
<a name="line-2183"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"optdep-x"</span>                 <span class='hs-layout'>(</span><span class='hs-varid'>hasArgDF</span> <span class='hs-varid'>addDepExcludeMod</span> <span class='hs-str'>"Use -exclude-module instead"</span><span class='hs-layout'>)</span>
<a name="line-2184"></a>
<a name="line-2185"></a>        <span class='hs-comment'>-------- Linking ----------------------------------------------------</span>
<a name="line-2186"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"no-link"</span>            <span class='hs-layout'>(</span><span class='hs-varid'>noArg</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span><span class='hs-layout'>{</span> <span class='hs-varid'>ghcLink</span><span class='hs-keyglyph'>=</span><span class='hs-conid'>NoLink</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2187"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"shared"</span>             <span class='hs-layout'>(</span><span class='hs-varid'>noArg</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span><span class='hs-layout'>{</span> <span class='hs-varid'>ghcLink</span><span class='hs-keyglyph'>=</span><span class='hs-conid'>LinkDynLib</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2188"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"staticlib"</span>          <span class='hs-layout'>(</span><span class='hs-varid'>noArg</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span><span class='hs-layout'>{</span> <span class='hs-varid'>ghcLink</span><span class='hs-keyglyph'>=</span><span class='hs-conid'>LinkStaticLib</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2189"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"dynload"</span>            <span class='hs-layout'>(</span><span class='hs-varid'>hasArg</span> <span class='hs-varid'>parseDynLibLoaderMode</span><span class='hs-layout'>)</span>
<a name="line-2190"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"dylib-install-name"</span> <span class='hs-layout'>(</span><span class='hs-varid'>hasArg</span> <span class='hs-varid'>setDylibInstallName</span><span class='hs-layout'>)</span>
<a name="line-2191"></a>    <span class='hs-comment'>-- -dll-split is an internal flag, used only during the GHC build</span>
<a name="line-2192"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"dll-split"</span>          <span class='hs-layout'>(</span><span class='hs-varid'>hasArg</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>f</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span><span class='hs-layout'>{</span> <span class='hs-varid'>dllSplitFile</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Just</span> <span class='hs-varid'>f</span><span class='hs-layout'>,</span> <span class='hs-varid'>dllSplit</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Nothing</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2193"></a>
<a name="line-2194"></a>        <span class='hs-comment'>------- Libraries ---------------------------------------------------</span>
<a name="line-2195"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"L"</span>   <span class='hs-layout'>(</span><span class='hs-conid'>Prefix</span> <span class='hs-varid'>addLibraryPath</span><span class='hs-layout'>)</span>
<a name="line-2196"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"l"</span>   <span class='hs-layout'>(</span><span class='hs-varid'>hasArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>addLdInputs</span> <span class='hs-varop'>.</span> <span class='hs-conid'>Option</span> <span class='hs-varop'>.</span> <span class='hs-layout'>(</span><span class='hs-str'>"-l"</span> <span class='hs-varop'>++</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2197"></a>
<a name="line-2198"></a>        <span class='hs-comment'>------- Frameworks --------------------------------------------------</span>
<a name="line-2199"></a>        <span class='hs-comment'>-- -framework-path should really be -F ...</span>
<a name="line-2200"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"framework-path"</span> <span class='hs-layout'>(</span><span class='hs-conid'>HasArg</span> <span class='hs-varid'>addFrameworkPath</span><span class='hs-layout'>)</span>
<a name="line-2201"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"framework"</span>      <span class='hs-layout'>(</span><span class='hs-varid'>hasArg</span> <span class='hs-varid'>addCmdlineFramework</span><span class='hs-layout'>)</span>
<a name="line-2202"></a>
<a name="line-2203"></a>        <span class='hs-comment'>------- Output Redirection ------------------------------------------</span>
<a name="line-2204"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"odir"</span>              <span class='hs-layout'>(</span><span class='hs-varid'>hasArg</span> <span class='hs-varid'>setObjectDir</span><span class='hs-layout'>)</span>
<a name="line-2205"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"o"</span>                 <span class='hs-layout'>(</span><span class='hs-varid'>sepArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>setOutputFile</span> <span class='hs-varop'>.</span> <span class='hs-conid'>Just</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2206"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"dyno"</span>              <span class='hs-layout'>(</span><span class='hs-varid'>sepArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>setDynOutputFile</span> <span class='hs-varop'>.</span> <span class='hs-conid'>Just</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2207"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"ohi"</span>               <span class='hs-layout'>(</span><span class='hs-varid'>hasArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>setOutputHi</span> <span class='hs-varop'>.</span> <span class='hs-conid'>Just</span> <span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2208"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"osuf"</span>              <span class='hs-layout'>(</span><span class='hs-varid'>hasArg</span> <span class='hs-varid'>setObjectSuf</span><span class='hs-layout'>)</span>
<a name="line-2209"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"dynosuf"</span>           <span class='hs-layout'>(</span><span class='hs-varid'>hasArg</span> <span class='hs-varid'>setDynObjectSuf</span><span class='hs-layout'>)</span>
<a name="line-2210"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"hcsuf"</span>             <span class='hs-layout'>(</span><span class='hs-varid'>hasArg</span> <span class='hs-varid'>setHcSuf</span><span class='hs-layout'>)</span>
<a name="line-2211"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"hisuf"</span>             <span class='hs-layout'>(</span><span class='hs-varid'>hasArg</span> <span class='hs-varid'>setHiSuf</span><span class='hs-layout'>)</span>
<a name="line-2212"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"dynhisuf"</span>          <span class='hs-layout'>(</span><span class='hs-varid'>hasArg</span> <span class='hs-varid'>setDynHiSuf</span><span class='hs-layout'>)</span>
<a name="line-2213"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"hidir"</span>             <span class='hs-layout'>(</span><span class='hs-varid'>hasArg</span> <span class='hs-varid'>setHiDir</span><span class='hs-layout'>)</span>
<a name="line-2214"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"tmpdir"</span>            <span class='hs-layout'>(</span><span class='hs-varid'>hasArg</span> <span class='hs-varid'>setTmpDir</span><span class='hs-layout'>)</span>
<a name="line-2215"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"stubdir"</span>           <span class='hs-layout'>(</span><span class='hs-varid'>hasArg</span> <span class='hs-varid'>setStubDir</span><span class='hs-layout'>)</span>
<a name="line-2216"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"dumpdir"</span>           <span class='hs-layout'>(</span><span class='hs-varid'>hasArg</span> <span class='hs-varid'>setDumpDir</span><span class='hs-layout'>)</span>
<a name="line-2217"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"outputdir"</span>         <span class='hs-layout'>(</span><span class='hs-varid'>hasArg</span> <span class='hs-varid'>setOutputDir</span><span class='hs-layout'>)</span>
<a name="line-2218"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"ddump-file-prefix"</span> <span class='hs-layout'>(</span><span class='hs-varid'>hasArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>setDumpPrefixForce</span> <span class='hs-varop'>.</span> <span class='hs-conid'>Just</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2219"></a>
<a name="line-2220"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"dynamic-too"</span>       <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>setGeneralFlag</span> <span class='hs-conid'>Opt_BuildDynamicToo</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2221"></a>
<a name="line-2222"></a>        <span class='hs-comment'>------- Keeping temporary files -------------------------------------</span>
<a name="line-2223"></a>     <span class='hs-comment'>-- These can be singular (think ghc -c) or plural (think ghc --make)</span>
<a name="line-2224"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"keep-hc-file"</span>     <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>setGeneralFlag</span> <span class='hs-conid'>Opt_KeepHcFiles</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2225"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"keep-hc-files"</span>    <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>setGeneralFlag</span> <span class='hs-conid'>Opt_KeepHcFiles</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2226"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"keep-s-file"</span>      <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>setGeneralFlag</span> <span class='hs-conid'>Opt_KeepSFiles</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2227"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"keep-s-files"</span>     <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>setGeneralFlag</span> <span class='hs-conid'>Opt_KeepSFiles</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2228"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"keep-raw-s-file"</span>  <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>addWarn</span> <span class='hs-str'>"The -keep-raw-s-file flag does nothing; it will be removed in a future GHC release"</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2229"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"keep-raw-s-files"</span> <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>addWarn</span> <span class='hs-str'>"The -keep-raw-s-files flag does nothing; it will be removed in a future GHC release"</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2230"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"keep-llvm-file"</span>   <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-keyword'>do</span> <span class='hs-varid'>setObjTarget</span> <span class='hs-conid'>HscLlvm</span>
<a name="line-2231"></a>                                       <span class='hs-varid'>setGeneralFlag</span> <span class='hs-conid'>Opt_KeepLlvmFiles</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2232"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"keep-llvm-files"</span>  <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-keyword'>do</span> <span class='hs-varid'>setObjTarget</span> <span class='hs-conid'>HscLlvm</span>
<a name="line-2233"></a>                                       <span class='hs-varid'>setGeneralFlag</span> <span class='hs-conid'>Opt_KeepLlvmFiles</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2234"></a>     <span class='hs-comment'>-- This only makes sense as plural</span>
<a name="line-2235"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"keep-tmp-files"</span>   <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>setGeneralFlag</span> <span class='hs-conid'>Opt_KeepTmpFiles</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2236"></a>
<a name="line-2237"></a>        <span class='hs-comment'>------- Miscellaneous ----------------------------------------------</span>
<a name="line-2238"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"no-auto-link-packages"</span> <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>unSetGeneralFlag</span> <span class='hs-conid'>Opt_AutoLinkPackages</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2239"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"no-hs-main"</span>     <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>setGeneralFlag</span> <span class='hs-conid'>Opt_NoHsMain</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2240"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"with-rtsopts"</span>   <span class='hs-layout'>(</span><span class='hs-conid'>HasArg</span> <span class='hs-varid'>setRtsOpts</span><span class='hs-layout'>)</span>
<a name="line-2241"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"rtsopts"</span>        <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>setRtsOptsEnabled</span> <span class='hs-conid'>RtsOptsAll</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2242"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"rtsopts=all"</span>    <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>setRtsOptsEnabled</span> <span class='hs-conid'>RtsOptsAll</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2243"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"rtsopts=some"</span>   <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>setRtsOptsEnabled</span> <span class='hs-conid'>RtsOptsSafeOnly</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2244"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"rtsopts=none"</span>   <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>setRtsOptsEnabled</span> <span class='hs-conid'>RtsOptsNone</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2245"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"no-rtsopts"</span>     <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>setRtsOptsEnabled</span> <span class='hs-conid'>RtsOptsNone</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2246"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"main-is"</span>        <span class='hs-layout'>(</span><span class='hs-conid'>SepArg</span> <span class='hs-varid'>setMainIs</span><span class='hs-layout'>)</span>
<a name="line-2247"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"haddock"</span>        <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>setGeneralFlag</span> <span class='hs-conid'>Opt_Haddock</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2248"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"haddock-opts"</span>   <span class='hs-layout'>(</span><span class='hs-varid'>hasArg</span> <span class='hs-varid'>addHaddockOpts</span><span class='hs-layout'>)</span>
<a name="line-2249"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"hpcdir"</span>         <span class='hs-layout'>(</span><span class='hs-conid'>SepArg</span> <span class='hs-varid'>setOptHpcDir</span><span class='hs-layout'>)</span>
<a name="line-2250"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"ghci-script"</span>    <span class='hs-layout'>(</span><span class='hs-varid'>hasArg</span> <span class='hs-varid'>addGhciScript</span><span class='hs-layout'>)</span>
<a name="line-2251"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"interactive-print"</span> <span class='hs-layout'>(</span><span class='hs-varid'>hasArg</span> <span class='hs-varid'>setInteractivePrint</span><span class='hs-layout'>)</span>
<a name="line-2252"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"ticky-allocd"</span>      <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>setGeneralFlag</span> <span class='hs-conid'>Opt_Ticky_Allocd</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2253"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"ticky-LNE"</span>         <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>setGeneralFlag</span> <span class='hs-conid'>Opt_Ticky_LNE</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2254"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"ticky-dyn-thunk"</span>   <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>setGeneralFlag</span> <span class='hs-conid'>Opt_Ticky_Dyn_Thunk</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2255"></a>        <span class='hs-comment'>------- recompilation checker --------------------------------------</span>
<a name="line-2256"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"recomp"</span>         <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-keyword'>do</span> <span class='hs-varid'>unSetGeneralFlag</span> <span class='hs-conid'>Opt_ForceRecomp</span>
<a name="line-2257"></a>                                     <span class='hs-varid'>deprecate</span> <span class='hs-str'>"Use -fno-force-recomp instead"</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2258"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"no-recomp"</span>      <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-keyword'>do</span> <span class='hs-varid'>setGeneralFlag</span> <span class='hs-conid'>Opt_ForceRecomp</span>
<a name="line-2259"></a>                                     <span class='hs-varid'>deprecate</span> <span class='hs-str'>"Use -fforce-recomp instead"</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2260"></a>
<a name="line-2261"></a>        <span class='hs-comment'>------ HsCpp opts ---------------------------------------------------</span>
<a name="line-2262"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"D"</span>              <span class='hs-layout'>(</span><span class='hs-conid'>AnySuffix</span> <span class='hs-layout'>(</span><span class='hs-varid'>upd</span> <span class='hs-varop'>.</span> <span class='hs-varid'>addOptP</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2263"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"U"</span>              <span class='hs-layout'>(</span><span class='hs-conid'>AnySuffix</span> <span class='hs-layout'>(</span><span class='hs-varid'>upd</span> <span class='hs-varop'>.</span> <span class='hs-varid'>addOptP</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2264"></a>
<a name="line-2265"></a>        <span class='hs-comment'>------- Include/Import Paths ----------------------------------------</span>
<a name="line-2266"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"I"</span>              <span class='hs-layout'>(</span><span class='hs-conid'>Prefix</span>    <span class='hs-varid'>addIncludePath</span><span class='hs-layout'>)</span>
<a name="line-2267"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"i"</span>              <span class='hs-layout'>(</span><span class='hs-conid'>OptPrefix</span> <span class='hs-varid'>addImportPath</span><span class='hs-layout'>)</span>
<a name="line-2268"></a>
<a name="line-2269"></a>        <span class='hs-comment'>------ Output style options -----------------------------------------</span>
<a name="line-2270"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"dppr-user-length"</span> <span class='hs-layout'>(</span><span class='hs-varid'>intSuffix</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>n</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span><span class='hs-layout'>{</span> <span class='hs-varid'>pprUserLength</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>n</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2271"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"dppr-cols"</span>        <span class='hs-layout'>(</span><span class='hs-varid'>intSuffix</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>n</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span><span class='hs-layout'>{</span> <span class='hs-varid'>pprCols</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>n</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2272"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"dtrace-level"</span>     <span class='hs-layout'>(</span><span class='hs-varid'>intSuffix</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>n</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span><span class='hs-layout'>{</span> <span class='hs-varid'>traceLevel</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>n</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2273"></a>  <span class='hs-comment'>-- Suppress all that is suppressable in core dumps.</span>
<a name="line-2274"></a>  <span class='hs-comment'>-- Except for uniques, as some simplifier phases introduce new varibles that</span>
<a name="line-2275"></a>  <span class='hs-comment'>-- have otherwise identical names.</span>
<a name="line-2276"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"dsuppress-all"</span>    <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-varop'>$</span> <span class='hs-keyword'>do</span> <span class='hs-varid'>setGeneralFlag</span> <span class='hs-conid'>Opt_SuppressCoercions</span>
<a name="line-2277"></a>                                        <span class='hs-varid'>setGeneralFlag</span> <span class='hs-conid'>Opt_SuppressVarKinds</span>
<a name="line-2278"></a>                                        <span class='hs-varid'>setGeneralFlag</span> <span class='hs-conid'>Opt_SuppressModulePrefixes</span>
<a name="line-2279"></a>                                        <span class='hs-varid'>setGeneralFlag</span> <span class='hs-conid'>Opt_SuppressTypeApplications</span>
<a name="line-2280"></a>                                        <span class='hs-varid'>setGeneralFlag</span> <span class='hs-conid'>Opt_SuppressIdInfo</span>
<a name="line-2281"></a>                                        <span class='hs-varid'>setGeneralFlag</span> <span class='hs-conid'>Opt_SuppressTypeSignatures</span><span class='hs-layout'>)</span>
<a name="line-2282"></a>
<a name="line-2283"></a>        <span class='hs-comment'>------ Debugging ----------------------------------------------------</span>
<a name="line-2284"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"dstg-stats"</span>     <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>setGeneralFlag</span> <span class='hs-conid'>Opt_StgStats</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2285"></a>
<a name="line-2286"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"ddump-cmm"</span>               <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_cmm</span><span class='hs-layout'>)</span>
<a name="line-2287"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"ddump-cmm-raw"</span>           <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_cmm_raw</span><span class='hs-layout'>)</span>
<a name="line-2288"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"ddump-cmm-cfg"</span>           <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_cmm_cfg</span><span class='hs-layout'>)</span>
<a name="line-2289"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"ddump-cmm-cbe"</span>           <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_cmm_cbe</span><span class='hs-layout'>)</span>
<a name="line-2290"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"ddump-cmm-proc"</span>          <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_cmm_proc</span><span class='hs-layout'>)</span>
<a name="line-2291"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"ddump-cmm-sink"</span>          <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_cmm_sink</span><span class='hs-layout'>)</span>
<a name="line-2292"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"ddump-cmm-sp"</span>            <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_cmm_sp</span><span class='hs-layout'>)</span>
<a name="line-2293"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"ddump-cmm-procmap"</span>       <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_cmm_procmap</span><span class='hs-layout'>)</span>
<a name="line-2294"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"ddump-cmm-split"</span>         <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_cmm_split</span><span class='hs-layout'>)</span>
<a name="line-2295"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"ddump-cmm-info"</span>          <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_cmm_info</span><span class='hs-layout'>)</span>
<a name="line-2296"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"ddump-cmm-cps"</span>           <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_cmm_cps</span><span class='hs-layout'>)</span>
<a name="line-2297"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"ddump-core-stats"</span>        <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_core_stats</span><span class='hs-layout'>)</span>
<a name="line-2298"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"ddump-asm"</span>               <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_asm</span><span class='hs-layout'>)</span>
<a name="line-2299"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"ddump-asm-native"</span>        <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_asm_native</span><span class='hs-layout'>)</span>
<a name="line-2300"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"ddump-asm-liveness"</span>      <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_asm_liveness</span><span class='hs-layout'>)</span>
<a name="line-2301"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"ddump-asm-regalloc"</span>      <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_asm_regalloc</span><span class='hs-layout'>)</span>
<a name="line-2302"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"ddump-asm-conflicts"</span>     <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_asm_conflicts</span><span class='hs-layout'>)</span>
<a name="line-2303"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"ddump-asm-regalloc-stages"</span> <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_asm_regalloc_stages</span><span class='hs-layout'>)</span>
<a name="line-2304"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"ddump-asm-stats"</span>         <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_asm_stats</span><span class='hs-layout'>)</span>
<a name="line-2305"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"ddump-asm-expanded"</span>      <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_asm_expanded</span><span class='hs-layout'>)</span>
<a name="line-2306"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"ddump-llvm"</span>              <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-keyword'>do</span> <span class='hs-varid'>setObjTarget</span> <span class='hs-conid'>HscLlvm</span>
<a name="line-2307"></a>                                              <span class='hs-varid'>setDumpFlag'</span> <span class='hs-conid'>Opt_D_dump_llvm</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2308"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"ddump-deriv"</span>             <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_deriv</span><span class='hs-layout'>)</span>
<a name="line-2309"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"ddump-ds"</span>                <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_ds</span><span class='hs-layout'>)</span>
<a name="line-2310"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"ddump-foreign"</span>           <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_foreign</span><span class='hs-layout'>)</span>
<a name="line-2311"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"ddump-inlinings"</span>         <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_inlinings</span><span class='hs-layout'>)</span>
<a name="line-2312"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"ddump-rule-firings"</span>      <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_rule_firings</span><span class='hs-layout'>)</span>
<a name="line-2313"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"ddump-rule-rewrites"</span>     <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_rule_rewrites</span><span class='hs-layout'>)</span>
<a name="line-2314"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"ddump-simpl-trace"</span>       <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_simpl_trace</span><span class='hs-layout'>)</span>
<a name="line-2315"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"ddump-occur-anal"</span>        <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_occur_anal</span><span class='hs-layout'>)</span>
<a name="line-2316"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"ddump-parsed"</span>            <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_parsed</span><span class='hs-layout'>)</span>
<a name="line-2317"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"ddump-rn"</span>                <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_rn</span><span class='hs-layout'>)</span>
<a name="line-2318"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"ddump-core-pipeline"</span>     <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_core_pipeline</span><span class='hs-layout'>)</span>
<a name="line-2319"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"ddump-simpl"</span>             <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_simpl</span><span class='hs-layout'>)</span>
<a name="line-2320"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"ddump-simpl-iterations"</span>  <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_simpl_iterations</span><span class='hs-layout'>)</span>
<a name="line-2321"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"ddump-simpl-phases"</span>      <span class='hs-layout'>(</span><span class='hs-conid'>OptPrefix</span> <span class='hs-varid'>setDumpSimplPhases</span><span class='hs-layout'>)</span>
<a name="line-2322"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"ddump-spec"</span>              <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_spec</span><span class='hs-layout'>)</span>
<a name="line-2323"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"ddump-prep"</span>              <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_prep</span><span class='hs-layout'>)</span>
<a name="line-2324"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"ddump-stg"</span>               <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_stg</span><span class='hs-layout'>)</span>
<a name="line-2325"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"ddump-stranal"</span>           <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_stranal</span><span class='hs-layout'>)</span>
<a name="line-2326"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"ddump-strsigs"</span>           <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_strsigs</span><span class='hs-layout'>)</span>
<a name="line-2327"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"ddump-tc"</span>                <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_tc</span><span class='hs-layout'>)</span>
<a name="line-2328"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"ddump-types"</span>             <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_types</span><span class='hs-layout'>)</span>
<a name="line-2329"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"ddump-rules"</span>             <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_rules</span><span class='hs-layout'>)</span>
<a name="line-2330"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"ddump-cse"</span>               <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_cse</span><span class='hs-layout'>)</span>
<a name="line-2331"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"ddump-worker-wrapper"</span>    <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_worker_wrapper</span><span class='hs-layout'>)</span>
<a name="line-2332"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"ddump-rn-trace"</span>          <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_rn_trace</span><span class='hs-layout'>)</span>
<a name="line-2333"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"ddump-if-trace"</span>          <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_if_trace</span><span class='hs-layout'>)</span>
<a name="line-2334"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"ddump-cs-trace"</span>          <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_cs_trace</span><span class='hs-layout'>)</span>
<a name="line-2335"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"ddump-tc-trace"</span>          <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-keyword'>do</span> <span class='hs-layout'>{</span> <span class='hs-varid'>setDumpFlag'</span> <span class='hs-conid'>Opt_D_dump_tc_trace</span>
<a name="line-2336"></a>                                              <span class='hs-layout'>;</span> <span class='hs-varid'>setDumpFlag'</span> <span class='hs-conid'>Opt_D_dump_cs_trace</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2337"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"ddump-vt-trace"</span>          <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_vt_trace</span><span class='hs-layout'>)</span>
<a name="line-2338"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"ddump-splices"</span>           <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_splices</span><span class='hs-layout'>)</span>
<a name="line-2339"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"ddump-rn-stats"</span>          <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_rn_stats</span><span class='hs-layout'>)</span>
<a name="line-2340"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"ddump-opt-cmm"</span>           <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_opt_cmm</span><span class='hs-layout'>)</span>
<a name="line-2341"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"ddump-simpl-stats"</span>       <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_simpl_stats</span><span class='hs-layout'>)</span>
<a name="line-2342"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"ddump-bcos"</span>              <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_BCOs</span><span class='hs-layout'>)</span>
<a name="line-2343"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"dsource-stats"</span>           <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_source_stats</span><span class='hs-layout'>)</span>
<a name="line-2344"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"dverbose-core2core"</span>      <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-keyword'>do</span> <span class='hs-varid'>setVerbosity</span> <span class='hs-layout'>(</span><span class='hs-conid'>Just</span> <span class='hs-num'>2</span><span class='hs-layout'>)</span>
<a name="line-2345"></a>                                              <span class='hs-varid'>setVerboseCore2Core</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2346"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"dverbose-stg2stg"</span>        <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_verbose_stg2stg</span><span class='hs-layout'>)</span>
<a name="line-2347"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"ddump-hi"</span>                <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_hi</span><span class='hs-layout'>)</span>
<a name="line-2348"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"ddump-minimal-imports"</span>   <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>setGeneralFlag</span> <span class='hs-conid'>Opt_D_dump_minimal_imports</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2349"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"ddump-vect"</span>              <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_vect</span><span class='hs-layout'>)</span>
<a name="line-2350"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"ddump-hpc"</span>               <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_ticked</span><span class='hs-layout'>)</span> <span class='hs-comment'>-- back compat</span>
<a name="line-2351"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"ddump-ticked"</span>            <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_ticked</span><span class='hs-layout'>)</span>
<a name="line-2352"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"ddump-mod-cycles"</span>        <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_mod_cycles</span><span class='hs-layout'>)</span>
<a name="line-2353"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"ddump-view-pattern-commoning"</span> <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_view_pattern_commoning</span><span class='hs-layout'>)</span>
<a name="line-2354"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"ddump-to-file"</span>           <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>setGeneralFlag</span> <span class='hs-conid'>Opt_DumpToFile</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2355"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"ddump-hi-diffs"</span>          <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_hi_diffs</span><span class='hs-layout'>)</span>
<a name="line-2356"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"ddump-rtti"</span>              <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_rtti</span><span class='hs-layout'>)</span>
<a name="line-2357"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"dcore-lint"</span>              <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>setGeneralFlag</span> <span class='hs-conid'>Opt_DoCoreLinting</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2358"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"dstg-lint"</span>               <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>setGeneralFlag</span> <span class='hs-conid'>Opt_DoStgLinting</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2359"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"dcmm-lint"</span>               <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>setGeneralFlag</span> <span class='hs-conid'>Opt_DoCmmLinting</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2360"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"dasm-lint"</span>               <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>setGeneralFlag</span> <span class='hs-conid'>Opt_DoAsmLinting</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2361"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"dshow-passes"</span>            <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-keyword'>do</span> <span class='hs-varid'>forceRecompile</span>
<a name="line-2362"></a>                                              <span class='hs-varid'>setVerbosity</span> <span class='hs-varop'>$</span> <span class='hs-conid'>Just</span> <span class='hs-num'>2</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2363"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"dfaststring-stats"</span>       <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>setGeneralFlag</span> <span class='hs-conid'>Opt_D_faststring_stats</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2364"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"dno-llvm-mangler"</span>        <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>setGeneralFlag</span> <span class='hs-conid'>Opt_NoLlvmMangler</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span> <span class='hs-comment'>-- hidden flag</span>
<a name="line-2365"></a>
<a name="line-2366"></a>        <span class='hs-comment'>------ Machine dependant (-m&lt;blah&gt;) stuff ---------------------------</span>
<a name="line-2367"></a>
<a name="line-2368"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"monly-2-regs"</span> <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>addWarn</span> <span class='hs-str'>"The -monly-2-regs flag does nothing; it will be removed in a future GHC release"</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2369"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"monly-3-regs"</span> <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>addWarn</span> <span class='hs-str'>"The -monly-3-regs flag does nothing; it will be removed in a future GHC release"</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2370"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"monly-4-regs"</span> <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>addWarn</span> <span class='hs-str'>"The -monly-4-regs flag does nothing; it will be removed in a future GHC release"</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2371"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"msse"</span>         <span class='hs-layout'>(</span><span class='hs-varid'>versionSuffix</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>maj</span> <span class='hs-varid'>min</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span><span class='hs-layout'>{</span> <span class='hs-varid'>sseVersion</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Just</span> <span class='hs-layout'>(</span><span class='hs-varid'>maj</span><span class='hs-layout'>,</span> <span class='hs-varid'>min</span><span class='hs-layout'>)</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2372"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"mavx"</span>         <span class='hs-layout'>(</span><span class='hs-varid'>noArg</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span><span class='hs-layout'>{</span> <span class='hs-varid'>avx</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>True</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2373"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"mavx2"</span>        <span class='hs-layout'>(</span><span class='hs-varid'>noArg</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span><span class='hs-layout'>{</span> <span class='hs-varid'>avx2</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>True</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2374"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"mavx512cd"</span>    <span class='hs-layout'>(</span><span class='hs-varid'>noArg</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span><span class='hs-layout'>{</span> <span class='hs-varid'>avx512cd</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>True</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2375"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"mavx512er"</span>    <span class='hs-layout'>(</span><span class='hs-varid'>noArg</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span><span class='hs-layout'>{</span> <span class='hs-varid'>avx512er</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>True</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2376"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"mavx512f"</span>     <span class='hs-layout'>(</span><span class='hs-varid'>noArg</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span><span class='hs-layout'>{</span> <span class='hs-varid'>avx512f</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>True</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2377"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"mavx512pf"</span>    <span class='hs-layout'>(</span><span class='hs-varid'>noArg</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span><span class='hs-layout'>{</span> <span class='hs-varid'>avx512pf</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>True</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2378"></a>
<a name="line-2379"></a>     <span class='hs-comment'>------ Warning opts -------------------------------------------------</span>
<a name="line-2380"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"W"</span>      <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>mapM_</span> <span class='hs-varid'>setWarningFlag</span> <span class='hs-varid'>minusWOpts</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2381"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"Werror"</span> <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>setGeneralFlag</span>           <span class='hs-conid'>Opt_WarnIsError</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2382"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"Wwarn"</span>  <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>unSetGeneralFlag</span>         <span class='hs-conid'>Opt_WarnIsError</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2383"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"Wall"</span>   <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>mapM_</span> <span class='hs-varid'>setWarningFlag</span> <span class='hs-varid'>minusWallOpts</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2384"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"Wnot"</span>   <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-keyword'>do</span> <span class='hs-varid'>upd</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>dfs</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>dfs</span> <span class='hs-layout'>{</span><span class='hs-varid'>warningFlags</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>IntSet</span><span class='hs-varop'>.</span><span class='hs-varid'>empty</span><span class='hs-layout'>}</span><span class='hs-layout'>)</span>
<a name="line-2385"></a>                             <span class='hs-varid'>deprecate</span> <span class='hs-str'>"Use -w instead"</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2386"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"w"</span>      <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>upd</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>dfs</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>dfs</span> <span class='hs-layout'>{</span><span class='hs-varid'>warningFlags</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>IntSet</span><span class='hs-varop'>.</span><span class='hs-varid'>empty</span><span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2387"></a>
<a name="line-2388"></a>        <span class='hs-comment'>------ Plugin flags ------------------------------------------------</span>
<a name="line-2389"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"fplugin-opt"</span> <span class='hs-layout'>(</span><span class='hs-varid'>hasArg</span> <span class='hs-varid'>addPluginModuleNameOption</span><span class='hs-layout'>)</span>
<a name="line-2390"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"fplugin"</span>     <span class='hs-layout'>(</span><span class='hs-varid'>hasArg</span> <span class='hs-varid'>addPluginModuleName</span><span class='hs-layout'>)</span>
<a name="line-2391"></a>
<a name="line-2392"></a>        <span class='hs-comment'>------ Optimisation flags ------------------------------------------</span>
<a name="line-2393"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"O"</span>      <span class='hs-layout'>(</span><span class='hs-varid'>noArgM</span> <span class='hs-layout'>(</span><span class='hs-varid'>setOptLevel</span> <span class='hs-num'>1</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2394"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"Onot"</span>   <span class='hs-layout'>(</span><span class='hs-varid'>noArgM</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyword'>do</span> <span class='hs-varid'>deprecate</span> <span class='hs-str'>"Use -O0 instead"</span>
<a name="line-2395"></a>                                         <span class='hs-varid'>setOptLevel</span> <span class='hs-num'>0</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2396"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"Odph"</span>   <span class='hs-layout'>(</span><span class='hs-varid'>noArgM</span> <span class='hs-varid'>setDPHOpt</span><span class='hs-layout'>)</span>
<a name="line-2397"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"O"</span>      <span class='hs-layout'>(</span><span class='hs-varid'>optIntSuffixM</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>mb_n</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>setOptLevel</span> <span class='hs-layout'>(</span><span class='hs-varid'>mb_n</span> <span class='hs-varop'>`orElse`</span> <span class='hs-num'>1</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2398"></a>                <span class='hs-comment'>-- If the number is missing, use 1</span>
<a name="line-2399"></a>
<a name="line-2400"></a>
<a name="line-2401"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"fmax-relevant-binds"</span>         <span class='hs-layout'>(</span><span class='hs-varid'>intSuffix</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>n</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span><span class='hs-layout'>{</span> <span class='hs-varid'>maxRelevantBinds</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Just</span> <span class='hs-varid'>n</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2402"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"fno-max-relevant-binds"</span>      <span class='hs-layout'>(</span><span class='hs-varid'>noArg</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span><span class='hs-layout'>{</span> <span class='hs-varid'>maxRelevantBinds</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Nothing</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2403"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"fsimplifier-phases"</span>          <span class='hs-layout'>(</span><span class='hs-varid'>intSuffix</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>n</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span><span class='hs-layout'>{</span> <span class='hs-varid'>simplPhases</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>n</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2404"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"fmax-simplifier-iterations"</span>  <span class='hs-layout'>(</span><span class='hs-varid'>intSuffix</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>n</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span><span class='hs-layout'>{</span> <span class='hs-varid'>maxSimplIterations</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>n</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2405"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"fsimpl-tick-factor"</span>          <span class='hs-layout'>(</span><span class='hs-varid'>intSuffix</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>n</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span><span class='hs-layout'>{</span> <span class='hs-varid'>simplTickFactor</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>n</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2406"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"fspec-constr-threshold"</span>      <span class='hs-layout'>(</span><span class='hs-varid'>intSuffix</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>n</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span><span class='hs-layout'>{</span> <span class='hs-varid'>specConstrThreshold</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Just</span> <span class='hs-varid'>n</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2407"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"fno-spec-constr-threshold"</span>   <span class='hs-layout'>(</span><span class='hs-varid'>noArg</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span><span class='hs-layout'>{</span> <span class='hs-varid'>specConstrThreshold</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Nothing</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2408"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"fspec-constr-count"</span>          <span class='hs-layout'>(</span><span class='hs-varid'>intSuffix</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>n</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span><span class='hs-layout'>{</span> <span class='hs-varid'>specConstrCount</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Just</span> <span class='hs-varid'>n</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2409"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"fno-spec-constr-count"</span>       <span class='hs-layout'>(</span><span class='hs-varid'>noArg</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span><span class='hs-layout'>{</span> <span class='hs-varid'>specConstrCount</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Nothing</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2410"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"fspec-constr-recursive"</span>      <span class='hs-layout'>(</span><span class='hs-varid'>intSuffix</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>n</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span><span class='hs-layout'>{</span> <span class='hs-varid'>specConstrRecursive</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>n</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2411"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"fliberate-case-threshold"</span>    <span class='hs-layout'>(</span><span class='hs-varid'>intSuffix</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>n</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span><span class='hs-layout'>{</span> <span class='hs-varid'>liberateCaseThreshold</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Just</span> <span class='hs-varid'>n</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2412"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"fno-liberate-case-threshold"</span> <span class='hs-layout'>(</span><span class='hs-varid'>noArg</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span><span class='hs-layout'>{</span> <span class='hs-varid'>liberateCaseThreshold</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Nothing</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2413"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"frule-check"</span>                 <span class='hs-layout'>(</span><span class='hs-varid'>sepArg</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>s</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span><span class='hs-layout'>{</span> <span class='hs-varid'>ruleCheck</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Just</span> <span class='hs-varid'>s</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2414"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"fcontext-stack"</span>              <span class='hs-layout'>(</span><span class='hs-varid'>intSuffix</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>n</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span><span class='hs-layout'>{</span> <span class='hs-varid'>ctxtStkDepth</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>n</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2415"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"ftype-function-depth"</span>        <span class='hs-layout'>(</span><span class='hs-varid'>intSuffix</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>n</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span><span class='hs-layout'>{</span> <span class='hs-varid'>tyFunStkDepth</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>n</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2416"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"fstrictness-before"</span>          <span class='hs-layout'>(</span><span class='hs-varid'>intSuffix</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>n</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span><span class='hs-layout'>{</span> <span class='hs-varid'>strictnessBefore</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>n</span> <span class='hs-conop'>:</span> <span class='hs-varid'>strictnessBefore</span> <span class='hs-varid'>d</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2417"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"ffloat-lam-args"</span>             <span class='hs-layout'>(</span><span class='hs-varid'>intSuffix</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>n</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span><span class='hs-layout'>{</span> <span class='hs-varid'>floatLamArgs</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Just</span> <span class='hs-varid'>n</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2418"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"ffloat-all-lams"</span>             <span class='hs-layout'>(</span><span class='hs-varid'>noArg</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span><span class='hs-layout'>{</span> <span class='hs-varid'>floatLamArgs</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Nothing</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2419"></a>
<a name="line-2420"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"fhistory-size"</span>               <span class='hs-layout'>(</span><span class='hs-varid'>intSuffix</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>n</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span><span class='hs-layout'>{</span> <span class='hs-varid'>historySize</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>n</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2421"></a>
<a name="line-2422"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"funfolding-creation-threshold"</span> <span class='hs-layout'>(</span><span class='hs-varid'>intSuffix</span>   <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>n</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span><span class='hs-varid'>ufCreationThreshold</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>n</span><span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2423"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"funfolding-use-threshold"</span>      <span class='hs-layout'>(</span><span class='hs-varid'>intSuffix</span>   <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>n</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span><span class='hs-varid'>ufUseThreshold</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>n</span><span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2424"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"funfolding-fun-discount"</span>       <span class='hs-layout'>(</span><span class='hs-varid'>intSuffix</span>   <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>n</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span><span class='hs-varid'>ufFunAppDiscount</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>n</span><span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2425"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"funfolding-dict-discount"</span>      <span class='hs-layout'>(</span><span class='hs-varid'>intSuffix</span>   <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>n</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span><span class='hs-varid'>ufDictDiscount</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>n</span><span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2426"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"funfolding-keeness-factor"</span>     <span class='hs-layout'>(</span><span class='hs-varid'>floatSuffix</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>n</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span><span class='hs-varid'>ufKeenessFactor</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>n</span><span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2427"></a>
<a name="line-2428"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"fmax-worker-args"</span> <span class='hs-layout'>(</span><span class='hs-varid'>intSuffix</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>n</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span><span class='hs-varid'>maxWorkerArgs</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>n</span><span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2429"></a>
<a name="line-2430"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"fghci-hist-size"</span> <span class='hs-layout'>(</span><span class='hs-varid'>intSuffix</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>n</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span><span class='hs-varid'>ghciHistSize</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>n</span><span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2431"></a>
<a name="line-2432"></a>        <span class='hs-comment'>------ Profiling ----------------------------------------------------</span>
<a name="line-2433"></a>
<a name="line-2434"></a>        <span class='hs-comment'>-- OLD profiling flags</span>
<a name="line-2435"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"auto-all"</span>              <span class='hs-layout'>(</span><span class='hs-varid'>noArg</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>profAuto</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>ProfAutoAll</span> <span class='hs-layout'>}</span> <span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2436"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"no-auto-all"</span>           <span class='hs-layout'>(</span><span class='hs-varid'>noArg</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>profAuto</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>NoProfAuto</span> <span class='hs-layout'>}</span> <span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2437"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"auto"</span>                  <span class='hs-layout'>(</span><span class='hs-varid'>noArg</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>profAuto</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>ProfAutoExports</span> <span class='hs-layout'>}</span> <span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2438"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"no-auto"</span>               <span class='hs-layout'>(</span><span class='hs-varid'>noArg</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>profAuto</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>NoProfAuto</span> <span class='hs-layout'>}</span> <span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2439"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"caf-all"</span>               <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>setGeneralFlag</span> <span class='hs-conid'>Opt_AutoSccsOnIndividualCafs</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2440"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"no-caf-all"</span>            <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>unSetGeneralFlag</span> <span class='hs-conid'>Opt_AutoSccsOnIndividualCafs</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2441"></a>
<a name="line-2442"></a>        <span class='hs-comment'>-- NEW profiling flags</span>
<a name="line-2443"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"fprof-auto"</span>             <span class='hs-layout'>(</span><span class='hs-varid'>noArg</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>profAuto</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>ProfAutoAll</span> <span class='hs-layout'>}</span> <span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2444"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"fprof-auto-top"</span>         <span class='hs-layout'>(</span><span class='hs-varid'>noArg</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>profAuto</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>ProfAutoTop</span> <span class='hs-layout'>}</span> <span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2445"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"fprof-auto-exported"</span>    <span class='hs-layout'>(</span><span class='hs-varid'>noArg</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>profAuto</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>ProfAutoExports</span> <span class='hs-layout'>}</span> <span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2446"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"fprof-auto-calls"</span>       <span class='hs-layout'>(</span><span class='hs-varid'>noArg</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>profAuto</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>ProfAutoCalls</span> <span class='hs-layout'>}</span> <span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2447"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"fno-prof-auto"</span>          <span class='hs-layout'>(</span><span class='hs-varid'>noArg</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>profAuto</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>NoProfAuto</span> <span class='hs-layout'>}</span> <span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2448"></a>
<a name="line-2449"></a>        <span class='hs-comment'>------ Compiler flags -----------------------------------------------</span>
<a name="line-2450"></a>
<a name="line-2451"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"fasm"</span>             <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>setObjTarget</span> <span class='hs-conid'>HscAsm</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2452"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"fvia-c"</span>           <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span>
<a name="line-2453"></a>         <span class='hs-layout'>(</span><span class='hs-varid'>addWarn</span> <span class='hs-str'>"The -fvia-c flag does nothing; it will be removed in a future GHC release"</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2454"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"fvia-C"</span>           <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span>
<a name="line-2455"></a>         <span class='hs-layout'>(</span><span class='hs-varid'>addWarn</span> <span class='hs-str'>"The -fvia-C flag does nothing; it will be removed in a future GHC release"</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2456"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"fllvm"</span>            <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>setObjTarget</span> <span class='hs-conid'>HscLlvm</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2457"></a>
<a name="line-2458"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"fno-code"</span>         <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-keyword'>do</span> <span class='hs-varid'>upd</span> <span class='hs-varop'>$</span> <span class='hs-keyglyph'>\</span><span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span><span class='hs-layout'>{</span> <span class='hs-varid'>ghcLink</span><span class='hs-keyglyph'>=</span><span class='hs-conid'>NoLink</span> <span class='hs-layout'>}</span>
<a name="line-2459"></a>                                       <span class='hs-varid'>setTarget</span> <span class='hs-conid'>HscNothing</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2460"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"fbyte-code"</span>       <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>setTarget</span> <span class='hs-conid'>HscInterpreted</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2461"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"fobject-code"</span>     <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>setTargetWithPlatform</span> <span class='hs-varid'>defaultHscTarget</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2462"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"fglasgow-exts"</span>    <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>enableGlasgowExts</span> <span class='hs-varop'>&gt;&gt;</span> <span class='hs-varid'>deprecate</span> <span class='hs-str'>"Use individual extensions instead"</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2463"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"fno-glasgow-exts"</span> <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>disableGlasgowExts</span> <span class='hs-varop'>&gt;&gt;</span> <span class='hs-varid'>deprecate</span> <span class='hs-str'>"Use individual extensions instead"</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2464"></a>
<a name="line-2465"></a>        <span class='hs-comment'>------ Safe Haskell flags -------------------------------------------</span>
<a name="line-2466"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"fpackage-trust"</span>   <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-varid'>setPackageTrust</span><span class='hs-layout'>)</span>
<a name="line-2467"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"fno-safe-infer"</span>   <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>setSafeHaskell</span> <span class='hs-conid'>Sf_None</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2468"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"fPIC"</span>             <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>setGeneralFlag</span> <span class='hs-conid'>Opt_PIC</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2469"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"fno-PIC"</span>          <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>unSetGeneralFlag</span> <span class='hs-conid'>Opt_PIC</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2470"></a> <span class='hs-keyglyph'>]</span>
<a name="line-2471"></a> <span class='hs-varop'>++</span> <span class='hs-varid'>map</span> <span class='hs-layout'>(</span><span class='hs-varid'>mkFlag</span> <span class='hs-varid'>turnOn</span>  <span class='hs-str'>""</span>     <span class='hs-varid'>setGeneralFlag</span>  <span class='hs-layout'>)</span> <span class='hs-varid'>negatableFlags</span>
<a name="line-2472"></a> <span class='hs-varop'>++</span> <span class='hs-varid'>map</span> <span class='hs-layout'>(</span><span class='hs-varid'>mkFlag</span> <span class='hs-varid'>turnOff</span> <span class='hs-str'>"no-"</span>  <span class='hs-varid'>unSetGeneralFlag</span><span class='hs-layout'>)</span> <span class='hs-varid'>negatableFlags</span>
<a name="line-2473"></a> <span class='hs-varop'>++</span> <span class='hs-varid'>map</span> <span class='hs-layout'>(</span><span class='hs-varid'>mkFlag</span> <span class='hs-varid'>turnOn</span>  <span class='hs-str'>"d"</span>    <span class='hs-varid'>setGeneralFlag</span>  <span class='hs-layout'>)</span> <span class='hs-varid'>dFlags</span>
<a name="line-2474"></a> <span class='hs-varop'>++</span> <span class='hs-varid'>map</span> <span class='hs-layout'>(</span><span class='hs-varid'>mkFlag</span> <span class='hs-varid'>turnOff</span> <span class='hs-str'>"dno-"</span> <span class='hs-varid'>unSetGeneralFlag</span><span class='hs-layout'>)</span> <span class='hs-varid'>dFlags</span>
<a name="line-2475"></a> <span class='hs-varop'>++</span> <span class='hs-varid'>map</span> <span class='hs-layout'>(</span><span class='hs-varid'>mkFlag</span> <span class='hs-varid'>turnOn</span>  <span class='hs-str'>"f"</span>    <span class='hs-varid'>setGeneralFlag</span>  <span class='hs-layout'>)</span> <span class='hs-varid'>fFlags</span>
<a name="line-2476"></a> <span class='hs-varop'>++</span> <span class='hs-varid'>map</span> <span class='hs-layout'>(</span><span class='hs-varid'>mkFlag</span> <span class='hs-varid'>turnOff</span> <span class='hs-str'>"fno-"</span> <span class='hs-varid'>unSetGeneralFlag</span><span class='hs-layout'>)</span> <span class='hs-varid'>fFlags</span>
<a name="line-2477"></a> <span class='hs-varop'>++</span> <span class='hs-varid'>map</span> <span class='hs-layout'>(</span><span class='hs-varid'>mkFlag</span> <span class='hs-varid'>turnOn</span>  <span class='hs-str'>"f"</span>    <span class='hs-varid'>setWarningFlag</span>  <span class='hs-layout'>)</span> <span class='hs-varid'>fWarningFlags</span>
<a name="line-2478"></a> <span class='hs-varop'>++</span> <span class='hs-varid'>map</span> <span class='hs-layout'>(</span><span class='hs-varid'>mkFlag</span> <span class='hs-varid'>turnOff</span> <span class='hs-str'>"fno-"</span> <span class='hs-varid'>unSetWarningFlag</span><span class='hs-layout'>)</span> <span class='hs-varid'>fWarningFlags</span>
<a name="line-2479"></a> <span class='hs-varop'>++</span> <span class='hs-varid'>map</span> <span class='hs-layout'>(</span><span class='hs-varid'>mkFlag</span> <span class='hs-varid'>turnOn</span>  <span class='hs-str'>"f"</span>    <span class='hs-varid'>setExtensionFlag</span>  <span class='hs-layout'>)</span> <span class='hs-varid'>fLangFlags</span>
<a name="line-2480"></a> <span class='hs-varop'>++</span> <span class='hs-varid'>map</span> <span class='hs-layout'>(</span><span class='hs-varid'>mkFlag</span> <span class='hs-varid'>turnOff</span> <span class='hs-str'>"fno-"</span> <span class='hs-varid'>unSetExtensionFlag</span><span class='hs-layout'>)</span> <span class='hs-varid'>fLangFlags</span>
<a name="line-2481"></a> <span class='hs-varop'>++</span> <span class='hs-varid'>map</span> <span class='hs-layout'>(</span><span class='hs-varid'>mkFlag</span> <span class='hs-varid'>turnOn</span>  <span class='hs-str'>"X"</span>    <span class='hs-varid'>setExtensionFlag</span>  <span class='hs-layout'>)</span> <span class='hs-varid'>xFlags</span>
<a name="line-2482"></a> <span class='hs-varop'>++</span> <span class='hs-varid'>map</span> <span class='hs-layout'>(</span><span class='hs-varid'>mkFlag</span> <span class='hs-varid'>turnOff</span> <span class='hs-str'>"XNo"</span>  <span class='hs-varid'>unSetExtensionFlag</span><span class='hs-layout'>)</span> <span class='hs-varid'>xFlags</span>
<a name="line-2483"></a> <span class='hs-varop'>++</span> <span class='hs-varid'>map</span> <span class='hs-layout'>(</span><span class='hs-varid'>mkFlag</span> <span class='hs-varid'>turnOn</span>  <span class='hs-str'>"X"</span>    <span class='hs-varid'>setLanguage</span><span class='hs-layout'>)</span> <span class='hs-varid'>languageFlags</span>
<a name="line-2484"></a> <span class='hs-varop'>++</span> <span class='hs-varid'>map</span> <span class='hs-layout'>(</span><span class='hs-varid'>mkFlag</span> <span class='hs-varid'>turnOn</span>  <span class='hs-str'>"X"</span>    <span class='hs-varid'>setSafeHaskell</span><span class='hs-layout'>)</span> <span class='hs-varid'>safeHaskellFlags</span>
<a name="line-2485"></a> <span class='hs-varop'>++</span> <span class='hs-keyglyph'>[</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"XGenerics"</span>       <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>deprecate</span> <span class='hs-str'>"it does nothing; look into -XDefaultSignatures and -XDeriveGeneric for generic programming support."</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2486"></a>    <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"XNoGenerics"</span>     <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>deprecate</span> <span class='hs-str'>"it does nothing; look into -XDefaultSignatures and -XDeriveGeneric for generic programming support."</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>]</span>
<a name="line-2487"></a>
<a name="line-2488"></a><a name="package_flags"></a><span class='hs-definition'>package_flags</span> <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>Flag</span> <span class='hs-layout'>(</span><span class='hs-conid'>CmdLineP</span> <span class='hs-conid'>DynFlags</span><span class='hs-layout'>)</span><span class='hs-keyglyph'>]</span>
<a name="line-2489"></a><span class='hs-definition'>package_flags</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyglyph'>[</span>
<a name="line-2490"></a>        <span class='hs-comment'>------- Packages ----------------------------------------------------</span>
<a name="line-2491"></a>    <span class='hs-conid'>Flag</span> <span class='hs-str'>"package-db"</span>            <span class='hs-layout'>(</span><span class='hs-conid'>HasArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>addPkgConfRef</span> <span class='hs-varop'>.</span> <span class='hs-conid'>PkgConfFile</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2492"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"clear-package-db"</span>      <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-varid'>clearPkgConf</span><span class='hs-layout'>)</span>
<a name="line-2493"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"no-global-package-db"</span>  <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-varid'>removeGlobalPkgConf</span><span class='hs-layout'>)</span>
<a name="line-2494"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"no-user-package-db"</span>    <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-varid'>removeUserPkgConf</span><span class='hs-layout'>)</span>
<a name="line-2495"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"global-package-db"</span>     <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>addPkgConfRef</span> <span class='hs-conid'>GlobalPkgConf</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2496"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"user-package-db"</span>       <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>addPkgConfRef</span> <span class='hs-conid'>UserPkgConf</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2497"></a>
<a name="line-2498"></a>    <span class='hs-comment'>-- backwards compat with GHC&lt;=7.4 :</span>
<a name="line-2499"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"package-conf"</span>          <span class='hs-layout'>(</span><span class='hs-conid'>HasArg</span> <span class='hs-varop'>$</span> <span class='hs-keyglyph'>\</span><span class='hs-varid'>path</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyword'>do</span>
<a name="line-2500"></a>                                    <span class='hs-varid'>addPkgConfRef</span> <span class='hs-layout'>(</span><span class='hs-conid'>PkgConfFile</span> <span class='hs-varid'>path</span><span class='hs-layout'>)</span>
<a name="line-2501"></a>                                    <span class='hs-varid'>deprecate</span> <span class='hs-str'>"Use -package-db instead"</span><span class='hs-layout'>)</span>
<a name="line-2502"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"no-user-package-conf"</span>  <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-varop'>$</span> <span class='hs-keyword'>do</span>
<a name="line-2503"></a>                                    <span class='hs-varid'>removeUserPkgConf</span>
<a name="line-2504"></a>                                    <span class='hs-varid'>deprecate</span> <span class='hs-str'>"Use -no-user-package-db instead"</span><span class='hs-layout'>)</span>
<a name="line-2505"></a>
<a name="line-2506"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"package-name"</span>          <span class='hs-layout'>(</span><span class='hs-varid'>hasArg</span> <span class='hs-varid'>setPackageName</span><span class='hs-layout'>)</span>
<a name="line-2507"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"package-id"</span>            <span class='hs-layout'>(</span><span class='hs-conid'>HasArg</span> <span class='hs-varid'>exposePackageId</span><span class='hs-layout'>)</span>
<a name="line-2508"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"package"</span>               <span class='hs-layout'>(</span><span class='hs-conid'>HasArg</span> <span class='hs-varid'>exposePackage</span><span class='hs-layout'>)</span>
<a name="line-2509"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"hide-package"</span>          <span class='hs-layout'>(</span><span class='hs-conid'>HasArg</span> <span class='hs-varid'>hidePackage</span><span class='hs-layout'>)</span>
<a name="line-2510"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"hide-all-packages"</span>     <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>setGeneralFlag</span> <span class='hs-conid'>Opt_HideAllPackages</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2511"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"ignore-package"</span>        <span class='hs-layout'>(</span><span class='hs-conid'>HasArg</span> <span class='hs-varid'>ignorePackage</span><span class='hs-layout'>)</span>
<a name="line-2512"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"syslib"</span>                <span class='hs-layout'>(</span><span class='hs-conid'>HasArg</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>s</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyword'>do</span> <span class='hs-varid'>exposePackage</span> <span class='hs-varid'>s</span>
<a name="line-2513"></a>                                                   <span class='hs-varid'>deprecate</span> <span class='hs-str'>"Use -package instead"</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2514"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"distrust-all-packages"</span> <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>setGeneralFlag</span> <span class='hs-conid'>Opt_DistrustAllPackages</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2515"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"trust"</span>                 <span class='hs-layout'>(</span><span class='hs-conid'>HasArg</span> <span class='hs-varid'>trustPackage</span><span class='hs-layout'>)</span>
<a name="line-2516"></a>  <span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-str'>"distrust"</span>              <span class='hs-layout'>(</span><span class='hs-conid'>HasArg</span> <span class='hs-varid'>distrustPackage</span><span class='hs-layout'>)</span>
<a name="line-2517"></a>  <span class='hs-keyglyph'>]</span>
<a name="line-2518"></a>
<a name="line-2519"></a><a name="TurnOnFlag"></a><span class='hs-keyword'>type</span> <span class='hs-conid'>TurnOnFlag</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Bool</span>   <span class='hs-comment'>-- True  &lt;=&gt; we are turning the flag on</span>
<a name="line-2520"></a>                         <span class='hs-comment'>-- False &lt;=&gt; we are turning the flag off</span>
<a name="line-2521"></a><a name="turnOn"></a><span class='hs-definition'>turnOn</span>  <span class='hs-keyglyph'>::</span> <span class='hs-conid'>TurnOnFlag</span><span class='hs-layout'>;</span> <span class='hs-varid'>turnOn</span>  <span class='hs-keyglyph'>=</span> <span class='hs-conid'>True</span>
<a name="line-2522"></a><a name="turnOff"></a><span class='hs-definition'>turnOff</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>TurnOnFlag</span><span class='hs-layout'>;</span> <span class='hs-varid'>turnOff</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>False</span>
<a name="line-2523"></a>
<a name="line-2524"></a><a name="FlagSpec"></a><span class='hs-keyword'>type</span> <span class='hs-conid'>FlagSpec</span> <span class='hs-varid'>flag</span>
<a name="line-2525"></a>   <span class='hs-keyglyph'>=</span> <span class='hs-layout'>(</span> <span class='hs-conid'>String</span>   <span class='hs-comment'>-- Flag in string form</span>
<a name="line-2526"></a>     <span class='hs-layout'>,</span> <span class='hs-varid'>flag</span>     <span class='hs-comment'>-- Flag in internal form</span>
<a name="line-2527"></a>     <span class='hs-layout'>,</span> <span class='hs-conid'>TurnOnFlag</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynP</span> <span class='hs-conid'>()</span><span class='hs-layout'>)</span>    <span class='hs-comment'>-- Extra action to run when the flag is found</span>
<a name="line-2528"></a>                                 <span class='hs-comment'>-- Typically, emit a warning or error</span>
<a name="line-2529"></a>
<a name="line-2530"></a><a name="mkFlag"></a><span class='hs-definition'>mkFlag</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>TurnOnFlag</span>            <span class='hs-comment'>-- ^ True &lt;=&gt; it should be turned on</span>
<a name="line-2531"></a>       <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>String</span>                <span class='hs-comment'>-- ^ The flag prefix</span>
<a name="line-2532"></a>       <span class='hs-keyglyph'>-&gt;</span> <span class='hs-layout'>(</span><span class='hs-varid'>flag</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynP</span> <span class='hs-conid'>()</span><span class='hs-layout'>)</span>     <span class='hs-comment'>-- ^ What to do when the flag is found</span>
<a name="line-2533"></a>       <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>FlagSpec</span> <span class='hs-varid'>flag</span>         <span class='hs-comment'>-- ^ Specification of this particular flag</span>
<a name="line-2534"></a>       <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Flag</span> <span class='hs-layout'>(</span><span class='hs-conid'>CmdLineP</span> <span class='hs-conid'>DynFlags</span><span class='hs-layout'>)</span>
<a name="line-2535"></a><span class='hs-definition'>mkFlag</span> <span class='hs-varid'>turn_on</span> <span class='hs-varid'>flagPrefix</span> <span class='hs-varid'>f</span> <span class='hs-layout'>(</span><span class='hs-varid'>name</span><span class='hs-layout'>,</span> <span class='hs-varid'>flag</span><span class='hs-layout'>,</span> <span class='hs-varid'>extra_action</span><span class='hs-layout'>)</span>
<a name="line-2536"></a>    <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Flag</span> <span class='hs-layout'>(</span><span class='hs-varid'>flagPrefix</span> <span class='hs-varop'>++</span> <span class='hs-varid'>name</span><span class='hs-layout'>)</span> <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>f</span> <span class='hs-varid'>flag</span> <span class='hs-varop'>&gt;&gt;</span> <span class='hs-varid'>extra_action</span> <span class='hs-varid'>turn_on</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2537"></a>
<a name="line-2538"></a><a name="deprecatedForExtension"></a><span class='hs-definition'>deprecatedForExtension</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>String</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>TurnOnFlag</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynP</span> <span class='hs-conid'>()</span>
<a name="line-2539"></a><span class='hs-definition'>deprecatedForExtension</span> <span class='hs-varid'>lang</span> <span class='hs-varid'>turn_on</span>
<a name="line-2540"></a>    <span class='hs-keyglyph'>=</span> <span class='hs-varid'>deprecate</span> <span class='hs-layout'>(</span><span class='hs-str'>"use -X"</span>  <span class='hs-varop'>++</span> <span class='hs-varid'>flag</span> <span class='hs-varop'>++</span> <span class='hs-str'>" or pragma {-# LANGUAGE "</span> <span class='hs-varop'>++</span> <span class='hs-varid'>flag</span> <span class='hs-varop'>++</span> <span class='hs-str'>" #-} instead"</span><span class='hs-layout'>)</span>
<a name="line-2541"></a>    <span class='hs-keyword'>where</span>
<a name="line-2542"></a>      <span class='hs-varid'>flag</span> <span class='hs-keyglyph'>|</span> <span class='hs-varid'>turn_on</span>    <span class='hs-keyglyph'>=</span> <span class='hs-varid'>lang</span>
<a name="line-2543"></a>           <span class='hs-keyglyph'>|</span> <span class='hs-varid'>otherwise</span> <span class='hs-keyglyph'>=</span> <span class='hs-str'>"No"</span><span class='hs-varop'>++</span><span class='hs-varid'>lang</span>
<a name="line-2544"></a>
<a name="line-2545"></a><a name="useInstead"></a><span class='hs-definition'>useInstead</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>String</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>TurnOnFlag</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynP</span> <span class='hs-conid'>()</span>
<a name="line-2546"></a><span class='hs-definition'>useInstead</span> <span class='hs-varid'>flag</span> <span class='hs-varid'>turn_on</span>
<a name="line-2547"></a>  <span class='hs-keyglyph'>=</span> <span class='hs-varid'>deprecate</span> <span class='hs-layout'>(</span><span class='hs-str'>"Use -f"</span> <span class='hs-varop'>++</span> <span class='hs-varid'>no</span> <span class='hs-varop'>++</span> <span class='hs-varid'>flag</span> <span class='hs-varop'>++</span> <span class='hs-str'>" instead"</span><span class='hs-layout'>)</span>
<a name="line-2548"></a>  <span class='hs-keyword'>where</span>
<a name="line-2549"></a>    <span class='hs-varid'>no</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyword'>if</span> <span class='hs-varid'>turn_on</span> <span class='hs-keyword'>then</span> <span class='hs-str'>""</span> <span class='hs-keyword'>else</span> <span class='hs-str'>"no-"</span>
<a name="line-2550"></a>
<a name="line-2551"></a><a name="nop"></a><span class='hs-definition'>nop</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>TurnOnFlag</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynP</span> <span class='hs-conid'>()</span>
<a name="line-2552"></a><span class='hs-definition'>nop</span> <span class='hs-keyword'>_</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>return</span> <span class='hs-conid'>()</span>
<a name="line-2553"></a>
<a name="line-2554"></a><a name="fWarningFlags"></a><span class='hs-comment'>-- | These @-f\&lt;blah\&gt;@ flags can all be reversed with @-fno-\&lt;blah\&gt;@</span>
<a name="line-2555"></a><span class='hs-definition'>fWarningFlags</span> <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>FlagSpec</span> <span class='hs-conid'>WarningFlag</span><span class='hs-keyglyph'>]</span>
<a name="line-2556"></a><span class='hs-definition'>fWarningFlags</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyglyph'>[</span>
<a name="line-2557"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"warn-dodgy-foreign-imports"</span><span class='hs-layout'>,</span>       <span class='hs-conid'>Opt_WarnDodgyForeignImports</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2558"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"warn-dodgy-exports"</span><span class='hs-layout'>,</span>               <span class='hs-conid'>Opt_WarnDodgyExports</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2559"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"warn-dodgy-imports"</span><span class='hs-layout'>,</span>               <span class='hs-conid'>Opt_WarnDodgyImports</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2560"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"warn-overflowed-literals"</span><span class='hs-layout'>,</span>         <span class='hs-conid'>Opt_WarnOverflowedLiterals</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2561"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"warn-empty-enumerations"</span><span class='hs-layout'>,</span>          <span class='hs-conid'>Opt_WarnEmptyEnumerations</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2562"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"warn-duplicate-exports"</span><span class='hs-layout'>,</span>           <span class='hs-conid'>Opt_WarnDuplicateExports</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2563"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"warn-duplicate-constraints"</span><span class='hs-layout'>,</span>       <span class='hs-conid'>Opt_WarnDuplicateConstraints</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2564"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"warn-hi-shadowing"</span><span class='hs-layout'>,</span>                <span class='hs-conid'>Opt_WarnHiShadows</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2565"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"warn-implicit-prelude"</span><span class='hs-layout'>,</span>            <span class='hs-conid'>Opt_WarnImplicitPrelude</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2566"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"warn-incomplete-patterns"</span><span class='hs-layout'>,</span>         <span class='hs-conid'>Opt_WarnIncompletePatterns</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2567"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"warn-incomplete-uni-patterns"</span><span class='hs-layout'>,</span>     <span class='hs-conid'>Opt_WarnIncompleteUniPatterns</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2568"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"warn-incomplete-record-updates"</span><span class='hs-layout'>,</span>   <span class='hs-conid'>Opt_WarnIncompletePatternsRecUpd</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2569"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"warn-missing-fields"</span><span class='hs-layout'>,</span>              <span class='hs-conid'>Opt_WarnMissingFields</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2570"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"warn-missing-import-lists"</span><span class='hs-layout'>,</span>        <span class='hs-conid'>Opt_WarnMissingImportList</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2571"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"warn-missing-methods"</span><span class='hs-layout'>,</span>             <span class='hs-conid'>Opt_WarnMissingMethods</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2572"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"warn-missing-signatures"</span><span class='hs-layout'>,</span>          <span class='hs-conid'>Opt_WarnMissingSigs</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2573"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"warn-missing-local-sigs"</span><span class='hs-layout'>,</span>          <span class='hs-conid'>Opt_WarnMissingLocalSigs</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2574"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"warn-name-shadowing"</span><span class='hs-layout'>,</span>              <span class='hs-conid'>Opt_WarnNameShadowing</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2575"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"warn-overlapping-patterns"</span><span class='hs-layout'>,</span>        <span class='hs-conid'>Opt_WarnOverlappingPatterns</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2576"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"warn-type-defaults"</span><span class='hs-layout'>,</span>               <span class='hs-conid'>Opt_WarnTypeDefaults</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2577"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"warn-monomorphism-restriction"</span><span class='hs-layout'>,</span>    <span class='hs-conid'>Opt_WarnMonomorphism</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2578"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"warn-unused-binds"</span><span class='hs-layout'>,</span>                <span class='hs-conid'>Opt_WarnUnusedBinds</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2579"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"warn-unused-imports"</span><span class='hs-layout'>,</span>              <span class='hs-conid'>Opt_WarnUnusedImports</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2580"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"warn-unused-matches"</span><span class='hs-layout'>,</span>              <span class='hs-conid'>Opt_WarnUnusedMatches</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2581"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"warn-warnings-deprecations"</span><span class='hs-layout'>,</span>       <span class='hs-conid'>Opt_WarnWarningsDeprecations</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2582"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"warn-deprecations"</span><span class='hs-layout'>,</span>                <span class='hs-conid'>Opt_WarnWarningsDeprecations</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2583"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"warn-deprecated-flags"</span><span class='hs-layout'>,</span>            <span class='hs-conid'>Opt_WarnDeprecatedFlags</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2584"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"warn-amp"</span><span class='hs-layout'>,</span>                         <span class='hs-conid'>Opt_WarnAMP</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2585"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"warn-orphans"</span><span class='hs-layout'>,</span>                     <span class='hs-conid'>Opt_WarnOrphans</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2586"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"warn-identities"</span><span class='hs-layout'>,</span>                  <span class='hs-conid'>Opt_WarnIdentities</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2587"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"warn-auto-orphans"</span><span class='hs-layout'>,</span>                <span class='hs-conid'>Opt_WarnAutoOrphans</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2588"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"warn-tabs"</span><span class='hs-layout'>,</span>                        <span class='hs-conid'>Opt_WarnTabs</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2589"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"warn-typed-holes"</span><span class='hs-layout'>,</span>                 <span class='hs-conid'>Opt_WarnTypedHoles</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2590"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"warn-unrecognised-pragmas"</span><span class='hs-layout'>,</span>        <span class='hs-conid'>Opt_WarnUnrecognisedPragmas</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2591"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"warn-lazy-unlifted-bindings"</span><span class='hs-layout'>,</span>      <span class='hs-conid'>Opt_WarnLazyUnliftedBindings</span><span class='hs-layout'>,</span>
<a name="line-2592"></a>    <span class='hs-keyglyph'>\</span><span class='hs-keyword'>_</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>deprecate</span> <span class='hs-str'>"it has no effect, and will be removed in GHC 7.10"</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2593"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"warn-unused-do-bind"</span><span class='hs-layout'>,</span>              <span class='hs-conid'>Opt_WarnUnusedDoBind</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2594"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"warn-wrong-do-bind"</span><span class='hs-layout'>,</span>               <span class='hs-conid'>Opt_WarnWrongDoBind</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2595"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"warn-alternative-layout-rule-transitional"</span><span class='hs-layout'>,</span> <span class='hs-conid'>Opt_WarnAlternativeLayoutRuleTransitional</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2596"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"warn-unsafe"</span><span class='hs-layout'>,</span>                      <span class='hs-conid'>Opt_WarnUnsafe</span><span class='hs-layout'>,</span> <span class='hs-varid'>setWarnUnsafe</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2597"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"warn-safe"</span><span class='hs-layout'>,</span>                        <span class='hs-conid'>Opt_WarnSafe</span><span class='hs-layout'>,</span> <span class='hs-varid'>setWarnSafe</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2598"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"warn-pointless-pragmas"</span><span class='hs-layout'>,</span>           <span class='hs-conid'>Opt_WarnPointlessPragmas</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2599"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"warn-unsupported-calling-conventions"</span><span class='hs-layout'>,</span> <span class='hs-conid'>Opt_WarnUnsupportedCallingConventions</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2600"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"warn-inline-rule-shadowing"</span><span class='hs-layout'>,</span>       <span class='hs-conid'>Opt_WarnInlineRuleShadowing</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2601"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"warn-unsupported-llvm-version"</span><span class='hs-layout'>,</span>    <span class='hs-conid'>Opt_WarnUnsupportedLlvmVersion</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span> <span class='hs-keyglyph'>]</span>
<a name="line-2602"></a>
<a name="line-2603"></a><a name="negatableFlags"></a><span class='hs-comment'>-- | These @-\&lt;blah\&gt;@ flags can all be reversed with @-no-\&lt;blah\&gt;@</span>
<a name="line-2604"></a><span class='hs-definition'>negatableFlags</span> <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>FlagSpec</span> <span class='hs-conid'>GeneralFlag</span><span class='hs-keyglyph'>]</span>
<a name="line-2605"></a><span class='hs-definition'>negatableFlags</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyglyph'>[</span>
<a name="line-2606"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"ignore-dot-ghci"</span><span class='hs-layout'>,</span>                  <span class='hs-conid'>Opt_IgnoreDotGhci</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span> <span class='hs-keyglyph'>]</span>
<a name="line-2607"></a>
<a name="line-2608"></a><a name="dFlags"></a><span class='hs-comment'>-- | These @-d\&lt;blah\&gt;@ flags can all be reversed with @-dno-\&lt;blah\&gt;@</span>
<a name="line-2609"></a><span class='hs-definition'>dFlags</span> <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>FlagSpec</span> <span class='hs-conid'>GeneralFlag</span><span class='hs-keyglyph'>]</span>
<a name="line-2610"></a><span class='hs-definition'>dFlags</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyglyph'>[</span>
<a name="line-2611"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"suppress-coercions"</span><span class='hs-layout'>,</span>               <span class='hs-conid'>Opt_SuppressCoercions</span><span class='hs-layout'>,</span>          <span class='hs-varid'>nop</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2612"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"suppress-var-kinds"</span><span class='hs-layout'>,</span>               <span class='hs-conid'>Opt_SuppressVarKinds</span><span class='hs-layout'>,</span>           <span class='hs-varid'>nop</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2613"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"suppress-module-prefixes"</span><span class='hs-layout'>,</span>         <span class='hs-conid'>Opt_SuppressModulePrefixes</span><span class='hs-layout'>,</span>     <span class='hs-varid'>nop</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2614"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"suppress-type-applications"</span><span class='hs-layout'>,</span>       <span class='hs-conid'>Opt_SuppressTypeApplications</span><span class='hs-layout'>,</span>   <span class='hs-varid'>nop</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2615"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"suppress-idinfo"</span><span class='hs-layout'>,</span>                  <span class='hs-conid'>Opt_SuppressIdInfo</span><span class='hs-layout'>,</span>             <span class='hs-varid'>nop</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2616"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"suppress-type-signatures"</span><span class='hs-layout'>,</span>         <span class='hs-conid'>Opt_SuppressTypeSignatures</span><span class='hs-layout'>,</span>     <span class='hs-varid'>nop</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2617"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"suppress-uniques"</span><span class='hs-layout'>,</span>                 <span class='hs-conid'>Opt_SuppressUniques</span><span class='hs-layout'>,</span>            <span class='hs-varid'>nop</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2618"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"ppr-case-as-let"</span><span class='hs-layout'>,</span>                  <span class='hs-conid'>Opt_PprCaseAsLet</span><span class='hs-layout'>,</span>               <span class='hs-varid'>nop</span><span class='hs-layout'>)</span><span class='hs-keyglyph'>]</span>
<a name="line-2619"></a>
<a name="line-2620"></a><a name="fFlags"></a><span class='hs-comment'>-- | These @-f\&lt;blah\&gt;@ flags can all be reversed with @-fno-\&lt;blah\&gt;@</span>
<a name="line-2621"></a><span class='hs-definition'>fFlags</span> <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>FlagSpec</span> <span class='hs-conid'>GeneralFlag</span><span class='hs-keyglyph'>]</span>
<a name="line-2622"></a><span class='hs-definition'>fFlags</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyglyph'>[</span>
<a name="line-2623"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"error-spans"</span><span class='hs-layout'>,</span>                      <span class='hs-conid'>Opt_ErrorSpans</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2624"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"print-explicit-foralls"</span><span class='hs-layout'>,</span>           <span class='hs-conid'>Opt_PrintExplicitForalls</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2625"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"print-explicit-kinds"</span><span class='hs-layout'>,</span>             <span class='hs-conid'>Opt_PrintExplicitKinds</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2626"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"strictness"</span><span class='hs-layout'>,</span>                       <span class='hs-conid'>Opt_Strictness</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2627"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"late-dmd-anal"</span><span class='hs-layout'>,</span>                    <span class='hs-conid'>Opt_LateDmdAnal</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2628"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"specialise"</span><span class='hs-layout'>,</span>                       <span class='hs-conid'>Opt_Specialise</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2629"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"float-in"</span><span class='hs-layout'>,</span>                         <span class='hs-conid'>Opt_FloatIn</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2630"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"static-argument-transformation"</span><span class='hs-layout'>,</span>   <span class='hs-conid'>Opt_StaticArgumentTransformation</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2631"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"full-laziness"</span><span class='hs-layout'>,</span>                    <span class='hs-conid'>Opt_FullLaziness</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2632"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"liberate-case"</span><span class='hs-layout'>,</span>                    <span class='hs-conid'>Opt_LiberateCase</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2633"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"spec-constr"</span><span class='hs-layout'>,</span>                      <span class='hs-conid'>Opt_SpecConstr</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2634"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"cse"</span><span class='hs-layout'>,</span>                              <span class='hs-conid'>Opt_CSE</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2635"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"pedantic-bottoms"</span><span class='hs-layout'>,</span>                 <span class='hs-conid'>Opt_PedanticBottoms</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2636"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"ignore-interface-pragmas"</span><span class='hs-layout'>,</span>         <span class='hs-conid'>Opt_IgnoreInterfacePragmas</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2637"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"omit-interface-pragmas"</span><span class='hs-layout'>,</span>           <span class='hs-conid'>Opt_OmitInterfacePragmas</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2638"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"expose-all-unfoldings"</span><span class='hs-layout'>,</span>            <span class='hs-conid'>Opt_ExposeAllUnfoldings</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2639"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"do-lambda-eta-expansion"</span><span class='hs-layout'>,</span>          <span class='hs-conid'>Opt_DoLambdaEtaExpansion</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2640"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"ignore-asserts"</span><span class='hs-layout'>,</span>                   <span class='hs-conid'>Opt_IgnoreAsserts</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2641"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"do-eta-reduction"</span><span class='hs-layout'>,</span>                 <span class='hs-conid'>Opt_DoEtaReduction</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2642"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"case-merge"</span><span class='hs-layout'>,</span>                       <span class='hs-conid'>Opt_CaseMerge</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2643"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"unbox-strict-fields"</span><span class='hs-layout'>,</span>              <span class='hs-conid'>Opt_UnboxStrictFields</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2644"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"unbox-small-strict-fields"</span><span class='hs-layout'>,</span>        <span class='hs-conid'>Opt_UnboxSmallStrictFields</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2645"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"dicts-cheap"</span><span class='hs-layout'>,</span>                      <span class='hs-conid'>Opt_DictsCheap</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2646"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"excess-precision"</span><span class='hs-layout'>,</span>                 <span class='hs-conid'>Opt_ExcessPrecision</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2647"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"eager-blackholing"</span><span class='hs-layout'>,</span>                <span class='hs-conid'>Opt_EagerBlackHoling</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2648"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"print-bind-result"</span><span class='hs-layout'>,</span>                <span class='hs-conid'>Opt_PrintBindResult</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2649"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"force-recomp"</span><span class='hs-layout'>,</span>                     <span class='hs-conid'>Opt_ForceRecomp</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2650"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"hpc-no-auto"</span><span class='hs-layout'>,</span>                      <span class='hs-conid'>Opt_Hpc_No_Auto</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2651"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"rewrite-rules"</span><span class='hs-layout'>,</span>                    <span class='hs-conid'>Opt_EnableRewriteRules</span><span class='hs-layout'>,</span> <span class='hs-varid'>useInstead</span> <span class='hs-str'>"enable-rewrite-rules"</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2652"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"enable-rewrite-rules"</span><span class='hs-layout'>,</span>             <span class='hs-conid'>Opt_EnableRewriteRules</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2653"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"break-on-exception"</span><span class='hs-layout'>,</span>               <span class='hs-conid'>Opt_BreakOnException</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2654"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"break-on-error"</span><span class='hs-layout'>,</span>                   <span class='hs-conid'>Opt_BreakOnError</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2655"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"print-evld-with-show"</span><span class='hs-layout'>,</span>             <span class='hs-conid'>Opt_PrintEvldWithShow</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2656"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"print-bind-contents"</span><span class='hs-layout'>,</span>              <span class='hs-conid'>Opt_PrintBindContents</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2657"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"run-cps"</span><span class='hs-layout'>,</span>                          <span class='hs-conid'>Opt_RunCPS</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2658"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"run-cpsz"</span><span class='hs-layout'>,</span>                         <span class='hs-conid'>Opt_RunCPSZ</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2659"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"vectorise"</span><span class='hs-layout'>,</span>                        <span class='hs-conid'>Opt_Vectorise</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2660"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"vectorisation-avoidance"</span><span class='hs-layout'>,</span>          <span class='hs-conid'>Opt_VectorisationAvoidance</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2661"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"regs-graph"</span><span class='hs-layout'>,</span>                       <span class='hs-conid'>Opt_RegsGraph</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2662"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"regs-iterative"</span><span class='hs-layout'>,</span>                   <span class='hs-conid'>Opt_RegsIterative</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2663"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"llvm-tbaa"</span><span class='hs-layout'>,</span>                        <span class='hs-conid'>Opt_LlvmTBAA</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span> <span class='hs-comment'>-- hidden flag</span>
<a name="line-2664"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"llvm-pass-vectors-in-regs"</span><span class='hs-layout'>,</span>        <span class='hs-conid'>Opt_LlvmPassVectorsInRegisters</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span> <span class='hs-comment'>-- hidden flag</span>
<a name="line-2665"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"irrefutable-tuples"</span><span class='hs-layout'>,</span>               <span class='hs-conid'>Opt_IrrefutableTuples</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2666"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"cmm-sink"</span><span class='hs-layout'>,</span>                         <span class='hs-conid'>Opt_CmmSink</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2667"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"cmm-elim-common-blocks"</span><span class='hs-layout'>,</span>           <span class='hs-conid'>Opt_CmmElimCommonBlocks</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2668"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"omit-yields"</span><span class='hs-layout'>,</span>                      <span class='hs-conid'>Opt_OmitYields</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2669"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"simple-list-literals"</span><span class='hs-layout'>,</span>             <span class='hs-conid'>Opt_SimpleListLiterals</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2670"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"fun-to-thunk"</span><span class='hs-layout'>,</span>                     <span class='hs-conid'>Opt_FunToThunk</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2671"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"gen-manifest"</span><span class='hs-layout'>,</span>                     <span class='hs-conid'>Opt_GenManifest</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2672"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"embed-manifest"</span><span class='hs-layout'>,</span>                   <span class='hs-conid'>Opt_EmbedManifest</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2673"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"ext-core"</span><span class='hs-layout'>,</span>                         <span class='hs-conid'>Opt_EmitExternalCore</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2674"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"shared-implib"</span><span class='hs-layout'>,</span>                    <span class='hs-conid'>Opt_SharedImplib</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2675"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"ghci-sandbox"</span><span class='hs-layout'>,</span>                     <span class='hs-conid'>Opt_GhciSandbox</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2676"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"ghci-history"</span><span class='hs-layout'>,</span>                     <span class='hs-conid'>Opt_GhciHistory</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2677"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"helpful-errors"</span><span class='hs-layout'>,</span>                   <span class='hs-conid'>Opt_HelpfulErrors</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2678"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"defer-type-errors"</span><span class='hs-layout'>,</span>                <span class='hs-conid'>Opt_DeferTypeErrors</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2679"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"building-cabal-package"</span><span class='hs-layout'>,</span>           <span class='hs-conid'>Opt_BuildingCabalPackage</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2680"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"implicit-import-qualified"</span><span class='hs-layout'>,</span>        <span class='hs-conid'>Opt_ImplicitImportQualified</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2681"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"prof-count-entries"</span><span class='hs-layout'>,</span>               <span class='hs-conid'>Opt_ProfCountEntries</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2682"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"prof-cafs"</span><span class='hs-layout'>,</span>                        <span class='hs-conid'>Opt_AutoSccsOnIndividualCafs</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2683"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"hpc"</span><span class='hs-layout'>,</span>                              <span class='hs-conid'>Opt_Hpc</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2684"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"pre-inlining"</span><span class='hs-layout'>,</span>                     <span class='hs-conid'>Opt_SimplPreInlining</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2685"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"flat-cache"</span><span class='hs-layout'>,</span>                       <span class='hs-conid'>Opt_FlatCache</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2686"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"use-rpaths"</span><span class='hs-layout'>,</span>                       <span class='hs-conid'>Opt_RPath</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2687"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"kill-absence"</span><span class='hs-layout'>,</span>                     <span class='hs-conid'>Opt_KillAbsence</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2688"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"kill-one-shot"</span><span class='hs-layout'>,</span>                    <span class='hs-conid'>Opt_KillOneShot</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2689"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"dicts-strict"</span><span class='hs-layout'>,</span>                     <span class='hs-conid'>Opt_DictsStrict</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2690"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"dmd-tx-dict-sel"</span><span class='hs-layout'>,</span>                  <span class='hs-conid'>Opt_DmdTxDictSel</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2691"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"loopification"</span><span class='hs-layout'>,</span>                    <span class='hs-conid'>Opt_Loopification</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span>
<a name="line-2692"></a>  <span class='hs-keyglyph'>]</span>
<a name="line-2693"></a>
<a name="line-2694"></a><a name="fLangFlags"></a><span class='hs-comment'>-- | These @-f\&lt;blah\&gt;@ flags can all be reversed with @-fno-\&lt;blah\&gt;@</span>
<a name="line-2695"></a><span class='hs-definition'>fLangFlags</span> <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>FlagSpec</span> <span class='hs-conid'>ExtensionFlag</span><span class='hs-keyglyph'>]</span>
<a name="line-2696"></a><span class='hs-definition'>fLangFlags</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyglyph'>[</span>
<a name="line-2697"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"th"</span><span class='hs-layout'>,</span>                               <span class='hs-conid'>Opt_TemplateHaskell</span><span class='hs-layout'>,</span>
<a name="line-2698"></a>    <span class='hs-keyglyph'>\</span><span class='hs-varid'>on</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>deprecatedForExtension</span> <span class='hs-str'>"TemplateHaskell"</span> <span class='hs-varid'>on</span>
<a name="line-2699"></a>        <span class='hs-varop'>&gt;&gt;</span> <span class='hs-varid'>checkTemplateHaskellOk</span> <span class='hs-varid'>on</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2700"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"fi"</span><span class='hs-layout'>,</span>                               <span class='hs-conid'>Opt_ForeignFunctionInterface</span><span class='hs-layout'>,</span>
<a name="line-2701"></a>    <span class='hs-varid'>deprecatedForExtension</span> <span class='hs-str'>"ForeignFunctionInterface"</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2702"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"ffi"</span><span class='hs-layout'>,</span>                              <span class='hs-conid'>Opt_ForeignFunctionInterface</span><span class='hs-layout'>,</span>
<a name="line-2703"></a>    <span class='hs-varid'>deprecatedForExtension</span> <span class='hs-str'>"ForeignFunctionInterface"</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2704"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"arrows"</span><span class='hs-layout'>,</span>                           <span class='hs-conid'>Opt_Arrows</span><span class='hs-layout'>,</span>
<a name="line-2705"></a>    <span class='hs-varid'>deprecatedForExtension</span> <span class='hs-str'>"Arrows"</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2706"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"implicit-prelude"</span><span class='hs-layout'>,</span>                 <span class='hs-conid'>Opt_ImplicitPrelude</span><span class='hs-layout'>,</span>
<a name="line-2707"></a>    <span class='hs-varid'>deprecatedForExtension</span> <span class='hs-str'>"ImplicitPrelude"</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2708"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"bang-patterns"</span><span class='hs-layout'>,</span>                    <span class='hs-conid'>Opt_BangPatterns</span><span class='hs-layout'>,</span>
<a name="line-2709"></a>    <span class='hs-varid'>deprecatedForExtension</span> <span class='hs-str'>"BangPatterns"</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2710"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"monomorphism-restriction"</span><span class='hs-layout'>,</span>         <span class='hs-conid'>Opt_MonomorphismRestriction</span><span class='hs-layout'>,</span>
<a name="line-2711"></a>    <span class='hs-varid'>deprecatedForExtension</span> <span class='hs-str'>"MonomorphismRestriction"</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2712"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"mono-pat-binds"</span><span class='hs-layout'>,</span>                   <span class='hs-conid'>Opt_MonoPatBinds</span><span class='hs-layout'>,</span>
<a name="line-2713"></a>    <span class='hs-varid'>deprecatedForExtension</span> <span class='hs-str'>"MonoPatBinds"</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2714"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"extended-default-rules"</span><span class='hs-layout'>,</span>           <span class='hs-conid'>Opt_ExtendedDefaultRules</span><span class='hs-layout'>,</span>
<a name="line-2715"></a>    <span class='hs-varid'>deprecatedForExtension</span> <span class='hs-str'>"ExtendedDefaultRules"</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2716"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"implicit-params"</span><span class='hs-layout'>,</span>                  <span class='hs-conid'>Opt_ImplicitParams</span><span class='hs-layout'>,</span>
<a name="line-2717"></a>    <span class='hs-varid'>deprecatedForExtension</span> <span class='hs-str'>"ImplicitParams"</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2718"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"scoped-type-variables"</span><span class='hs-layout'>,</span>            <span class='hs-conid'>Opt_ScopedTypeVariables</span><span class='hs-layout'>,</span>
<a name="line-2719"></a>    <span class='hs-varid'>deprecatedForExtension</span> <span class='hs-str'>"ScopedTypeVariables"</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2720"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"parr"</span><span class='hs-layout'>,</span>                             <span class='hs-conid'>Opt_ParallelArrays</span><span class='hs-layout'>,</span>
<a name="line-2721"></a>    <span class='hs-varid'>deprecatedForExtension</span> <span class='hs-str'>"ParallelArrays"</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2722"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"PArr"</span><span class='hs-layout'>,</span>                             <span class='hs-conid'>Opt_ParallelArrays</span><span class='hs-layout'>,</span>
<a name="line-2723"></a>    <span class='hs-varid'>deprecatedForExtension</span> <span class='hs-str'>"ParallelArrays"</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2724"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"allow-overlapping-instances"</span><span class='hs-layout'>,</span>      <span class='hs-conid'>Opt_OverlappingInstances</span><span class='hs-layout'>,</span>
<a name="line-2725"></a>    <span class='hs-varid'>deprecatedForExtension</span> <span class='hs-str'>"OverlappingInstances"</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2726"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"allow-undecidable-instances"</span><span class='hs-layout'>,</span>      <span class='hs-conid'>Opt_UndecidableInstances</span><span class='hs-layout'>,</span>
<a name="line-2727"></a>    <span class='hs-varid'>deprecatedForExtension</span> <span class='hs-str'>"UndecidableInstances"</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2728"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"allow-incoherent-instances"</span><span class='hs-layout'>,</span>       <span class='hs-conid'>Opt_IncoherentInstances</span><span class='hs-layout'>,</span>
<a name="line-2729"></a>    <span class='hs-varid'>deprecatedForExtension</span> <span class='hs-str'>"IncoherentInstances"</span> <span class='hs-layout'>)</span>
<a name="line-2730"></a>  <span class='hs-keyglyph'>]</span>
<a name="line-2731"></a>
<a name="line-2732"></a><a name="supportedLanguages"></a><span class='hs-definition'>supportedLanguages</span> <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>String</span><span class='hs-keyglyph'>]</span>
<a name="line-2733"></a><span class='hs-definition'>supportedLanguages</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyglyph'>[</span> <span class='hs-varid'>name</span> <span class='hs-keyglyph'>|</span> <span class='hs-layout'>(</span><span class='hs-varid'>name</span><span class='hs-layout'>,</span> <span class='hs-keyword'>_</span><span class='hs-layout'>,</span> <span class='hs-keyword'>_</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>&lt;-</span> <span class='hs-varid'>languageFlags</span> <span class='hs-keyglyph'>]</span>
<a name="line-2734"></a>
<a name="line-2735"></a><a name="supportedLanguageOverlays"></a><span class='hs-definition'>supportedLanguageOverlays</span> <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>String</span><span class='hs-keyglyph'>]</span>
<a name="line-2736"></a><span class='hs-definition'>supportedLanguageOverlays</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyglyph'>[</span> <span class='hs-varid'>name</span> <span class='hs-keyglyph'>|</span> <span class='hs-layout'>(</span><span class='hs-varid'>name</span><span class='hs-layout'>,</span> <span class='hs-keyword'>_</span><span class='hs-layout'>,</span> <span class='hs-keyword'>_</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>&lt;-</span> <span class='hs-varid'>safeHaskellFlags</span> <span class='hs-keyglyph'>]</span>
<a name="line-2737"></a>
<a name="line-2738"></a><a name="supportedExtensions"></a><span class='hs-definition'>supportedExtensions</span> <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>String</span><span class='hs-keyglyph'>]</span>
<a name="line-2739"></a><span class='hs-definition'>supportedExtensions</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyglyph'>[</span> <span class='hs-varid'>name'</span> <span class='hs-keyglyph'>|</span> <span class='hs-layout'>(</span><span class='hs-varid'>name</span><span class='hs-layout'>,</span> <span class='hs-keyword'>_</span><span class='hs-layout'>,</span> <span class='hs-keyword'>_</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>&lt;-</span> <span class='hs-varid'>xFlags</span><span class='hs-layout'>,</span> <span class='hs-varid'>name'</span> <span class='hs-keyglyph'>&lt;-</span> <span class='hs-keyglyph'>[</span><span class='hs-varid'>name</span><span class='hs-layout'>,</span> <span class='hs-str'>"No"</span> <span class='hs-varop'>++</span> <span class='hs-varid'>name</span><span class='hs-keyglyph'>]</span> <span class='hs-keyglyph'>]</span>
<a name="line-2740"></a>
<a name="line-2741"></a><a name="supportedLanguagesAndExtensions"></a><span class='hs-definition'>supportedLanguagesAndExtensions</span> <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>String</span><span class='hs-keyglyph'>]</span>
<a name="line-2742"></a><span class='hs-definition'>supportedLanguagesAndExtensions</span> <span class='hs-keyglyph'>=</span>
<a name="line-2743"></a>    <span class='hs-varid'>supportedLanguages</span> <span class='hs-varop'>++</span> <span class='hs-varid'>supportedLanguageOverlays</span> <span class='hs-varop'>++</span> <span class='hs-varid'>supportedExtensions</span>
<a name="line-2744"></a>
<a name="line-2745"></a><a name="languageFlags"></a><span class='hs-comment'>-- | These -X&lt;blah&gt; flags cannot be reversed with -XNo&lt;blah&gt;</span>
<a name="line-2746"></a><span class='hs-definition'>languageFlags</span> <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>FlagSpec</span> <span class='hs-conid'>Language</span><span class='hs-keyglyph'>]</span>
<a name="line-2747"></a><span class='hs-definition'>languageFlags</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyglyph'>[</span>
<a name="line-2748"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"Haskell98"</span><span class='hs-layout'>,</span>   <span class='hs-conid'>Haskell98</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2749"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"Haskell2010"</span><span class='hs-layout'>,</span> <span class='hs-conid'>Haskell2010</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span>
<a name="line-2750"></a>  <span class='hs-keyglyph'>]</span>
<a name="line-2751"></a>
<a name="line-2752"></a><a name="safeHaskellFlags"></a><span class='hs-comment'>-- | These -X&lt;blah&gt; flags cannot be reversed with -XNo&lt;blah&gt;</span>
<a name="line-2753"></a><span class='hs-comment'>-- They are used to place hard requirements on what GHC Haskell language</span>
<a name="line-2754"></a><span class='hs-comment'>-- features can be used.</span>
<a name="line-2755"></a><span class='hs-definition'>safeHaskellFlags</span> <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>FlagSpec</span> <span class='hs-conid'>SafeHaskellMode</span><span class='hs-keyglyph'>]</span>
<a name="line-2756"></a><span class='hs-definition'>safeHaskellFlags</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyglyph'>[</span><span class='hs-varid'>mkF</span> <span class='hs-conid'>Sf_Unsafe</span><span class='hs-layout'>,</span> <span class='hs-varid'>mkF</span> <span class='hs-conid'>Sf_Trustworthy</span><span class='hs-layout'>,</span> <span class='hs-varid'>mkF</span> <span class='hs-conid'>Sf_Safe</span><span class='hs-keyglyph'>]</span>
<a name="line-2757"></a>    <span class='hs-keyword'>where</span> <span class='hs-varid'>mkF</span> <span class='hs-varid'>flag</span> <span class='hs-keyglyph'>=</span> <span class='hs-layout'>(</span><span class='hs-varid'>show</span> <span class='hs-varid'>flag</span><span class='hs-layout'>,</span> <span class='hs-varid'>flag</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span><span class='hs-layout'>)</span>
<a name="line-2758"></a>
<a name="line-2759"></a><a name="xFlags"></a><span class='hs-comment'>-- | These -X&lt;blah&gt; flags can all be reversed with -XNo&lt;blah&gt;</span>
<a name="line-2760"></a><span class='hs-definition'>xFlags</span> <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>FlagSpec</span> <span class='hs-conid'>ExtensionFlag</span><span class='hs-keyglyph'>]</span>
<a name="line-2761"></a><span class='hs-definition'>xFlags</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyglyph'>[</span>
<a name="line-2762"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"CPP"</span><span class='hs-layout'>,</span>                              <span class='hs-conid'>Opt_Cpp</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2763"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"PostfixOperators"</span><span class='hs-layout'>,</span>                 <span class='hs-conid'>Opt_PostfixOperators</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2764"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"TupleSections"</span><span class='hs-layout'>,</span>                    <span class='hs-conid'>Opt_TupleSections</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2765"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"PatternGuards"</span><span class='hs-layout'>,</span>                    <span class='hs-conid'>Opt_PatternGuards</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2766"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"UnicodeSyntax"</span><span class='hs-layout'>,</span>                    <span class='hs-conid'>Opt_UnicodeSyntax</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2767"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"MagicHash"</span><span class='hs-layout'>,</span>                        <span class='hs-conid'>Opt_MagicHash</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2768"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"ExistentialQuantification"</span><span class='hs-layout'>,</span>        <span class='hs-conid'>Opt_ExistentialQuantification</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2769"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"KindSignatures"</span><span class='hs-layout'>,</span>                   <span class='hs-conid'>Opt_KindSignatures</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2770"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"RoleAnnotations"</span><span class='hs-layout'>,</span>                  <span class='hs-conid'>Opt_RoleAnnotations</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2771"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"EmptyDataDecls"</span><span class='hs-layout'>,</span>                   <span class='hs-conid'>Opt_EmptyDataDecls</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2772"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"ParallelListComp"</span><span class='hs-layout'>,</span>                 <span class='hs-conid'>Opt_ParallelListComp</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2773"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"TransformListComp"</span><span class='hs-layout'>,</span>                <span class='hs-conid'>Opt_TransformListComp</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2774"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"MonadComprehensions"</span><span class='hs-layout'>,</span>              <span class='hs-conid'>Opt_MonadComprehensions</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2775"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"ForeignFunctionInterface"</span><span class='hs-layout'>,</span>         <span class='hs-conid'>Opt_ForeignFunctionInterface</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2776"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"UnliftedFFITypes"</span><span class='hs-layout'>,</span>                 <span class='hs-conid'>Opt_UnliftedFFITypes</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2777"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"InterruptibleFFI"</span><span class='hs-layout'>,</span>                 <span class='hs-conid'>Opt_InterruptibleFFI</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2778"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"CApiFFI"</span><span class='hs-layout'>,</span>                          <span class='hs-conid'>Opt_CApiFFI</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2779"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"GHCForeignImportPrim"</span><span class='hs-layout'>,</span>             <span class='hs-conid'>Opt_GHCForeignImportPrim</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2780"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"JavaScriptFFI"</span><span class='hs-layout'>,</span>                    <span class='hs-conid'>Opt_JavaScriptFFI</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2781"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"LiberalTypeSynonyms"</span><span class='hs-layout'>,</span>              <span class='hs-conid'>Opt_LiberalTypeSynonyms</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2782"></a>
<a name="line-2783"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"PolymorphicComponents"</span><span class='hs-layout'>,</span>            <span class='hs-conid'>Opt_RankNTypes</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2784"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"Rank2Types"</span><span class='hs-layout'>,</span>                       <span class='hs-conid'>Opt_RankNTypes</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2785"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"RankNTypes"</span><span class='hs-layout'>,</span>                       <span class='hs-conid'>Opt_RankNTypes</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2786"></a>
<a name="line-2787"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"ImpredicativeTypes"</span><span class='hs-layout'>,</span>               <span class='hs-conid'>Opt_ImpredicativeTypes</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2788"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"TypeOperators"</span><span class='hs-layout'>,</span>                    <span class='hs-conid'>Opt_TypeOperators</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2789"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"ExplicitNamespaces"</span><span class='hs-layout'>,</span>               <span class='hs-conid'>Opt_ExplicitNamespaces</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2790"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"RecursiveDo"</span><span class='hs-layout'>,</span>                      <span class='hs-conid'>Opt_RecursiveDo</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>  <span class='hs-comment'>-- Enables 'mdo' and 'rec'</span>
<a name="line-2791"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"DoRec"</span><span class='hs-layout'>,</span>                            <span class='hs-conid'>Opt_RecursiveDo</span><span class='hs-layout'>,</span>
<a name="line-2792"></a>     <span class='hs-varid'>deprecatedForExtension</span> <span class='hs-str'>"RecursiveDo"</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2793"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"Arrows"</span><span class='hs-layout'>,</span>                           <span class='hs-conid'>Opt_Arrows</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2794"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"ParallelArrays"</span><span class='hs-layout'>,</span>                   <span class='hs-conid'>Opt_ParallelArrays</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2795"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"TemplateHaskell"</span><span class='hs-layout'>,</span>                  <span class='hs-conid'>Opt_TemplateHaskell</span><span class='hs-layout'>,</span> <span class='hs-varid'>checkTemplateHaskellOk</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2796"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"QuasiQuotes"</span><span class='hs-layout'>,</span>                      <span class='hs-conid'>Opt_QuasiQuotes</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2797"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"ImplicitPrelude"</span><span class='hs-layout'>,</span>                  <span class='hs-conid'>Opt_ImplicitPrelude</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2798"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"RecordWildCards"</span><span class='hs-layout'>,</span>                  <span class='hs-conid'>Opt_RecordWildCards</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2799"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"NamedFieldPuns"</span><span class='hs-layout'>,</span>                   <span class='hs-conid'>Opt_RecordPuns</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2800"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"RecordPuns"</span><span class='hs-layout'>,</span>                       <span class='hs-conid'>Opt_RecordPuns</span><span class='hs-layout'>,</span>
<a name="line-2801"></a>    <span class='hs-varid'>deprecatedForExtension</span> <span class='hs-str'>"NamedFieldPuns"</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2802"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"DisambiguateRecordFields"</span><span class='hs-layout'>,</span>         <span class='hs-conid'>Opt_DisambiguateRecordFields</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2803"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"OverloadedStrings"</span><span class='hs-layout'>,</span>                <span class='hs-conid'>Opt_OverloadedStrings</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2804"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"NumDecimals"</span><span class='hs-layout'>,</span>                      <span class='hs-conid'>Opt_NumDecimals</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2805"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"OverloadedLists"</span><span class='hs-layout'>,</span>                  <span class='hs-conid'>Opt_OverloadedLists</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2806"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"GADTs"</span><span class='hs-layout'>,</span>                            <span class='hs-conid'>Opt_GADTs</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2807"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"GADTSyntax"</span><span class='hs-layout'>,</span>                       <span class='hs-conid'>Opt_GADTSyntax</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2808"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"ViewPatterns"</span><span class='hs-layout'>,</span>                     <span class='hs-conid'>Opt_ViewPatterns</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2809"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"TypeFamilies"</span><span class='hs-layout'>,</span>                     <span class='hs-conid'>Opt_TypeFamilies</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2810"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"BangPatterns"</span><span class='hs-layout'>,</span>                     <span class='hs-conid'>Opt_BangPatterns</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2811"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"MonomorphismRestriction"</span><span class='hs-layout'>,</span>          <span class='hs-conid'>Opt_MonomorphismRestriction</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2812"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"NPlusKPatterns"</span><span class='hs-layout'>,</span>                   <span class='hs-conid'>Opt_NPlusKPatterns</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2813"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"DoAndIfThenElse"</span><span class='hs-layout'>,</span>                  <span class='hs-conid'>Opt_DoAndIfThenElse</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2814"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"RebindableSyntax"</span><span class='hs-layout'>,</span>                 <span class='hs-conid'>Opt_RebindableSyntax</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2815"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"ConstraintKinds"</span><span class='hs-layout'>,</span>                  <span class='hs-conid'>Opt_ConstraintKinds</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2816"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"PolyKinds"</span><span class='hs-layout'>,</span>                        <span class='hs-conid'>Opt_PolyKinds</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2817"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"DataKinds"</span><span class='hs-layout'>,</span>                        <span class='hs-conid'>Opt_DataKinds</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2818"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"InstanceSigs"</span><span class='hs-layout'>,</span>                     <span class='hs-conid'>Opt_InstanceSigs</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2819"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"MonoPatBinds"</span><span class='hs-layout'>,</span>                     <span class='hs-conid'>Opt_MonoPatBinds</span><span class='hs-layout'>,</span>
<a name="line-2820"></a>    <span class='hs-keyglyph'>\</span> <span class='hs-varid'>turn_on</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>when</span> <span class='hs-varid'>turn_on</span> <span class='hs-varop'>$</span> <span class='hs-varid'>deprecate</span> <span class='hs-str'>"Experimental feature now removed; has no effect"</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2821"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"ExplicitForAll"</span><span class='hs-layout'>,</span>                   <span class='hs-conid'>Opt_ExplicitForAll</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2822"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"AlternativeLayoutRule"</span><span class='hs-layout'>,</span>            <span class='hs-conid'>Opt_AlternativeLayoutRule</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2823"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"AlternativeLayoutRuleTransitional"</span><span class='hs-layout'>,</span><span class='hs-conid'>Opt_AlternativeLayoutRuleTransitional</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2824"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"DatatypeContexts"</span><span class='hs-layout'>,</span>                 <span class='hs-conid'>Opt_DatatypeContexts</span><span class='hs-layout'>,</span>
<a name="line-2825"></a>    <span class='hs-keyglyph'>\</span> <span class='hs-varid'>turn_on</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>when</span> <span class='hs-varid'>turn_on</span> <span class='hs-varop'>$</span> <span class='hs-varid'>deprecate</span> <span class='hs-str'>"It was widely considered a misfeature, and has been removed from the Haskell language."</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2826"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"NondecreasingIndentation"</span><span class='hs-layout'>,</span>         <span class='hs-conid'>Opt_NondecreasingIndentation</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2827"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"RelaxedLayout"</span><span class='hs-layout'>,</span>                    <span class='hs-conid'>Opt_RelaxedLayout</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2828"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"TraditionalRecordSyntax"</span><span class='hs-layout'>,</span>          <span class='hs-conid'>Opt_TraditionalRecordSyntax</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2829"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"LambdaCase"</span><span class='hs-layout'>,</span>                       <span class='hs-conid'>Opt_LambdaCase</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2830"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"MultiWayIf"</span><span class='hs-layout'>,</span>                       <span class='hs-conid'>Opt_MultiWayIf</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2831"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"MonoLocalBinds"</span><span class='hs-layout'>,</span>                   <span class='hs-conid'>Opt_MonoLocalBinds</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2832"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"RelaxedPolyRec"</span><span class='hs-layout'>,</span>                   <span class='hs-conid'>Opt_RelaxedPolyRec</span><span class='hs-layout'>,</span>
<a name="line-2833"></a>    <span class='hs-keyglyph'>\</span> <span class='hs-varid'>turn_on</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>unless</span> <span class='hs-varid'>turn_on</span>
<a name="line-2834"></a>               <span class='hs-varop'>$</span> <span class='hs-varid'>deprecate</span> <span class='hs-str'>"You can't turn off RelaxedPolyRec any more"</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2835"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"ExtendedDefaultRules"</span><span class='hs-layout'>,</span>             <span class='hs-conid'>Opt_ExtendedDefaultRules</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2836"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"ImplicitParams"</span><span class='hs-layout'>,</span>                   <span class='hs-conid'>Opt_ImplicitParams</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2837"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"ScopedTypeVariables"</span><span class='hs-layout'>,</span>              <span class='hs-conid'>Opt_ScopedTypeVariables</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2838"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"AllowAmbiguousTypes"</span><span class='hs-layout'>,</span>              <span class='hs-conid'>Opt_AllowAmbiguousTypes</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2839"></a>
<a name="line-2840"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"PatternSignatures"</span><span class='hs-layout'>,</span>                <span class='hs-conid'>Opt_ScopedTypeVariables</span><span class='hs-layout'>,</span>
<a name="line-2841"></a>    <span class='hs-varid'>deprecatedForExtension</span> <span class='hs-str'>"ScopedTypeVariables"</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2842"></a>
<a name="line-2843"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"UnboxedTuples"</span><span class='hs-layout'>,</span>                    <span class='hs-conid'>Opt_UnboxedTuples</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2844"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"StandaloneDeriving"</span><span class='hs-layout'>,</span>               <span class='hs-conid'>Opt_StandaloneDeriving</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2845"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"DeriveDataTypeable"</span><span class='hs-layout'>,</span>               <span class='hs-conid'>Opt_DeriveDataTypeable</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2846"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"AutoDeriveTypeable"</span><span class='hs-layout'>,</span>               <span class='hs-conid'>Opt_AutoDeriveTypeable</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2847"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"DeriveFunctor"</span><span class='hs-layout'>,</span>                    <span class='hs-conid'>Opt_DeriveFunctor</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2848"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"DeriveTraversable"</span><span class='hs-layout'>,</span>                <span class='hs-conid'>Opt_DeriveTraversable</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2849"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"DeriveFoldable"</span><span class='hs-layout'>,</span>                   <span class='hs-conid'>Opt_DeriveFoldable</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2850"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"DeriveGeneric"</span><span class='hs-layout'>,</span>                    <span class='hs-conid'>Opt_DeriveGeneric</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2851"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"DefaultSignatures"</span><span class='hs-layout'>,</span>                <span class='hs-conid'>Opt_DefaultSignatures</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2852"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"TypeSynonymInstances"</span><span class='hs-layout'>,</span>             <span class='hs-conid'>Opt_TypeSynonymInstances</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2853"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"FlexibleContexts"</span><span class='hs-layout'>,</span>                 <span class='hs-conid'>Opt_FlexibleContexts</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2854"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"FlexibleInstances"</span><span class='hs-layout'>,</span>                <span class='hs-conid'>Opt_FlexibleInstances</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2855"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"ConstrainedClassMethods"</span><span class='hs-layout'>,</span>          <span class='hs-conid'>Opt_ConstrainedClassMethods</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2856"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"MultiParamTypeClasses"</span><span class='hs-layout'>,</span>            <span class='hs-conid'>Opt_MultiParamTypeClasses</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2857"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"NullaryTypeClasses"</span><span class='hs-layout'>,</span>               <span class='hs-conid'>Opt_NullaryTypeClasses</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2858"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"FunctionalDependencies"</span><span class='hs-layout'>,</span>           <span class='hs-conid'>Opt_FunctionalDependencies</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2859"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"GeneralizedNewtypeDeriving"</span><span class='hs-layout'>,</span>       <span class='hs-conid'>Opt_GeneralizedNewtypeDeriving</span><span class='hs-layout'>,</span> <span class='hs-varid'>setGenDeriving</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2860"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"OverlappingInstances"</span><span class='hs-layout'>,</span>             <span class='hs-conid'>Opt_OverlappingInstances</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2861"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"UndecidableInstances"</span><span class='hs-layout'>,</span>             <span class='hs-conid'>Opt_UndecidableInstances</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2862"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"IncoherentInstances"</span><span class='hs-layout'>,</span>              <span class='hs-conid'>Opt_IncoherentInstances</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2863"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"PackageImports"</span><span class='hs-layout'>,</span>                   <span class='hs-conid'>Opt_PackageImports</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2864"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"NegativeLiterals"</span><span class='hs-layout'>,</span>                 <span class='hs-conid'>Opt_NegativeLiterals</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2865"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"EmptyCase"</span><span class='hs-layout'>,</span>                        <span class='hs-conid'>Opt_EmptyCase</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2866"></a>  <span class='hs-layout'>(</span> <span class='hs-str'>"PatternSynonyms"</span><span class='hs-layout'>,</span>                  <span class='hs-conid'>Opt_PatternSynonyms</span><span class='hs-layout'>,</span> <span class='hs-varid'>nop</span> <span class='hs-layout'>)</span>
<a name="line-2867"></a>  <span class='hs-keyglyph'>]</span>
<a name="line-2868"></a>
<a name="line-2869"></a><a name="defaultFlags"></a><span class='hs-definition'>defaultFlags</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Settings</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>GeneralFlag</span><span class='hs-keyglyph'>]</span>
<a name="line-2870"></a><span class='hs-definition'>defaultFlags</span> <span class='hs-varid'>settings</span>
<a name="line-2871"></a>  <span class='hs-keyglyph'>=</span> <span class='hs-keyglyph'>[</span> <span class='hs-conid'>Opt_AutoLinkPackages</span><span class='hs-layout'>,</span>
<a name="line-2872"></a>
<a name="line-2873"></a>      <span class='hs-conid'>Opt_SharedImplib</span><span class='hs-layout'>,</span>
<a name="line-2874"></a>
<a name="line-2875"></a>      <span class='hs-conid'>Opt_OmitYields</span><span class='hs-layout'>,</span>
<a name="line-2876"></a>
<a name="line-2877"></a>      <span class='hs-conid'>Opt_GenManifest</span><span class='hs-layout'>,</span>
<a name="line-2878"></a>      <span class='hs-conid'>Opt_EmbedManifest</span><span class='hs-layout'>,</span>
<a name="line-2879"></a>      <span class='hs-conid'>Opt_PrintBindContents</span><span class='hs-layout'>,</span>
<a name="line-2880"></a>      <span class='hs-conid'>Opt_GhciSandbox</span><span class='hs-layout'>,</span>
<a name="line-2881"></a>      <span class='hs-conid'>Opt_GhciHistory</span><span class='hs-layout'>,</span>
<a name="line-2882"></a>      <span class='hs-conid'>Opt_HelpfulErrors</span><span class='hs-layout'>,</span>
<a name="line-2883"></a>      <span class='hs-conid'>Opt_ProfCountEntries</span><span class='hs-layout'>,</span>
<a name="line-2884"></a>      <span class='hs-conid'>Opt_SimplPreInlining</span><span class='hs-layout'>,</span>
<a name="line-2885"></a>      <span class='hs-conid'>Opt_FlatCache</span><span class='hs-layout'>,</span>
<a name="line-2886"></a>      <span class='hs-conid'>Opt_RPath</span>
<a name="line-2887"></a>    <span class='hs-keyglyph'>]</span>
<a name="line-2888"></a>
<a name="line-2889"></a>    <span class='hs-varop'>++</span> <span class='hs-keyglyph'>[</span><span class='hs-varid'>f</span> <span class='hs-keyglyph'>|</span> <span class='hs-layout'>(</span><span class='hs-varid'>ns</span><span class='hs-layout'>,</span><span class='hs-varid'>f</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>&lt;-</span> <span class='hs-varid'>optLevelFlags</span><span class='hs-layout'>,</span> <span class='hs-num'>0</span> <span class='hs-varop'>`elem`</span> <span class='hs-varid'>ns</span><span class='hs-keyglyph'>]</span>
<a name="line-2890"></a>             <span class='hs-comment'>-- The default -O0 options</span>
<a name="line-2891"></a>
<a name="line-2892"></a>    <span class='hs-varop'>++</span> <span class='hs-varid'>default_PIC</span> <span class='hs-varid'>platform</span>
<a name="line-2893"></a>
<a name="line-2894"></a>    <span class='hs-varop'>++</span> <span class='hs-layout'>(</span><span class='hs-keyword'>if</span> <span class='hs-varid'>pc_DYNAMIC_BY_DEFAULT</span> <span class='hs-layout'>(</span><span class='hs-varid'>sPlatformConstants</span> <span class='hs-varid'>settings</span><span class='hs-layout'>)</span>
<a name="line-2895"></a>        <span class='hs-keyword'>then</span> <span class='hs-varid'>wayGeneralFlags</span> <span class='hs-varid'>platform</span> <span class='hs-conid'>WayDyn</span>
<a name="line-2896"></a>        <span class='hs-keyword'>else</span> <span class='hs-conid'>[]</span><span class='hs-layout'>)</span>
<a name="line-2897"></a>
<a name="line-2898"></a>    <span class='hs-keyword'>where</span> <span class='hs-varid'>platform</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>sTargetPlatform</span> <span class='hs-varid'>settings</span>
<a name="line-2899"></a>
<a name="line-2900"></a><a name="default_PIC"></a><span class='hs-definition'>default_PIC</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Platform</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>GeneralFlag</span><span class='hs-keyglyph'>]</span>
<a name="line-2901"></a><span class='hs-definition'>default_PIC</span> <span class='hs-varid'>platform</span> <span class='hs-keyglyph'>=</span>
<a name="line-2902"></a>  <span class='hs-keyword'>case</span> <span class='hs-layout'>(</span><span class='hs-varid'>platformOS</span> <span class='hs-varid'>platform</span><span class='hs-layout'>,</span> <span class='hs-varid'>platformArch</span> <span class='hs-varid'>platform</span><span class='hs-layout'>)</span> <span class='hs-keyword'>of</span>
<a name="line-2903"></a>    <span class='hs-layout'>(</span><span class='hs-conid'>OSDarwin</span><span class='hs-layout'>,</span> <span class='hs-conid'>ArchX86_64</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>Opt_PIC</span><span class='hs-keyglyph'>]</span>
<a name="line-2904"></a>    <span class='hs-keyword'>_</span>                      <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>[]</span>
<a name="line-2905"></a>
<a name="line-2906"></a><a name="impliedFlags"></a><span class='hs-definition'>impliedFlags</span> <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-layout'>(</span><span class='hs-conid'>ExtensionFlag</span><span class='hs-layout'>,</span> <span class='hs-conid'>TurnOnFlag</span><span class='hs-layout'>,</span> <span class='hs-conid'>ExtensionFlag</span><span class='hs-layout'>)</span><span class='hs-keyglyph'>]</span>
<a name="line-2907"></a><span class='hs-definition'>impliedFlags</span>
<a name="line-2908"></a>  <span class='hs-keyglyph'>=</span> <span class='hs-keyglyph'>[</span> <span class='hs-layout'>(</span><span class='hs-conid'>Opt_RankNTypes</span><span class='hs-layout'>,</span>                <span class='hs-varid'>turnOn</span><span class='hs-layout'>,</span> <span class='hs-conid'>Opt_ExplicitForAll</span><span class='hs-layout'>)</span>
<a name="line-2909"></a>    <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-conid'>Opt_ScopedTypeVariables</span><span class='hs-layout'>,</span>       <span class='hs-varid'>turnOn</span><span class='hs-layout'>,</span> <span class='hs-conid'>Opt_ExplicitForAll</span><span class='hs-layout'>)</span>
<a name="line-2910"></a>    <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-conid'>Opt_LiberalTypeSynonyms</span><span class='hs-layout'>,</span>       <span class='hs-varid'>turnOn</span><span class='hs-layout'>,</span> <span class='hs-conid'>Opt_ExplicitForAll</span><span class='hs-layout'>)</span>
<a name="line-2911"></a>    <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-conid'>Opt_ExistentialQuantification</span><span class='hs-layout'>,</span> <span class='hs-varid'>turnOn</span><span class='hs-layout'>,</span> <span class='hs-conid'>Opt_ExplicitForAll</span><span class='hs-layout'>)</span>
<a name="line-2912"></a>    <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-conid'>Opt_FlexibleInstances</span><span class='hs-layout'>,</span>         <span class='hs-varid'>turnOn</span><span class='hs-layout'>,</span> <span class='hs-conid'>Opt_TypeSynonymInstances</span><span class='hs-layout'>)</span>
<a name="line-2913"></a>    <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-conid'>Opt_FunctionalDependencies</span><span class='hs-layout'>,</span>    <span class='hs-varid'>turnOn</span><span class='hs-layout'>,</span> <span class='hs-conid'>Opt_MultiParamTypeClasses</span><span class='hs-layout'>)</span>
<a name="line-2914"></a>
<a name="line-2915"></a>    <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-conid'>Opt_RebindableSyntax</span><span class='hs-layout'>,</span> <span class='hs-varid'>turnOff</span><span class='hs-layout'>,</span> <span class='hs-conid'>Opt_ImplicitPrelude</span><span class='hs-layout'>)</span>      <span class='hs-comment'>-- NB: turn off!</span>
<a name="line-2916"></a>
<a name="line-2917"></a>    <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-conid'>Opt_GADTs</span><span class='hs-layout'>,</span>            <span class='hs-varid'>turnOn</span><span class='hs-layout'>,</span> <span class='hs-conid'>Opt_GADTSyntax</span><span class='hs-layout'>)</span>
<a name="line-2918"></a>    <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-conid'>Opt_GADTs</span><span class='hs-layout'>,</span>            <span class='hs-varid'>turnOn</span><span class='hs-layout'>,</span> <span class='hs-conid'>Opt_MonoLocalBinds</span><span class='hs-layout'>)</span>
<a name="line-2919"></a>    <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-conid'>Opt_TypeFamilies</span><span class='hs-layout'>,</span>     <span class='hs-varid'>turnOn</span><span class='hs-layout'>,</span> <span class='hs-conid'>Opt_MonoLocalBinds</span><span class='hs-layout'>)</span>
<a name="line-2920"></a>
<a name="line-2921"></a>    <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-conid'>Opt_TypeFamilies</span><span class='hs-layout'>,</span>     <span class='hs-varid'>turnOn</span><span class='hs-layout'>,</span> <span class='hs-conid'>Opt_KindSignatures</span><span class='hs-layout'>)</span>  <span class='hs-comment'>-- Type families use kind signatures</span>
<a name="line-2922"></a>    <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-conid'>Opt_PolyKinds</span><span class='hs-layout'>,</span>        <span class='hs-varid'>turnOn</span><span class='hs-layout'>,</span> <span class='hs-conid'>Opt_KindSignatures</span><span class='hs-layout'>)</span>  <span class='hs-comment'>-- Ditto polymorphic kinds</span>
<a name="line-2923"></a>
<a name="line-2924"></a>    <span class='hs-comment'>-- AutoDeriveTypeable is not very useful without DeriveDataTypeable</span>
<a name="line-2925"></a>    <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-conid'>Opt_AutoDeriveTypeable</span><span class='hs-layout'>,</span> <span class='hs-varid'>turnOn</span><span class='hs-layout'>,</span> <span class='hs-conid'>Opt_DeriveDataTypeable</span><span class='hs-layout'>)</span>
<a name="line-2926"></a>
<a name="line-2927"></a>    <span class='hs-comment'>-- We turn this on so that we can export associated type</span>
<a name="line-2928"></a>    <span class='hs-comment'>-- type synonyms in subordinates (e.g. MyClass(type AssocType))</span>
<a name="line-2929"></a>    <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-conid'>Opt_TypeFamilies</span><span class='hs-layout'>,</span>     <span class='hs-varid'>turnOn</span><span class='hs-layout'>,</span> <span class='hs-conid'>Opt_ExplicitNamespaces</span><span class='hs-layout'>)</span>
<a name="line-2930"></a>    <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-conid'>Opt_TypeOperators</span><span class='hs-layout'>,</span> <span class='hs-varid'>turnOn</span><span class='hs-layout'>,</span> <span class='hs-conid'>Opt_ExplicitNamespaces</span><span class='hs-layout'>)</span>
<a name="line-2931"></a>
<a name="line-2932"></a>    <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-conid'>Opt_ImpredicativeTypes</span><span class='hs-layout'>,</span>  <span class='hs-varid'>turnOn</span><span class='hs-layout'>,</span> <span class='hs-conid'>Opt_RankNTypes</span><span class='hs-layout'>)</span>
<a name="line-2933"></a>
<a name="line-2934"></a>        <span class='hs-comment'>-- Record wild-cards implies field disambiguation</span>
<a name="line-2935"></a>        <span class='hs-comment'>-- Otherwise if you write (C {..}) you may well get</span>
<a name="line-2936"></a>        <span class='hs-comment'>-- stuff like " 'a' not in scope ", which is a bit silly</span>
<a name="line-2937"></a>        <span class='hs-comment'>-- if the compiler has just filled in field 'a' of constructor 'C'</span>
<a name="line-2938"></a>    <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-conid'>Opt_RecordWildCards</span><span class='hs-layout'>,</span>     <span class='hs-varid'>turnOn</span><span class='hs-layout'>,</span> <span class='hs-conid'>Opt_DisambiguateRecordFields</span><span class='hs-layout'>)</span>
<a name="line-2939"></a>
<a name="line-2940"></a>    <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-conid'>Opt_ParallelArrays</span><span class='hs-layout'>,</span> <span class='hs-varid'>turnOn</span><span class='hs-layout'>,</span> <span class='hs-conid'>Opt_ParallelListComp</span><span class='hs-layout'>)</span>
<a name="line-2941"></a>
<a name="line-2942"></a>    <span class='hs-comment'>-- An implicit parameter constraint, `?x::Int`, is desugared into</span>
<a name="line-2943"></a>    <span class='hs-comment'>-- `IP "x" Int`, which requires a flexible context/instance.</span>
<a name="line-2944"></a>    <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-conid'>Opt_ImplicitParams</span><span class='hs-layout'>,</span> <span class='hs-varid'>turnOn</span><span class='hs-layout'>,</span> <span class='hs-conid'>Opt_FlexibleContexts</span><span class='hs-layout'>)</span>
<a name="line-2945"></a>    <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-conid'>Opt_ImplicitParams</span><span class='hs-layout'>,</span> <span class='hs-varid'>turnOn</span><span class='hs-layout'>,</span> <span class='hs-conid'>Opt_FlexibleInstances</span><span class='hs-layout'>)</span>
<a name="line-2946"></a>
<a name="line-2947"></a>    <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-conid'>Opt_JavaScriptFFI</span><span class='hs-layout'>,</span> <span class='hs-varid'>turnOn</span><span class='hs-layout'>,</span> <span class='hs-conid'>Opt_InterruptibleFFI</span><span class='hs-layout'>)</span>
<a name="line-2948"></a>  <span class='hs-keyglyph'>]</span>
<a name="line-2949"></a>
<a name="line-2950"></a><a name="optLevelFlags"></a><span class='hs-definition'>optLevelFlags</span> <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-layout'>(</span><span class='hs-keyglyph'>[</span><span class='hs-conid'>Int</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span> <span class='hs-conid'>GeneralFlag</span><span class='hs-layout'>)</span><span class='hs-keyglyph'>]</span>
<a name="line-2951"></a><span class='hs-definition'>optLevelFlags</span>
<a name="line-2952"></a>  <span class='hs-keyglyph'>=</span> <span class='hs-keyglyph'>[</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>[</span><span class='hs-num'>0</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span>     <span class='hs-conid'>Opt_IgnoreInterfacePragmas</span><span class='hs-layout'>)</span>
<a name="line-2953"></a>    <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>[</span><span class='hs-num'>0</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span>     <span class='hs-conid'>Opt_OmitInterfacePragmas</span><span class='hs-layout'>)</span>
<a name="line-2954"></a>
<a name="line-2955"></a>    <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>[</span><span class='hs-num'>1</span><span class='hs-layout'>,</span><span class='hs-num'>2</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span>   <span class='hs-conid'>Opt_IgnoreAsserts</span><span class='hs-layout'>)</span>
<a name="line-2956"></a>    <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>[</span><span class='hs-num'>1</span><span class='hs-layout'>,</span><span class='hs-num'>2</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span>   <span class='hs-conid'>Opt_EnableRewriteRules</span><span class='hs-layout'>)</span>  <span class='hs-comment'>-- Off for -O0; see Note [Scoping for Builtin rules]</span>
<a name="line-2957"></a>                                         <span class='hs-comment'>--              in PrelRules</span>
<a name="line-2958"></a>    <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>[</span><span class='hs-num'>1</span><span class='hs-layout'>,</span><span class='hs-num'>2</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span>   <span class='hs-conid'>Opt_DoEtaReduction</span><span class='hs-layout'>)</span>
<a name="line-2959"></a>    <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>[</span><span class='hs-num'>1</span><span class='hs-layout'>,</span><span class='hs-num'>2</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span>   <span class='hs-conid'>Opt_CaseMerge</span><span class='hs-layout'>)</span>
<a name="line-2960"></a>    <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>[</span><span class='hs-num'>1</span><span class='hs-layout'>,</span><span class='hs-num'>2</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span>   <span class='hs-conid'>Opt_Strictness</span><span class='hs-layout'>)</span>
<a name="line-2961"></a>    <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>[</span><span class='hs-num'>1</span><span class='hs-layout'>,</span><span class='hs-num'>2</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span>   <span class='hs-conid'>Opt_CSE</span><span class='hs-layout'>)</span>
<a name="line-2962"></a>    <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>[</span><span class='hs-num'>1</span><span class='hs-layout'>,</span><span class='hs-num'>2</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span>   <span class='hs-conid'>Opt_FullLaziness</span><span class='hs-layout'>)</span>
<a name="line-2963"></a>    <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>[</span><span class='hs-num'>1</span><span class='hs-layout'>,</span><span class='hs-num'>2</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span>   <span class='hs-conid'>Opt_Specialise</span><span class='hs-layout'>)</span>
<a name="line-2964"></a>    <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>[</span><span class='hs-num'>1</span><span class='hs-layout'>,</span><span class='hs-num'>2</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span>   <span class='hs-conid'>Opt_FloatIn</span><span class='hs-layout'>)</span>
<a name="line-2965"></a>    <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>[</span><span class='hs-num'>1</span><span class='hs-layout'>,</span><span class='hs-num'>2</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span>   <span class='hs-conid'>Opt_UnboxSmallStrictFields</span><span class='hs-layout'>)</span>
<a name="line-2966"></a>
<a name="line-2967"></a>    <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>[</span><span class='hs-num'>2</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span>     <span class='hs-conid'>Opt_LiberateCase</span><span class='hs-layout'>)</span>
<a name="line-2968"></a>    <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>[</span><span class='hs-num'>2</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span>     <span class='hs-conid'>Opt_SpecConstr</span><span class='hs-layout'>)</span>
<a name="line-2969"></a><span class='hs-comment'>-- XXX disabled, see #7192</span>
<a name="line-2970"></a><span class='hs-comment'>--    , ([2],     Opt_RegsGraph)</span>
<a name="line-2971"></a>    <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>[</span><span class='hs-num'>0</span><span class='hs-layout'>,</span><span class='hs-num'>1</span><span class='hs-layout'>,</span><span class='hs-num'>2</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span> <span class='hs-conid'>Opt_LlvmTBAA</span><span class='hs-layout'>)</span>
<a name="line-2972"></a>    <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>[</span><span class='hs-num'>1</span><span class='hs-layout'>,</span><span class='hs-num'>2</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span>   <span class='hs-conid'>Opt_CmmSink</span><span class='hs-layout'>)</span>
<a name="line-2973"></a>    <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>[</span><span class='hs-num'>1</span><span class='hs-layout'>,</span><span class='hs-num'>2</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span>   <span class='hs-conid'>Opt_CmmElimCommonBlocks</span><span class='hs-layout'>)</span>
<a name="line-2974"></a>    <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>[</span><span class='hs-num'>1</span><span class='hs-layout'>,</span><span class='hs-num'>2</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span>   <span class='hs-conid'>Opt_Loopification</span><span class='hs-layout'>)</span>
<a name="line-2975"></a>
<a name="line-2976"></a>    <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>[</span><span class='hs-num'>0</span><span class='hs-layout'>,</span><span class='hs-num'>1</span><span class='hs-layout'>,</span><span class='hs-num'>2</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span>     <span class='hs-conid'>Opt_DmdTxDictSel</span><span class='hs-layout'>)</span>
<a name="line-2977"></a>
<a name="line-2978"></a><span class='hs-comment'>--     , ([2],     Opt_StaticArgumentTransformation)</span>
<a name="line-2979"></a><span class='hs-comment'>-- Max writes: I think it's probably best not to enable SAT with -O2 for the</span>
<a name="line-2980"></a><span class='hs-comment'>-- 6.10 release. The version of SAT in HEAD at the moment doesn't incorporate</span>
<a name="line-2981"></a><span class='hs-comment'>-- several improvements to the heuristics, and I'm concerned that without</span>
<a name="line-2982"></a><span class='hs-comment'>-- those changes SAT will interfere with some attempts to write "high</span>
<a name="line-2983"></a><span class='hs-comment'>-- performance Haskell", as we saw in some posts on Haskell-Cafe earlier</span>
<a name="line-2984"></a><span class='hs-comment'>-- this year. In particular, the version in HEAD lacks the tail call</span>
<a name="line-2985"></a><span class='hs-comment'>-- criterion, so many things that look like reasonable loops will be</span>
<a name="line-2986"></a><span class='hs-comment'>-- turned into functions with extra (unneccesary) thunk creation.</span>
<a name="line-2987"></a>
<a name="line-2988"></a>    <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>[</span><span class='hs-num'>0</span><span class='hs-layout'>,</span><span class='hs-num'>1</span><span class='hs-layout'>,</span><span class='hs-num'>2</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span> <span class='hs-conid'>Opt_DoLambdaEtaExpansion</span><span class='hs-layout'>)</span>
<a name="line-2989"></a>                <span class='hs-comment'>-- This one is important for a tiresome reason:</span>
<a name="line-2990"></a>                <span class='hs-comment'>-- we want to make sure that the bindings for data</span>
<a name="line-2991"></a>                <span class='hs-comment'>-- constructors are eta-expanded.  This is probably</span>
<a name="line-2992"></a>                <span class='hs-comment'>-- a good thing anyway, but it seems fragile.</span>
<a name="line-2993"></a>    <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>[</span><span class='hs-num'>0</span><span class='hs-layout'>,</span><span class='hs-num'>1</span><span class='hs-layout'>,</span><span class='hs-num'>2</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span> <span class='hs-conid'>Opt_VectorisationAvoidance</span><span class='hs-layout'>)</span>
<a name="line-2994"></a>    <span class='hs-keyglyph'>]</span>
<a name="line-2995"></a>
<a name="line-2996"></a><span class='hs-comment'>-- -----------------------------------------------------------------------------</span>
<a name="line-2997"></a><span class='hs-comment'>-- Standard sets of warning options</span>
<a name="line-2998"></a>
<a name="line-2999"></a><a name="standardWarnings"></a><span class='hs-definition'>standardWarnings</span> <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>WarningFlag</span><span class='hs-keyglyph'>]</span>
<a name="line-3000"></a><span class='hs-definition'>standardWarnings</span>
<a name="line-3001"></a>    <span class='hs-keyglyph'>=</span> <span class='hs-keyglyph'>[</span> <span class='hs-conid'>Opt_WarnOverlappingPatterns</span><span class='hs-layout'>,</span>
<a name="line-3002"></a>        <span class='hs-conid'>Opt_WarnWarningsDeprecations</span><span class='hs-layout'>,</span>
<a name="line-3003"></a>        <span class='hs-conid'>Opt_WarnDeprecatedFlags</span><span class='hs-layout'>,</span>
<a name="line-3004"></a>        <span class='hs-conid'>Opt_WarnAMP</span><span class='hs-layout'>,</span>
<a name="line-3005"></a>        <span class='hs-conid'>Opt_WarnTypedHoles</span><span class='hs-layout'>,</span>
<a name="line-3006"></a>        <span class='hs-conid'>Opt_WarnUnrecognisedPragmas</span><span class='hs-layout'>,</span>
<a name="line-3007"></a>        <span class='hs-conid'>Opt_WarnPointlessPragmas</span><span class='hs-layout'>,</span>
<a name="line-3008"></a>        <span class='hs-conid'>Opt_WarnDuplicateConstraints</span><span class='hs-layout'>,</span>
<a name="line-3009"></a>        <span class='hs-conid'>Opt_WarnDuplicateExports</span><span class='hs-layout'>,</span>
<a name="line-3010"></a>        <span class='hs-conid'>Opt_WarnOverflowedLiterals</span><span class='hs-layout'>,</span>
<a name="line-3011"></a>        <span class='hs-conid'>Opt_WarnEmptyEnumerations</span><span class='hs-layout'>,</span>
<a name="line-3012"></a>        <span class='hs-conid'>Opt_WarnMissingFields</span><span class='hs-layout'>,</span>
<a name="line-3013"></a>        <span class='hs-conid'>Opt_WarnMissingMethods</span><span class='hs-layout'>,</span>
<a name="line-3014"></a>        <span class='hs-conid'>Opt_WarnWrongDoBind</span><span class='hs-layout'>,</span>
<a name="line-3015"></a>        <span class='hs-conid'>Opt_WarnUnsupportedCallingConventions</span><span class='hs-layout'>,</span>
<a name="line-3016"></a>        <span class='hs-conid'>Opt_WarnDodgyForeignImports</span><span class='hs-layout'>,</span>
<a name="line-3017"></a>        <span class='hs-conid'>Opt_WarnInlineRuleShadowing</span><span class='hs-layout'>,</span>
<a name="line-3018"></a>        <span class='hs-conid'>Opt_WarnAlternativeLayoutRuleTransitional</span><span class='hs-layout'>,</span>
<a name="line-3019"></a>        <span class='hs-conid'>Opt_WarnUnsupportedLlvmVersion</span>
<a name="line-3020"></a>      <span class='hs-keyglyph'>]</span>
<a name="line-3021"></a>
<a name="line-3022"></a><a name="minusWOpts"></a><span class='hs-definition'>minusWOpts</span> <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>WarningFlag</span><span class='hs-keyglyph'>]</span>
<a name="line-3023"></a><span class='hs-comment'>-- Things you get with -W</span>
<a name="line-3024"></a><span class='hs-definition'>minusWOpts</span>
<a name="line-3025"></a>    <span class='hs-keyglyph'>=</span> <span class='hs-varid'>standardWarnings</span> <span class='hs-varop'>++</span>
<a name="line-3026"></a>      <span class='hs-keyglyph'>[</span> <span class='hs-conid'>Opt_WarnUnusedBinds</span><span class='hs-layout'>,</span>
<a name="line-3027"></a>        <span class='hs-conid'>Opt_WarnUnusedMatches</span><span class='hs-layout'>,</span>
<a name="line-3028"></a>        <span class='hs-conid'>Opt_WarnUnusedImports</span><span class='hs-layout'>,</span>
<a name="line-3029"></a>        <span class='hs-conid'>Opt_WarnIncompletePatterns</span><span class='hs-layout'>,</span>
<a name="line-3030"></a>        <span class='hs-conid'>Opt_WarnDodgyExports</span><span class='hs-layout'>,</span>
<a name="line-3031"></a>        <span class='hs-conid'>Opt_WarnDodgyImports</span>
<a name="line-3032"></a>      <span class='hs-keyglyph'>]</span>
<a name="line-3033"></a>
<a name="line-3034"></a><a name="minusWallOpts"></a><span class='hs-definition'>minusWallOpts</span> <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>WarningFlag</span><span class='hs-keyglyph'>]</span>
<a name="line-3035"></a><span class='hs-comment'>-- Things you get with -Wall</span>
<a name="line-3036"></a><span class='hs-definition'>minusWallOpts</span>
<a name="line-3037"></a>    <span class='hs-keyglyph'>=</span> <span class='hs-varid'>minusWOpts</span> <span class='hs-varop'>++</span>
<a name="line-3038"></a>      <span class='hs-keyglyph'>[</span> <span class='hs-conid'>Opt_WarnTypeDefaults</span><span class='hs-layout'>,</span>
<a name="line-3039"></a>        <span class='hs-conid'>Opt_WarnNameShadowing</span><span class='hs-layout'>,</span>
<a name="line-3040"></a>        <span class='hs-conid'>Opt_WarnMissingSigs</span><span class='hs-layout'>,</span>
<a name="line-3041"></a>        <span class='hs-conid'>Opt_WarnHiShadows</span><span class='hs-layout'>,</span>
<a name="line-3042"></a>        <span class='hs-conid'>Opt_WarnOrphans</span><span class='hs-layout'>,</span>
<a name="line-3043"></a>        <span class='hs-conid'>Opt_WarnUnusedDoBind</span>
<a name="line-3044"></a>      <span class='hs-keyglyph'>]</span>
<a name="line-3045"></a>
<a name="line-3046"></a><a name="enableGlasgowExts"></a><span class='hs-definition'>enableGlasgowExts</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynP</span> <span class='hs-conid'>()</span>
<a name="line-3047"></a><span class='hs-definition'>enableGlasgowExts</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyword'>do</span> <span class='hs-varid'>setGeneralFlag</span> <span class='hs-conid'>Opt_PrintExplicitForalls</span>
<a name="line-3048"></a>                       <span class='hs-varid'>mapM_</span> <span class='hs-varid'>setExtensionFlag</span> <span class='hs-varid'>glasgowExtsFlags</span>
<a name="line-3049"></a>
<a name="line-3050"></a><a name="disableGlasgowExts"></a><span class='hs-definition'>disableGlasgowExts</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynP</span> <span class='hs-conid'>()</span>
<a name="line-3051"></a><span class='hs-definition'>disableGlasgowExts</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyword'>do</span> <span class='hs-varid'>unSetGeneralFlag</span> <span class='hs-conid'>Opt_PrintExplicitForalls</span>
<a name="line-3052"></a>                        <span class='hs-varid'>mapM_</span> <span class='hs-varid'>unSetExtensionFlag</span> <span class='hs-varid'>glasgowExtsFlags</span>
<a name="line-3053"></a>
<a name="line-3054"></a><a name="glasgowExtsFlags"></a><span class='hs-definition'>glasgowExtsFlags</span> <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>ExtensionFlag</span><span class='hs-keyglyph'>]</span>
<a name="line-3055"></a><span class='hs-definition'>glasgowExtsFlags</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyglyph'>[</span>
<a name="line-3056"></a>             <span class='hs-conid'>Opt_ForeignFunctionInterface</span>
<a name="line-3057"></a>           <span class='hs-layout'>,</span> <span class='hs-conid'>Opt_UnliftedFFITypes</span>
<a name="line-3058"></a>           <span class='hs-layout'>,</span> <span class='hs-conid'>Opt_ImplicitParams</span>
<a name="line-3059"></a>           <span class='hs-layout'>,</span> <span class='hs-conid'>Opt_ScopedTypeVariables</span>
<a name="line-3060"></a>           <span class='hs-layout'>,</span> <span class='hs-conid'>Opt_UnboxedTuples</span>
<a name="line-3061"></a>           <span class='hs-layout'>,</span> <span class='hs-conid'>Opt_TypeSynonymInstances</span>
<a name="line-3062"></a>           <span class='hs-layout'>,</span> <span class='hs-conid'>Opt_StandaloneDeriving</span>
<a name="line-3063"></a>           <span class='hs-layout'>,</span> <span class='hs-conid'>Opt_DeriveDataTypeable</span>
<a name="line-3064"></a>           <span class='hs-layout'>,</span> <span class='hs-conid'>Opt_DeriveFunctor</span>
<a name="line-3065"></a>           <span class='hs-layout'>,</span> <span class='hs-conid'>Opt_DeriveFoldable</span>
<a name="line-3066"></a>           <span class='hs-layout'>,</span> <span class='hs-conid'>Opt_DeriveTraversable</span>
<a name="line-3067"></a>           <span class='hs-layout'>,</span> <span class='hs-conid'>Opt_DeriveGeneric</span>
<a name="line-3068"></a>           <span class='hs-layout'>,</span> <span class='hs-conid'>Opt_FlexibleContexts</span>
<a name="line-3069"></a>           <span class='hs-layout'>,</span> <span class='hs-conid'>Opt_FlexibleInstances</span>
<a name="line-3070"></a>           <span class='hs-layout'>,</span> <span class='hs-conid'>Opt_ConstrainedClassMethods</span>
<a name="line-3071"></a>           <span class='hs-layout'>,</span> <span class='hs-conid'>Opt_MultiParamTypeClasses</span>
<a name="line-3072"></a>           <span class='hs-layout'>,</span> <span class='hs-conid'>Opt_FunctionalDependencies</span>
<a name="line-3073"></a>           <span class='hs-layout'>,</span> <span class='hs-conid'>Opt_MagicHash</span>
<a name="line-3074"></a>           <span class='hs-layout'>,</span> <span class='hs-conid'>Opt_ExistentialQuantification</span>
<a name="line-3075"></a>           <span class='hs-layout'>,</span> <span class='hs-conid'>Opt_UnicodeSyntax</span>
<a name="line-3076"></a>           <span class='hs-layout'>,</span> <span class='hs-conid'>Opt_PostfixOperators</span>
<a name="line-3077"></a>           <span class='hs-layout'>,</span> <span class='hs-conid'>Opt_PatternGuards</span>
<a name="line-3078"></a>           <span class='hs-layout'>,</span> <span class='hs-conid'>Opt_LiberalTypeSynonyms</span>
<a name="line-3079"></a>           <span class='hs-layout'>,</span> <span class='hs-conid'>Opt_RankNTypes</span>
<a name="line-3080"></a>           <span class='hs-layout'>,</span> <span class='hs-conid'>Opt_TypeOperators</span>
<a name="line-3081"></a>           <span class='hs-layout'>,</span> <span class='hs-conid'>Opt_ExplicitNamespaces</span>
<a name="line-3082"></a>           <span class='hs-layout'>,</span> <span class='hs-conid'>Opt_RecursiveDo</span>
<a name="line-3083"></a>           <span class='hs-layout'>,</span> <span class='hs-conid'>Opt_ParallelListComp</span>
<a name="line-3084"></a>           <span class='hs-layout'>,</span> <span class='hs-conid'>Opt_EmptyDataDecls</span>
<a name="line-3085"></a>           <span class='hs-layout'>,</span> <span class='hs-conid'>Opt_KindSignatures</span>
<a name="line-3086"></a>           <span class='hs-layout'>,</span> <span class='hs-conid'>Opt_GeneralizedNewtypeDeriving</span> <span class='hs-keyglyph'>]</span>
<a name="line-3087"></a>
<a name="line-3088"></a><span class='hs-cpp'>#ifdef GHCI</span>
<a name="line-3089"></a><span class='hs-comment'>-- Consult the RTS to find whether GHC itself has been built profiled</span>
<a name="line-3090"></a><span class='hs-comment'>-- If so, you can't use Template Haskell</span>
<a name="line-3091"></a><span class='hs-keyword'>foreign</span> <span class='hs-keyword'>import</span> <span class='hs-keyword'>ccall</span> <span class='hs-keyword'>unsafe</span> <span class='hs-str'>"rts_isProfiled"</span> <span class='hs-varid'>rtsIsProfiledIO</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>IO</span> <span class='hs-conid'>CInt</span>
<a name="line-3092"></a>
<a name="line-3093"></a><a name="rtsIsProfiled"></a><span class='hs-definition'>rtsIsProfiled</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Bool</span>
<a name="line-3094"></a><span class='hs-definition'>rtsIsProfiled</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>unsafeDupablePerformIO</span> <span class='hs-varid'>rtsIsProfiledIO</span> <span class='hs-varop'>/=</span> <span class='hs-num'>0</span>
<a name="line-3095"></a><span class='hs-cpp'>#endif</span>
<a name="line-3096"></a>
<a name="line-3097"></a><span class='hs-cpp'>#ifdef GHCI</span>
<a name="line-3098"></a><span class='hs-comment'>-- Consult the RTS to find whether GHC itself has been built with</span>
<a name="line-3099"></a><span class='hs-comment'>-- dynamic linking.  This can't be statically known at compile-time,</span>
<a name="line-3100"></a><span class='hs-comment'>-- because we build both the static and dynamic versions together with</span>
<a name="line-3101"></a><span class='hs-comment'>-- -dynamic-too.</span>
<a name="line-3102"></a><span class='hs-keyword'>foreign</span> <span class='hs-keyword'>import</span> <span class='hs-keyword'>ccall</span> <span class='hs-keyword'>unsafe</span> <span class='hs-str'>"rts_isDynamic"</span> <span class='hs-varid'>rtsIsDynamicIO</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>IO</span> <span class='hs-conid'>CInt</span>
<a name="line-3103"></a>
<a name="line-3104"></a><a name="dynamicGhc"></a><span class='hs-definition'>dynamicGhc</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Bool</span>
<a name="line-3105"></a><span class='hs-definition'>dynamicGhc</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>unsafeDupablePerformIO</span> <span class='hs-varid'>rtsIsDynamicIO</span> <span class='hs-varop'>/=</span> <span class='hs-num'>0</span>
<a name="line-3106"></a><span class='hs-cpp'>#else</span>
<a name="line-3107"></a><span class='hs-definition'>dynamicGhc</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Bool</span>
<a name="line-3108"></a><span class='hs-definition'>dynamicGhc</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>False</span>
<a name="line-3109"></a><span class='hs-cpp'>#endif</span>
<a name="line-3110"></a>
<a name="line-3111"></a><a name="setWarnSafe"></a><span class='hs-definition'>setWarnSafe</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Bool</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynP</span> <span class='hs-conid'>()</span>
<a name="line-3112"></a><span class='hs-definition'>setWarnSafe</span> <span class='hs-conid'>True</span>  <span class='hs-keyglyph'>=</span> <span class='hs-varid'>getCurLoc</span> <span class='hs-varop'>&gt;&gt;=</span> <span class='hs-keyglyph'>\</span><span class='hs-varid'>l</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>upd</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>warnSafeOnLoc</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>l</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span>
<a name="line-3113"></a><span class='hs-definition'>setWarnSafe</span> <span class='hs-conid'>False</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>return</span> <span class='hs-conid'>()</span>
<a name="line-3114"></a>
<a name="line-3115"></a><a name="setWarnUnsafe"></a><span class='hs-definition'>setWarnUnsafe</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Bool</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynP</span> <span class='hs-conid'>()</span>
<a name="line-3116"></a><span class='hs-definition'>setWarnUnsafe</span> <span class='hs-conid'>True</span>  <span class='hs-keyglyph'>=</span> <span class='hs-varid'>getCurLoc</span> <span class='hs-varop'>&gt;&gt;=</span> <span class='hs-keyglyph'>\</span><span class='hs-varid'>l</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>upd</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>warnUnsafeOnLoc</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>l</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span>
<a name="line-3117"></a><span class='hs-definition'>setWarnUnsafe</span> <span class='hs-conid'>False</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>return</span> <span class='hs-conid'>()</span>
<a name="line-3118"></a>
<a name="line-3119"></a><a name="setPackageTrust"></a><span class='hs-definition'>setPackageTrust</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynP</span> <span class='hs-conid'>()</span>
<a name="line-3120"></a><span class='hs-definition'>setPackageTrust</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyword'>do</span>
<a name="line-3121"></a>    <span class='hs-varid'>setGeneralFlag</span> <span class='hs-conid'>Opt_PackageTrust</span>
<a name="line-3122"></a>    <span class='hs-varid'>l</span> <span class='hs-keyglyph'>&lt;-</span> <span class='hs-varid'>getCurLoc</span>
<a name="line-3123"></a>    <span class='hs-varid'>upd</span> <span class='hs-varop'>$</span> <span class='hs-keyglyph'>\</span><span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>pkgTrustOnLoc</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>l</span> <span class='hs-layout'>}</span>
<a name="line-3124"></a>
<a name="line-3125"></a><a name="setGenDeriving"></a><span class='hs-definition'>setGenDeriving</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>TurnOnFlag</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynP</span> <span class='hs-conid'>()</span>
<a name="line-3126"></a><span class='hs-definition'>setGenDeriving</span> <span class='hs-conid'>True</span>  <span class='hs-keyglyph'>=</span> <span class='hs-varid'>getCurLoc</span> <span class='hs-varop'>&gt;&gt;=</span> <span class='hs-keyglyph'>\</span><span class='hs-varid'>l</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>upd</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>newDerivOnLoc</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>l</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span>
<a name="line-3127"></a><span class='hs-definition'>setGenDeriving</span> <span class='hs-conid'>False</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>return</span> <span class='hs-conid'>()</span>
<a name="line-3128"></a>
<a name="line-3129"></a><a name="checkTemplateHaskellOk"></a><span class='hs-definition'>checkTemplateHaskellOk</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>TurnOnFlag</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynP</span> <span class='hs-conid'>()</span>
<a name="line-3130"></a><span class='hs-cpp'>#ifdef GHCI</span>
<a name="line-3131"></a><span class='hs-definition'>checkTemplateHaskellOk</span> <span class='hs-varid'>turn_on</span>
<a name="line-3132"></a>  <span class='hs-keyglyph'>|</span> <span class='hs-varid'>turn_on</span> <span class='hs-varop'>&amp;&amp;</span> <span class='hs-varid'>rtsIsProfiled</span>
<a name="line-3133"></a>  <span class='hs-keyglyph'>=</span> <span class='hs-varid'>addErr</span> <span class='hs-str'>"You can't use Template Haskell with a profiled compiler"</span>
<a name="line-3134"></a>  <span class='hs-keyglyph'>|</span> <span class='hs-varid'>otherwise</span>
<a name="line-3135"></a>  <span class='hs-keyglyph'>=</span> <span class='hs-varid'>getCurLoc</span> <span class='hs-varop'>&gt;&gt;=</span> <span class='hs-keyglyph'>\</span><span class='hs-varid'>l</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>upd</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>thOnLoc</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>l</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span>
<a name="line-3136"></a><span class='hs-cpp'>#else</span>
<a name="line-3137"></a><span class='hs-comment'>-- In stage 1, Template Haskell is simply illegal, except with -M</span>
<a name="line-3138"></a><span class='hs-comment'>-- We don't bleat with -M because there's no problem with TH there,</span>
<a name="line-3139"></a><span class='hs-comment'>-- and in fact GHC's build system does ghc -M of the DPH libraries</span>
<a name="line-3140"></a><span class='hs-comment'>-- with a stage1 compiler</span>
<a name="line-3141"></a><span class='hs-definition'>checkTemplateHaskellOk</span> <span class='hs-varid'>turn_on</span>
<a name="line-3142"></a>  <span class='hs-keyglyph'>|</span> <span class='hs-varid'>turn_on</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyword'>do</span> <span class='hs-varid'>dfs</span> <span class='hs-keyglyph'>&lt;-</span> <span class='hs-varid'>liftEwM</span> <span class='hs-varid'>getCmdLineState</span>
<a name="line-3143"></a>                 <span class='hs-keyword'>case</span> <span class='hs-varid'>ghcMode</span> <span class='hs-varid'>dfs</span> <span class='hs-keyword'>of</span>
<a name="line-3144"></a>                    <span class='hs-conid'>MkDepend</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>return</span> <span class='hs-conid'>()</span>
<a name="line-3145"></a>                    <span class='hs-keyword'>_</span>        <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>addErr</span> <span class='hs-varid'>msg</span>
<a name="line-3146"></a>  <span class='hs-keyglyph'>|</span> <span class='hs-varid'>otherwise</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>return</span> <span class='hs-conid'>()</span>
<a name="line-3147"></a>  <span class='hs-keyword'>where</span>
<a name="line-3148"></a>    <span class='hs-varid'>msg</span> <span class='hs-keyglyph'>=</span> <span class='hs-str'>"Template Haskell requires GHC with interpreter support\n    Perhaps you are using a stage-1 compiler?"</span>
<a name="line-3149"></a><span class='hs-cpp'>#endif</span>
<a name="line-3150"></a>
<a name="line-3151"></a><span class='hs-comment'>{- **********************************************************************
<a name="line-3152"></a>%*                                                                      *
<a name="line-3153"></a>                DynFlags constructors
<a name="line-3154"></a>%*                                                                      *
<a name="line-3155"></a>%********************************************************************* -}</span>
<a name="line-3156"></a>
<a name="line-3157"></a><a name="DynP"></a><span class='hs-keyword'>type</span> <span class='hs-conid'>DynP</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>EwM</span> <span class='hs-layout'>(</span><span class='hs-conid'>CmdLineP</span> <span class='hs-conid'>DynFlags</span><span class='hs-layout'>)</span>
<a name="line-3158"></a>
<a name="line-3159"></a><a name="upd"></a><span class='hs-definition'>upd</span> <span class='hs-keyglyph'>::</span> <span class='hs-layout'>(</span><span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynP</span> <span class='hs-conid'>()</span>
<a name="line-3160"></a><span class='hs-definition'>upd</span> <span class='hs-varid'>f</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>liftEwM</span> <span class='hs-layout'>(</span><span class='hs-keyword'>do</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>&lt;-</span> <span class='hs-varid'>getCmdLineState</span>
<a name="line-3161"></a>                    <span class='hs-varid'>putCmdLineState</span> <span class='hs-varop'>$!</span> <span class='hs-varid'>f</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span>
<a name="line-3162"></a>
<a name="line-3163"></a><a name="updM"></a><span class='hs-definition'>updM</span> <span class='hs-keyglyph'>::</span> <span class='hs-layout'>(</span><span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynP</span> <span class='hs-conid'>DynFlags</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynP</span> <span class='hs-conid'>()</span>
<a name="line-3164"></a><span class='hs-definition'>updM</span> <span class='hs-varid'>f</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyword'>do</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>&lt;-</span> <span class='hs-varid'>liftEwM</span> <span class='hs-varid'>getCmdLineState</span>
<a name="line-3165"></a>            <span class='hs-varid'>dflags'</span> <span class='hs-keyglyph'>&lt;-</span> <span class='hs-varid'>f</span> <span class='hs-varid'>dflags</span>
<a name="line-3166"></a>            <span class='hs-varid'>liftEwM</span> <span class='hs-varop'>$</span> <span class='hs-varid'>putCmdLineState</span> <span class='hs-varop'>$!</span> <span class='hs-varid'>dflags'</span>
<a name="line-3167"></a>
<a name="line-3168"></a><a name="noArg"></a><span class='hs-comment'>--------------- Constructor functions for OptKind -----------------</span>
<a name="line-3169"></a><span class='hs-definition'>noArg</span> <span class='hs-keyglyph'>::</span> <span class='hs-layout'>(</span><span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>OptKind</span> <span class='hs-layout'>(</span><span class='hs-conid'>CmdLineP</span> <span class='hs-conid'>DynFlags</span><span class='hs-layout'>)</span>
<a name="line-3170"></a><span class='hs-definition'>noArg</span> <span class='hs-varid'>fn</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>upd</span> <span class='hs-varid'>fn</span><span class='hs-layout'>)</span>
<a name="line-3171"></a>
<a name="line-3172"></a><a name="noArgM"></a><span class='hs-definition'>noArgM</span> <span class='hs-keyglyph'>::</span> <span class='hs-layout'>(</span><span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynP</span> <span class='hs-conid'>DynFlags</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>OptKind</span> <span class='hs-layout'>(</span><span class='hs-conid'>CmdLineP</span> <span class='hs-conid'>DynFlags</span><span class='hs-layout'>)</span>
<a name="line-3173"></a><span class='hs-definition'>noArgM</span> <span class='hs-varid'>fn</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>updM</span> <span class='hs-varid'>fn</span><span class='hs-layout'>)</span>
<a name="line-3174"></a>
<a name="line-3175"></a><a name="noArgDF"></a><span class='hs-definition'>noArgDF</span> <span class='hs-keyglyph'>::</span> <span class='hs-layout'>(</span><span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>String</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>OptKind</span> <span class='hs-layout'>(</span><span class='hs-conid'>CmdLineP</span> <span class='hs-conid'>DynFlags</span><span class='hs-layout'>)</span>
<a name="line-3176"></a><span class='hs-definition'>noArgDF</span> <span class='hs-varid'>fn</span> <span class='hs-varid'>deprec</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>upd</span> <span class='hs-varid'>fn</span> <span class='hs-varop'>&gt;&gt;</span> <span class='hs-varid'>deprecate</span> <span class='hs-varid'>deprec</span><span class='hs-layout'>)</span>
<a name="line-3177"></a>
<a name="line-3178"></a><a name="hasArg"></a><span class='hs-definition'>hasArg</span> <span class='hs-keyglyph'>::</span> <span class='hs-layout'>(</span><span class='hs-conid'>String</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>OptKind</span> <span class='hs-layout'>(</span><span class='hs-conid'>CmdLineP</span> <span class='hs-conid'>DynFlags</span><span class='hs-layout'>)</span>
<a name="line-3179"></a><span class='hs-definition'>hasArg</span> <span class='hs-varid'>fn</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>HasArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>upd</span> <span class='hs-varop'>.</span> <span class='hs-varid'>fn</span><span class='hs-layout'>)</span>
<a name="line-3180"></a>
<a name="line-3181"></a><a name="hasArgDF"></a><span class='hs-definition'>hasArgDF</span> <span class='hs-keyglyph'>::</span> <span class='hs-layout'>(</span><span class='hs-conid'>String</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>String</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>OptKind</span> <span class='hs-layout'>(</span><span class='hs-conid'>CmdLineP</span> <span class='hs-conid'>DynFlags</span><span class='hs-layout'>)</span>
<a name="line-3182"></a><span class='hs-definition'>hasArgDF</span> <span class='hs-varid'>fn</span> <span class='hs-varid'>deprec</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>HasArg</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>s</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyword'>do</span> <span class='hs-varid'>upd</span> <span class='hs-layout'>(</span><span class='hs-varid'>fn</span> <span class='hs-varid'>s</span><span class='hs-layout'>)</span>
<a name="line-3183"></a>                                      <span class='hs-varid'>deprecate</span> <span class='hs-varid'>deprec</span><span class='hs-layout'>)</span>
<a name="line-3184"></a>
<a name="line-3185"></a><a name="sepArg"></a><span class='hs-definition'>sepArg</span> <span class='hs-keyglyph'>::</span> <span class='hs-layout'>(</span><span class='hs-conid'>String</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>OptKind</span> <span class='hs-layout'>(</span><span class='hs-conid'>CmdLineP</span> <span class='hs-conid'>DynFlags</span><span class='hs-layout'>)</span>
<a name="line-3186"></a><span class='hs-definition'>sepArg</span> <span class='hs-varid'>fn</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>SepArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>upd</span> <span class='hs-varop'>.</span> <span class='hs-varid'>fn</span><span class='hs-layout'>)</span>
<a name="line-3187"></a>
<a name="line-3188"></a><a name="intSuffix"></a><span class='hs-definition'>intSuffix</span> <span class='hs-keyglyph'>::</span> <span class='hs-layout'>(</span><span class='hs-conid'>Int</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>OptKind</span> <span class='hs-layout'>(</span><span class='hs-conid'>CmdLineP</span> <span class='hs-conid'>DynFlags</span><span class='hs-layout'>)</span>
<a name="line-3189"></a><span class='hs-definition'>intSuffix</span> <span class='hs-varid'>fn</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>IntSuffix</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>n</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>upd</span> <span class='hs-layout'>(</span><span class='hs-varid'>fn</span> <span class='hs-varid'>n</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-3190"></a>
<a name="line-3191"></a><a name="floatSuffix"></a><span class='hs-definition'>floatSuffix</span> <span class='hs-keyglyph'>::</span> <span class='hs-layout'>(</span><span class='hs-conid'>Float</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>OptKind</span> <span class='hs-layout'>(</span><span class='hs-conid'>CmdLineP</span> <span class='hs-conid'>DynFlags</span><span class='hs-layout'>)</span>
<a name="line-3192"></a><span class='hs-definition'>floatSuffix</span> <span class='hs-varid'>fn</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>FloatSuffix</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>n</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>upd</span> <span class='hs-layout'>(</span><span class='hs-varid'>fn</span> <span class='hs-varid'>n</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-3193"></a>
<a name="line-3194"></a><a name="optIntSuffixM"></a><span class='hs-definition'>optIntSuffixM</span> <span class='hs-keyglyph'>::</span> <span class='hs-layout'>(</span><span class='hs-conid'>Maybe</span> <span class='hs-conid'>Int</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynP</span> <span class='hs-conid'>DynFlags</span><span class='hs-layout'>)</span>
<a name="line-3195"></a>              <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>OptKind</span> <span class='hs-layout'>(</span><span class='hs-conid'>CmdLineP</span> <span class='hs-conid'>DynFlags</span><span class='hs-layout'>)</span>
<a name="line-3196"></a><span class='hs-definition'>optIntSuffixM</span> <span class='hs-varid'>fn</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>OptIntSuffix</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>mi</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>updM</span> <span class='hs-layout'>(</span><span class='hs-varid'>fn</span> <span class='hs-varid'>mi</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-3197"></a>
<a name="line-3198"></a><a name="versionSuffix"></a><span class='hs-definition'>versionSuffix</span> <span class='hs-keyglyph'>::</span> <span class='hs-layout'>(</span><span class='hs-conid'>Int</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Int</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>OptKind</span> <span class='hs-layout'>(</span><span class='hs-conid'>CmdLineP</span> <span class='hs-conid'>DynFlags</span><span class='hs-layout'>)</span>
<a name="line-3199"></a><span class='hs-definition'>versionSuffix</span> <span class='hs-varid'>fn</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>VersionSuffix</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>maj</span> <span class='hs-varid'>min</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>upd</span> <span class='hs-layout'>(</span><span class='hs-varid'>fn</span> <span class='hs-varid'>maj</span> <span class='hs-varid'>min</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-3200"></a>
<a name="line-3201"></a><a name="setDumpFlag"></a><span class='hs-definition'>setDumpFlag</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DumpFlag</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>OptKind</span> <span class='hs-layout'>(</span><span class='hs-conid'>CmdLineP</span> <span class='hs-conid'>DynFlags</span><span class='hs-layout'>)</span>
<a name="line-3202"></a><span class='hs-definition'>setDumpFlag</span> <span class='hs-varid'>dump_flag</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag'</span> <span class='hs-varid'>dump_flag</span><span class='hs-layout'>)</span>
<a name="line-3203"></a>
<a name="line-3204"></a><a name="addWay"></a><span class='hs-comment'>--------------------------</span>
<a name="line-3205"></a><span class='hs-definition'>addWay</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Way</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynP</span> <span class='hs-conid'>()</span>
<a name="line-3206"></a><span class='hs-definition'>addWay</span> <span class='hs-varid'>w</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>upd</span> <span class='hs-layout'>(</span><span class='hs-varid'>addWay'</span> <span class='hs-varid'>w</span><span class='hs-layout'>)</span>
<a name="line-3207"></a>
<a name="line-3208"></a><a name="addWay'"></a><span class='hs-definition'>addWay'</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Way</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span>
<a name="line-3209"></a><span class='hs-definition'>addWay'</span> <span class='hs-varid'>w</span> <span class='hs-varid'>dflags0</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyword'>let</span> <span class='hs-varid'>platform</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>targetPlatform</span> <span class='hs-varid'>dflags0</span>
<a name="line-3210"></a>                        <span class='hs-varid'>dflags1</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>dflags0</span> <span class='hs-layout'>{</span> <span class='hs-varid'>ways</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>w</span> <span class='hs-conop'>:</span> <span class='hs-varid'>ways</span> <span class='hs-varid'>dflags0</span> <span class='hs-layout'>}</span>
<a name="line-3211"></a>                        <span class='hs-varid'>dflags2</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>wayExtras</span> <span class='hs-varid'>platform</span> <span class='hs-varid'>w</span> <span class='hs-varid'>dflags1</span>
<a name="line-3212"></a>                        <span class='hs-varid'>dflags3</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>foldr</span> <span class='hs-varid'>setGeneralFlag'</span> <span class='hs-varid'>dflags2</span>
<a name="line-3213"></a>                                        <span class='hs-layout'>(</span><span class='hs-varid'>wayGeneralFlags</span> <span class='hs-varid'>platform</span> <span class='hs-varid'>w</span><span class='hs-layout'>)</span>
<a name="line-3214"></a>                        <span class='hs-varid'>dflags4</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>foldr</span> <span class='hs-varid'>unSetGeneralFlag'</span> <span class='hs-varid'>dflags3</span>
<a name="line-3215"></a>                                        <span class='hs-layout'>(</span><span class='hs-varid'>wayUnsetGeneralFlags</span> <span class='hs-varid'>platform</span> <span class='hs-varid'>w</span><span class='hs-layout'>)</span>
<a name="line-3216"></a>                    <span class='hs-keyword'>in</span> <span class='hs-varid'>dflags4</span>
<a name="line-3217"></a>
<a name="line-3218"></a><a name="removeWayDyn"></a><span class='hs-definition'>removeWayDyn</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynP</span> <span class='hs-conid'>()</span>
<a name="line-3219"></a><span class='hs-definition'>removeWayDyn</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>upd</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>dfs</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>dfs</span> <span class='hs-layout'>{</span> <span class='hs-varid'>ways</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>filter</span> <span class='hs-layout'>(</span><span class='hs-conid'>WayDyn</span> <span class='hs-varop'>/=</span><span class='hs-layout'>)</span> <span class='hs-layout'>(</span><span class='hs-varid'>ways</span> <span class='hs-varid'>dfs</span><span class='hs-layout'>)</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span>
<a name="line-3220"></a>
<a name="line-3221"></a><a name="setGeneralFlag"></a><span class='hs-comment'>--------------------------</span>
<a name="line-3222"></a><span class='hs-definition'>setGeneralFlag</span><span class='hs-layout'>,</span> <span class='hs-varid'>unSetGeneralFlag</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>GeneralFlag</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynP</span> <span class='hs-conid'>()</span>
<a name="line-3223"></a><span class='hs-definition'>setGeneralFlag</span>   <span class='hs-varid'>f</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>upd</span> <span class='hs-layout'>(</span><span class='hs-varid'>setGeneralFlag'</span> <span class='hs-varid'>f</span><span class='hs-layout'>)</span>
<a name="line-3224"></a><a name="unSetGeneralFlag"></a><span class='hs-definition'>unSetGeneralFlag</span> <span class='hs-varid'>f</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>upd</span> <span class='hs-layout'>(</span><span class='hs-varid'>unSetGeneralFlag'</span> <span class='hs-varid'>f</span><span class='hs-layout'>)</span>
<a name="line-3225"></a>
<a name="line-3226"></a><a name="setGeneralFlag'"></a><span class='hs-definition'>setGeneralFlag'</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>GeneralFlag</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span>
<a name="line-3227"></a><span class='hs-definition'>setGeneralFlag'</span> <span class='hs-varid'>f</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>gopt_set</span> <span class='hs-varid'>dflags</span> <span class='hs-varid'>f</span>
<a name="line-3228"></a><a name="unSetGeneralFlag'"></a><span class='hs-definition'>unSetGeneralFlag'</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>GeneralFlag</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span>
<a name="line-3229"></a><span class='hs-definition'>unSetGeneralFlag'</span> <span class='hs-varid'>f</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>gopt_unset</span> <span class='hs-varid'>dflags</span> <span class='hs-varid'>f</span>
<a name="line-3230"></a>
<a name="line-3231"></a><a name="setWarningFlag"></a><span class='hs-comment'>--------------------------</span>
<a name="line-3232"></a><span class='hs-definition'>setWarningFlag</span><span class='hs-layout'>,</span> <span class='hs-varid'>unSetWarningFlag</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>WarningFlag</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynP</span> <span class='hs-conid'>()</span>
<a name="line-3233"></a><span class='hs-definition'>setWarningFlag</span>   <span class='hs-varid'>f</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>upd</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>dfs</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>wopt_set</span> <span class='hs-varid'>dfs</span> <span class='hs-varid'>f</span><span class='hs-layout'>)</span>
<a name="line-3234"></a><a name="unSetWarningFlag"></a><span class='hs-definition'>unSetWarningFlag</span> <span class='hs-varid'>f</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>upd</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>dfs</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>wopt_unset</span> <span class='hs-varid'>dfs</span> <span class='hs-varid'>f</span><span class='hs-layout'>)</span>
<a name="line-3235"></a>
<a name="line-3236"></a><a name="setExtensionFlag"></a><span class='hs-comment'>--------------------------</span>
<a name="line-3237"></a><span class='hs-definition'>setExtensionFlag</span><span class='hs-layout'>,</span> <span class='hs-varid'>unSetExtensionFlag</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>ExtensionFlag</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynP</span> <span class='hs-conid'>()</span>
<a name="line-3238"></a><span class='hs-definition'>setExtensionFlag</span> <span class='hs-varid'>f</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>upd</span> <span class='hs-layout'>(</span><span class='hs-varid'>setExtensionFlag'</span> <span class='hs-varid'>f</span><span class='hs-layout'>)</span>
<a name="line-3239"></a><a name="unSetExtensionFlag"></a><span class='hs-definition'>unSetExtensionFlag</span> <span class='hs-varid'>f</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>upd</span> <span class='hs-layout'>(</span><span class='hs-varid'>unSetExtensionFlag'</span> <span class='hs-varid'>f</span><span class='hs-layout'>)</span>
<a name="line-3240"></a>
<a name="line-3241"></a><a name="setExtensionFlag'"></a><span class='hs-definition'>setExtensionFlag'</span><span class='hs-layout'>,</span> <span class='hs-varid'>unSetExtensionFlag'</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>ExtensionFlag</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span>
<a name="line-3242"></a><span class='hs-definition'>setExtensionFlag'</span> <span class='hs-varid'>f</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>foldr</span> <span class='hs-layout'>(</span><span class='hs-varop'>$</span><span class='hs-layout'>)</span> <span class='hs-layout'>(</span><span class='hs-varid'>xopt_set</span> <span class='hs-varid'>dflags</span> <span class='hs-varid'>f</span><span class='hs-layout'>)</span> <span class='hs-varid'>deps</span>
<a name="line-3243"></a>  <span class='hs-keyword'>where</span>
<a name="line-3244"></a>    <span class='hs-varid'>deps</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyglyph'>[</span> <span class='hs-keyword'>if</span> <span class='hs-varid'>turn_on</span> <span class='hs-keyword'>then</span> <span class='hs-varid'>setExtensionFlag'</span>   <span class='hs-varid'>d</span>
<a name="line-3245"></a>                        <span class='hs-keyword'>else</span> <span class='hs-varid'>unSetExtensionFlag'</span> <span class='hs-varid'>d</span>
<a name="line-3246"></a>           <span class='hs-keyglyph'>|</span> <span class='hs-layout'>(</span><span class='hs-varid'>f'</span><span class='hs-layout'>,</span> <span class='hs-varid'>turn_on</span><span class='hs-layout'>,</span> <span class='hs-varid'>d</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>&lt;-</span> <span class='hs-varid'>impliedFlags</span><span class='hs-layout'>,</span> <span class='hs-varid'>f'</span> <span class='hs-varop'>==</span> <span class='hs-varid'>f</span> <span class='hs-keyglyph'>]</span>
<a name="line-3247"></a>        <span class='hs-comment'>-- When you set f, set the ones it implies</span>
<a name="line-3248"></a>        <span class='hs-comment'>-- NB: use setExtensionFlag recursively, in case the implied flags</span>
<a name="line-3249"></a>        <span class='hs-comment'>--     implies further flags</span>
<a name="line-3250"></a>
<a name="line-3251"></a><a name="unSetExtensionFlag'"></a><span class='hs-definition'>unSetExtensionFlag'</span> <span class='hs-varid'>f</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>xopt_unset</span> <span class='hs-varid'>dflags</span> <span class='hs-varid'>f</span>
<a name="line-3252"></a>   <span class='hs-comment'>-- When you un-set f, however, we don't un-set the things it implies</span>
<a name="line-3253"></a>   <span class='hs-comment'>--      (except for -fno-glasgow-exts, which is treated specially)</span>
<a name="line-3254"></a>
<a name="line-3255"></a><a name="alterSettings"></a><span class='hs-comment'>--------------------------</span>
<a name="line-3256"></a><span class='hs-definition'>alterSettings</span> <span class='hs-keyglyph'>::</span> <span class='hs-layout'>(</span><span class='hs-conid'>Settings</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Settings</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span>
<a name="line-3257"></a><span class='hs-definition'>alterSettings</span> <span class='hs-varid'>f</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>dflags</span> <span class='hs-layout'>{</span> <span class='hs-varid'>settings</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>f</span> <span class='hs-layout'>(</span><span class='hs-varid'>settings</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span> <span class='hs-layout'>}</span>
<a name="line-3258"></a>
<a name="line-3259"></a><a name="setDumpFlag'"></a><span class='hs-comment'>--------------------------</span>
<a name="line-3260"></a><span class='hs-definition'>setDumpFlag'</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DumpFlag</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynP</span> <span class='hs-conid'>()</span>
<a name="line-3261"></a><span class='hs-definition'>setDumpFlag'</span> <span class='hs-varid'>dump_flag</span>
<a name="line-3262"></a>  <span class='hs-keyglyph'>=</span> <span class='hs-keyword'>do</span> <span class='hs-varid'>upd</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>dfs</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>dopt_set</span> <span class='hs-varid'>dfs</span> <span class='hs-varid'>dump_flag</span><span class='hs-layout'>)</span>
<a name="line-3263"></a>       <span class='hs-varid'>when</span> <span class='hs-varid'>want_recomp</span> <span class='hs-varid'>forceRecompile</span>
<a name="line-3264"></a>    <span class='hs-keyword'>where</span> <span class='hs-comment'>-- Certain dumpy-things are really interested in what's going</span>
<a name="line-3265"></a>          <span class='hs-comment'>-- on during recompilation checking, so in those cases we</span>
<a name="line-3266"></a>          <span class='hs-comment'>-- don't want to turn it off.</span>
<a name="line-3267"></a>          <span class='hs-varid'>want_recomp</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>dump_flag</span> <span class='hs-varop'>`notElem`</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>Opt_D_dump_if_trace</span><span class='hs-layout'>,</span>
<a name="line-3268"></a>                                             <span class='hs-conid'>Opt_D_dump_hi_diffs</span><span class='hs-keyglyph'>]</span>
<a name="line-3269"></a>
<a name="line-3270"></a><a name="forceRecompile"></a><span class='hs-definition'>forceRecompile</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynP</span> <span class='hs-conid'>()</span>
<a name="line-3271"></a><span class='hs-comment'>-- Whenver we -ddump, force recompilation (by switching off the</span>
<a name="line-3272"></a><span class='hs-comment'>-- recompilation checker), else you don't see the dump! However,</span>
<a name="line-3273"></a><span class='hs-comment'>-- don't switch it off in --make mode, else *everything* gets</span>
<a name="line-3274"></a><span class='hs-comment'>-- recompiled which probably isn't what you want</span>
<a name="line-3275"></a><span class='hs-definition'>forceRecompile</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyword'>do</span> <span class='hs-varid'>dfs</span> <span class='hs-keyglyph'>&lt;-</span> <span class='hs-varid'>liftEwM</span> <span class='hs-varid'>getCmdLineState</span>
<a name="line-3276"></a>                    <span class='hs-varid'>when</span> <span class='hs-layout'>(</span><span class='hs-varid'>force_recomp</span> <span class='hs-varid'>dfs</span><span class='hs-layout'>)</span> <span class='hs-layout'>(</span><span class='hs-varid'>setGeneralFlag</span> <span class='hs-conid'>Opt_ForceRecomp</span><span class='hs-layout'>)</span>
<a name="line-3277"></a>        <span class='hs-keyword'>where</span>
<a name="line-3278"></a>          <span class='hs-varid'>force_recomp</span> <span class='hs-varid'>dfs</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>isOneShot</span> <span class='hs-layout'>(</span><span class='hs-varid'>ghcMode</span> <span class='hs-varid'>dfs</span><span class='hs-layout'>)</span>
<a name="line-3279"></a><a name="setVerboseCore2Core"></a><span class='hs-definition'>setVerboseCore2Core</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynP</span> <span class='hs-conid'>()</span>
<a name="line-3280"></a><span class='hs-definition'>setVerboseCore2Core</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyword'>do</span> <span class='hs-varid'>setDumpFlag'</span> <span class='hs-conid'>Opt_D_verbose_core2core</span>
<a name="line-3281"></a>                         <span class='hs-varid'>upd</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>dfs</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>dfs</span> <span class='hs-layout'>{</span> <span class='hs-varid'>shouldDumpSimplPhase</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Nothing</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span>
<a name="line-3282"></a>
<a name="line-3283"></a><a name="setDumpSimplPhases"></a><span class='hs-definition'>setDumpSimplPhases</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>String</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynP</span> <span class='hs-conid'>()</span>
<a name="line-3284"></a><span class='hs-definition'>setDumpSimplPhases</span> <span class='hs-varid'>s</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyword'>do</span> <span class='hs-varid'>forceRecompile</span>
<a name="line-3285"></a>                          <span class='hs-varid'>upd</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>dfs</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>dfs</span> <span class='hs-layout'>{</span> <span class='hs-varid'>shouldDumpSimplPhase</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Just</span> <span class='hs-varid'>spec</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span>
<a name="line-3286"></a>  <span class='hs-keyword'>where</span>
<a name="line-3287"></a>    <span class='hs-varid'>spec</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyword'>case</span> <span class='hs-varid'>s</span> <span class='hs-keyword'>of</span> <span class='hs-layout'>{</span> <span class='hs-layout'>(</span><span class='hs-chr'>'='</span> <span class='hs-conop'>:</span> <span class='hs-varid'>s'</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>s'</span><span class='hs-layout'>;</span>  <span class='hs-keyword'>_</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>s</span> <span class='hs-layout'>}</span>
<a name="line-3288"></a>
<a name="line-3289"></a><a name="setVerbosity"></a><span class='hs-definition'>setVerbosity</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Maybe</span> <span class='hs-conid'>Int</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynP</span> <span class='hs-conid'>()</span>
<a name="line-3290"></a><span class='hs-definition'>setVerbosity</span> <span class='hs-varid'>mb_n</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>upd</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>dfs</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>dfs</span><span class='hs-layout'>{</span> <span class='hs-varid'>verbosity</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mb_n</span> <span class='hs-varop'>`orElse`</span> <span class='hs-num'>3</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span>
<a name="line-3291"></a>
<a name="line-3292"></a><a name="addCmdlineHCInclude"></a><span class='hs-definition'>addCmdlineHCInclude</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>String</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynP</span> <span class='hs-conid'>()</span>
<a name="line-3293"></a><span class='hs-definition'>addCmdlineHCInclude</span> <span class='hs-varid'>a</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>upd</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>s</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>s</span><span class='hs-layout'>{</span><span class='hs-varid'>cmdlineHcIncludes</span> <span class='hs-keyglyph'>=</span>  <span class='hs-varid'>a</span> <span class='hs-conop'>:</span> <span class='hs-varid'>cmdlineHcIncludes</span> <span class='hs-varid'>s</span><span class='hs-layout'>}</span><span class='hs-layout'>)</span>
<a name="line-3294"></a>
<a name="line-3295"></a><a name="PkgConfRef"></a><span class='hs-keyword'>data</span> <span class='hs-conid'>PkgConfRef</span>
<a name="line-3296"></a>  <span class='hs-keyglyph'>=</span> <span class='hs-conid'>GlobalPkgConf</span>
<a name="line-3297"></a>  <span class='hs-keyglyph'>|</span> <span class='hs-conid'>UserPkgConf</span>
<a name="line-3298"></a>  <span class='hs-keyglyph'>|</span> <span class='hs-conid'>PkgConfFile</span> <span class='hs-conid'>FilePath</span>
<a name="line-3299"></a>
<a name="line-3300"></a><a name="addPkgConfRef"></a><span class='hs-definition'>addPkgConfRef</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>PkgConfRef</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynP</span> <span class='hs-conid'>()</span>
<a name="line-3301"></a><span class='hs-definition'>addPkgConfRef</span> <span class='hs-varid'>p</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>upd</span> <span class='hs-varop'>$</span> <span class='hs-keyglyph'>\</span><span class='hs-varid'>s</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>s</span> <span class='hs-layout'>{</span> <span class='hs-varid'>extraPkgConfs</span> <span class='hs-keyglyph'>=</span> <span class='hs-layout'>(</span><span class='hs-varid'>p</span><span class='hs-conop'>:</span><span class='hs-layout'>)</span> <span class='hs-varop'>.</span> <span class='hs-varid'>extraPkgConfs</span> <span class='hs-varid'>s</span> <span class='hs-layout'>}</span>
<a name="line-3302"></a>
<a name="line-3303"></a><a name="removeUserPkgConf"></a><span class='hs-definition'>removeUserPkgConf</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynP</span> <span class='hs-conid'>()</span>
<a name="line-3304"></a><span class='hs-definition'>removeUserPkgConf</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>upd</span> <span class='hs-varop'>$</span> <span class='hs-keyglyph'>\</span><span class='hs-varid'>s</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>s</span> <span class='hs-layout'>{</span> <span class='hs-varid'>extraPkgConfs</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>filter</span> <span class='hs-varid'>isNotUser</span> <span class='hs-varop'>.</span> <span class='hs-varid'>extraPkgConfs</span> <span class='hs-varid'>s</span> <span class='hs-layout'>}</span>
<a name="line-3305"></a>  <span class='hs-keyword'>where</span>
<a name="line-3306"></a>    <span class='hs-varid'>isNotUser</span> <span class='hs-conid'>UserPkgConf</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>False</span>
<a name="line-3307"></a>    <span class='hs-varid'>isNotUser</span> <span class='hs-keyword'>_</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>True</span>
<a name="line-3308"></a>
<a name="line-3309"></a><a name="removeGlobalPkgConf"></a><span class='hs-definition'>removeGlobalPkgConf</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynP</span> <span class='hs-conid'>()</span>
<a name="line-3310"></a><span class='hs-definition'>removeGlobalPkgConf</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>upd</span> <span class='hs-varop'>$</span> <span class='hs-keyglyph'>\</span><span class='hs-varid'>s</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>s</span> <span class='hs-layout'>{</span> <span class='hs-varid'>extraPkgConfs</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>filter</span> <span class='hs-varid'>isNotGlobal</span> <span class='hs-varop'>.</span> <span class='hs-varid'>extraPkgConfs</span> <span class='hs-varid'>s</span> <span class='hs-layout'>}</span>
<a name="line-3311"></a>  <span class='hs-keyword'>where</span>
<a name="line-3312"></a>    <span class='hs-varid'>isNotGlobal</span> <span class='hs-conid'>GlobalPkgConf</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>False</span>
<a name="line-3313"></a>    <span class='hs-varid'>isNotGlobal</span> <span class='hs-keyword'>_</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>True</span>
<a name="line-3314"></a>
<a name="line-3315"></a><a name="clearPkgConf"></a><span class='hs-definition'>clearPkgConf</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynP</span> <span class='hs-conid'>()</span>
<a name="line-3316"></a><span class='hs-definition'>clearPkgConf</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>upd</span> <span class='hs-varop'>$</span> <span class='hs-keyglyph'>\</span><span class='hs-varid'>s</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>s</span> <span class='hs-layout'>{</span> <span class='hs-varid'>extraPkgConfs</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>const</span> <span class='hs-conid'>[]</span> <span class='hs-layout'>}</span>
<a name="line-3317"></a>
<a name="line-3318"></a><a name="exposePackage"></a><span class='hs-definition'>exposePackage</span><span class='hs-layout'>,</span> <span class='hs-varid'>exposePackageId</span><span class='hs-layout'>,</span> <span class='hs-varid'>hidePackage</span><span class='hs-layout'>,</span> <span class='hs-varid'>ignorePackage</span><span class='hs-layout'>,</span>
<a name="line-3319"></a>        <span class='hs-varid'>trustPackage</span><span class='hs-layout'>,</span> <span class='hs-varid'>distrustPackage</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>String</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynP</span> <span class='hs-conid'>()</span>
<a name="line-3320"></a><span class='hs-definition'>exposePackage</span> <span class='hs-varid'>p</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>upd</span> <span class='hs-layout'>(</span><span class='hs-varid'>exposePackage'</span> <span class='hs-varid'>p</span><span class='hs-layout'>)</span>
<a name="line-3321"></a><a name="exposePackageId"></a><span class='hs-definition'>exposePackageId</span> <span class='hs-varid'>p</span> <span class='hs-keyglyph'>=</span>
<a name="line-3322"></a>  <span class='hs-varid'>upd</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>s</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>s</span><span class='hs-layout'>{</span> <span class='hs-varid'>packageFlags</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>ExposePackageId</span> <span class='hs-varid'>p</span> <span class='hs-conop'>:</span> <span class='hs-varid'>packageFlags</span> <span class='hs-varid'>s</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span>
<a name="line-3323"></a><a name="hidePackage"></a><span class='hs-definition'>hidePackage</span> <span class='hs-varid'>p</span> <span class='hs-keyglyph'>=</span>
<a name="line-3324"></a>  <span class='hs-varid'>upd</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>s</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>s</span><span class='hs-layout'>{</span> <span class='hs-varid'>packageFlags</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>HidePackage</span> <span class='hs-varid'>p</span> <span class='hs-conop'>:</span> <span class='hs-varid'>packageFlags</span> <span class='hs-varid'>s</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span>
<a name="line-3325"></a><a name="ignorePackage"></a><span class='hs-definition'>ignorePackage</span> <span class='hs-varid'>p</span> <span class='hs-keyglyph'>=</span>
<a name="line-3326"></a>  <span class='hs-varid'>upd</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>s</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>s</span><span class='hs-layout'>{</span> <span class='hs-varid'>packageFlags</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>IgnorePackage</span> <span class='hs-varid'>p</span> <span class='hs-conop'>:</span> <span class='hs-varid'>packageFlags</span> <span class='hs-varid'>s</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span>
<a name="line-3327"></a><a name="trustPackage"></a><span class='hs-definition'>trustPackage</span> <span class='hs-varid'>p</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>exposePackage</span> <span class='hs-varid'>p</span> <span class='hs-varop'>&gt;&gt;</span> <span class='hs-comment'>-- both trust and distrust also expose a package</span>
<a name="line-3328"></a>  <span class='hs-varid'>upd</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>s</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>s</span><span class='hs-layout'>{</span> <span class='hs-varid'>packageFlags</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>TrustPackage</span> <span class='hs-varid'>p</span> <span class='hs-conop'>:</span> <span class='hs-varid'>packageFlags</span> <span class='hs-varid'>s</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span>
<a name="line-3329"></a><a name="distrustPackage"></a><span class='hs-definition'>distrustPackage</span> <span class='hs-varid'>p</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>exposePackage</span> <span class='hs-varid'>p</span> <span class='hs-varop'>&gt;&gt;</span>
<a name="line-3330"></a>  <span class='hs-varid'>upd</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>s</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>s</span><span class='hs-layout'>{</span> <span class='hs-varid'>packageFlags</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>DistrustPackage</span> <span class='hs-varid'>p</span> <span class='hs-conop'>:</span> <span class='hs-varid'>packageFlags</span> <span class='hs-varid'>s</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span>
<a name="line-3331"></a>
<a name="line-3332"></a><a name="exposePackage'"></a><span class='hs-definition'>exposePackage'</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>String</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span>
<a name="line-3333"></a><span class='hs-definition'>exposePackage'</span> <span class='hs-varid'>p</span> <span class='hs-varid'>dflags</span>
<a name="line-3334"></a>    <span class='hs-keyglyph'>=</span> <span class='hs-varid'>dflags</span> <span class='hs-layout'>{</span> <span class='hs-varid'>packageFlags</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>ExposePackage</span> <span class='hs-varid'>p</span> <span class='hs-conop'>:</span> <span class='hs-varid'>packageFlags</span> <span class='hs-varid'>dflags</span> <span class='hs-layout'>}</span>
<a name="line-3335"></a>
<a name="line-3336"></a><a name="setPackageName"></a><span class='hs-definition'>setPackageName</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>String</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span>
<a name="line-3337"></a><span class='hs-definition'>setPackageName</span> <span class='hs-varid'>p</span> <span class='hs-varid'>s</span> <span class='hs-keyglyph'>=</span>  <span class='hs-varid'>s</span><span class='hs-layout'>{</span> <span class='hs-varid'>thisPackage</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>stringToPackageId</span> <span class='hs-varid'>p</span> <span class='hs-layout'>}</span>
<a name="line-3338"></a>
<a name="line-3339"></a><a name="setTarget"></a><span class='hs-comment'>-- If we're linking a binary, then only targets that produce object</span>
<a name="line-3340"></a><span class='hs-comment'>-- code are allowed (requests for other target types are ignored).</span>
<a name="line-3341"></a><span class='hs-definition'>setTarget</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>HscTarget</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynP</span> <span class='hs-conid'>()</span>
<a name="line-3342"></a><span class='hs-definition'>setTarget</span> <span class='hs-varid'>l</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>setTargetWithPlatform</span> <span class='hs-layout'>(</span><span class='hs-varid'>const</span> <span class='hs-varid'>l</span><span class='hs-layout'>)</span>
<a name="line-3343"></a>
<a name="line-3344"></a><a name="setTargetWithPlatform"></a><span class='hs-definition'>setTargetWithPlatform</span> <span class='hs-keyglyph'>::</span> <span class='hs-layout'>(</span><span class='hs-conid'>Platform</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>HscTarget</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynP</span> <span class='hs-conid'>()</span>
<a name="line-3345"></a><span class='hs-definition'>setTargetWithPlatform</span> <span class='hs-varid'>f</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>upd</span> <span class='hs-varid'>set</span>
<a name="line-3346"></a>  <span class='hs-keyword'>where</span>
<a name="line-3347"></a>   <span class='hs-varid'>set</span> <span class='hs-varid'>dfs</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyword'>let</span> <span class='hs-varid'>l</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>f</span> <span class='hs-layout'>(</span><span class='hs-varid'>targetPlatform</span> <span class='hs-varid'>dfs</span><span class='hs-layout'>)</span>
<a name="line-3348"></a>             <span class='hs-keyword'>in</span> <span class='hs-keyword'>if</span> <span class='hs-varid'>ghcLink</span> <span class='hs-varid'>dfs</span> <span class='hs-varop'>/=</span> <span class='hs-conid'>LinkBinary</span> <span class='hs-varop'>||</span> <span class='hs-varid'>isObjectTarget</span> <span class='hs-varid'>l</span>
<a name="line-3349"></a>                <span class='hs-keyword'>then</span> <span class='hs-varid'>dfs</span><span class='hs-layout'>{</span> <span class='hs-varid'>hscTarget</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>l</span> <span class='hs-layout'>}</span>
<a name="line-3350"></a>                <span class='hs-keyword'>else</span> <span class='hs-varid'>dfs</span>
<a name="line-3351"></a>
<a name="line-3352"></a><a name="setObjTarget"></a><span class='hs-comment'>-- Changes the target only if we're compiling object code.  This is</span>
<a name="line-3353"></a><span class='hs-comment'>-- used by -fasm and -fllvm, which switch from one to the other, but</span>
<a name="line-3354"></a><span class='hs-comment'>-- not from bytecode to object-code.  The idea is that -fasm/-fllvm</span>
<a name="line-3355"></a><span class='hs-comment'>-- can be safely used in an OPTIONS_GHC pragma.</span>
<a name="line-3356"></a><span class='hs-definition'>setObjTarget</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>HscTarget</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynP</span> <span class='hs-conid'>()</span>
<a name="line-3357"></a><span class='hs-definition'>setObjTarget</span> <span class='hs-varid'>l</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>updM</span> <span class='hs-varid'>set</span>
<a name="line-3358"></a>  <span class='hs-keyword'>where</span>
<a name="line-3359"></a>   <span class='hs-varid'>set</span> <span class='hs-varid'>dflags</span>
<a name="line-3360"></a>     <span class='hs-keyglyph'>|</span> <span class='hs-varid'>isObjectTarget</span> <span class='hs-layout'>(</span><span class='hs-varid'>hscTarget</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span>
<a name="line-3361"></a>       <span class='hs-keyglyph'>=</span> <span class='hs-varid'>return</span> <span class='hs-varop'>$</span> <span class='hs-varid'>dflags</span> <span class='hs-layout'>{</span> <span class='hs-varid'>hscTarget</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>l</span> <span class='hs-layout'>}</span>
<a name="line-3362"></a>     <span class='hs-keyglyph'>|</span> <span class='hs-varid'>otherwise</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>return</span> <span class='hs-varid'>dflags</span>
<a name="line-3363"></a>
<a name="line-3364"></a><a name="setOptLevel"></a><span class='hs-definition'>setOptLevel</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Int</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynP</span> <span class='hs-conid'>DynFlags</span>
<a name="line-3365"></a><span class='hs-definition'>setOptLevel</span> <span class='hs-varid'>n</span> <span class='hs-varid'>dflags</span>
<a name="line-3366"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-varid'>hscTarget</span> <span class='hs-varid'>dflags</span> <span class='hs-varop'>==</span> <span class='hs-conid'>HscInterpreted</span> <span class='hs-varop'>&amp;&amp;</span> <span class='hs-varid'>n</span> <span class='hs-varop'>&gt;</span> <span class='hs-num'>0</span>
<a name="line-3367"></a>        <span class='hs-keyglyph'>=</span> <span class='hs-keyword'>do</span> <span class='hs-varid'>addWarn</span> <span class='hs-str'>"-O conflicts with --interactive; -O ignored."</span>
<a name="line-3368"></a>             <span class='hs-varid'>return</span> <span class='hs-varid'>dflags</span>
<a name="line-3369"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-varid'>otherwise</span>
<a name="line-3370"></a>        <span class='hs-keyglyph'>=</span> <span class='hs-varid'>return</span> <span class='hs-layout'>(</span><span class='hs-varid'>updOptLevel</span> <span class='hs-varid'>n</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span>
<a name="line-3371"></a>
<a name="line-3372"></a>
<a name="line-3373"></a><a name="setDPHOpt"></a><span class='hs-comment'>-- -Odph is equivalent to</span>
<a name="line-3374"></a><span class='hs-comment'>--</span>
<a name="line-3375"></a><span class='hs-comment'>--    -O2                               optimise as much as possible</span>
<a name="line-3376"></a><span class='hs-comment'>--    -fmax-simplifier-iterations20     this is necessary sometimes</span>
<a name="line-3377"></a><span class='hs-comment'>--    -fsimplifier-phases=3             we use an additional simplifier phase for fusion</span>
<a name="line-3378"></a><span class='hs-comment'>--</span>
<a name="line-3379"></a><span class='hs-definition'>setDPHOpt</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynP</span> <span class='hs-conid'>DynFlags</span>
<a name="line-3380"></a><span class='hs-definition'>setDPHOpt</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>setOptLevel</span> <span class='hs-num'>2</span> <span class='hs-layout'>(</span><span class='hs-varid'>dflags</span> <span class='hs-layout'>{</span> <span class='hs-varid'>maxSimplIterations</span>  <span class='hs-keyglyph'>=</span> <span class='hs-num'>20</span>
<a name="line-3381"></a>                                         <span class='hs-layout'>,</span> <span class='hs-varid'>simplPhases</span>         <span class='hs-keyglyph'>=</span> <span class='hs-num'>3</span>
<a name="line-3382"></a>                                         <span class='hs-layout'>}</span><span class='hs-layout'>)</span>
<a name="line-3383"></a>
<a name="line-3384"></a><a name="setMainIs"></a><span class='hs-definition'>setMainIs</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>String</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynP</span> <span class='hs-conid'>()</span>
<a name="line-3385"></a><span class='hs-definition'>setMainIs</span> <span class='hs-varid'>arg</span>
<a name="line-3386"></a>  <span class='hs-keyglyph'>|</span> <span class='hs-varid'>not</span> <span class='hs-layout'>(</span><span class='hs-varid'>null</span> <span class='hs-varid'>main_fn</span><span class='hs-layout'>)</span> <span class='hs-varop'>&amp;&amp;</span> <span class='hs-varid'>isLower</span> <span class='hs-layout'>(</span><span class='hs-varid'>head</span> <span class='hs-varid'>main_fn</span><span class='hs-layout'>)</span>
<a name="line-3387"></a>     <span class='hs-comment'>-- The arg looked like "Foo.Bar.baz"</span>
<a name="line-3388"></a>  <span class='hs-keyglyph'>=</span> <span class='hs-varid'>upd</span> <span class='hs-varop'>$</span> <span class='hs-keyglyph'>\</span><span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span><span class='hs-layout'>{</span> <span class='hs-varid'>mainFunIs</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Just</span> <span class='hs-varid'>main_fn</span><span class='hs-layout'>,</span>
<a name="line-3389"></a>                   <span class='hs-varid'>mainModIs</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkModule</span> <span class='hs-varid'>mainPackageId</span> <span class='hs-layout'>(</span><span class='hs-varid'>mkModuleName</span> <span class='hs-varid'>main_mod</span><span class='hs-layout'>)</span> <span class='hs-layout'>}</span>
<a name="line-3390"></a>
<a name="line-3391"></a>  <span class='hs-keyglyph'>|</span> <span class='hs-varid'>isUpper</span> <span class='hs-layout'>(</span><span class='hs-varid'>head</span> <span class='hs-varid'>arg</span><span class='hs-layout'>)</span>  <span class='hs-comment'>-- The arg looked like "Foo" or "Foo.Bar"</span>
<a name="line-3392"></a>  <span class='hs-keyglyph'>=</span> <span class='hs-varid'>upd</span> <span class='hs-varop'>$</span> <span class='hs-keyglyph'>\</span><span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span><span class='hs-layout'>{</span> <span class='hs-varid'>mainModIs</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkModule</span> <span class='hs-varid'>mainPackageId</span> <span class='hs-layout'>(</span><span class='hs-varid'>mkModuleName</span> <span class='hs-varid'>arg</span><span class='hs-layout'>)</span> <span class='hs-layout'>}</span>
<a name="line-3393"></a>
<a name="line-3394"></a>  <span class='hs-keyglyph'>|</span> <span class='hs-varid'>otherwise</span>                   <span class='hs-comment'>-- The arg looked like "baz"</span>
<a name="line-3395"></a>  <span class='hs-keyglyph'>=</span> <span class='hs-varid'>upd</span> <span class='hs-varop'>$</span> <span class='hs-keyglyph'>\</span><span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span><span class='hs-layout'>{</span> <span class='hs-varid'>mainFunIs</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Just</span> <span class='hs-varid'>arg</span> <span class='hs-layout'>}</span>
<a name="line-3396"></a>  <span class='hs-keyword'>where</span>
<a name="line-3397"></a>    <span class='hs-layout'>(</span><span class='hs-varid'>main_mod</span><span class='hs-layout'>,</span> <span class='hs-varid'>main_fn</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>splitLongestPrefix</span> <span class='hs-varid'>arg</span> <span class='hs-layout'>(</span><span class='hs-varop'>==</span> <span class='hs-chr'>'.'</span><span class='hs-layout'>)</span>
<a name="line-3398"></a>
<a name="line-3399"></a><a name="addLdInputs"></a><span class='hs-definition'>addLdInputs</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Option</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span>
<a name="line-3400"></a><span class='hs-definition'>addLdInputs</span> <span class='hs-varid'>p</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>{</span><span class='hs-varid'>ldInputs</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>ldInputs</span> <span class='hs-varid'>dflags</span> <span class='hs-varop'>++</span> <span class='hs-keyglyph'>[</span><span class='hs-varid'>p</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>}</span>
<a name="line-3401"></a>
<a name="line-3402"></a><span class='hs-comment'>-----------------------------------------------------------------------------</span>
<a name="line-3403"></a><span class='hs-comment'>-- Paths &amp; Libraries</span>
<a name="line-3404"></a>
<a name="line-3405"></a><a name="addImportPath"></a><span class='hs-definition'>addImportPath</span><span class='hs-layout'>,</span> <span class='hs-varid'>addLibraryPath</span><span class='hs-layout'>,</span> <span class='hs-varid'>addIncludePath</span><span class='hs-layout'>,</span> <span class='hs-varid'>addFrameworkPath</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>FilePath</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynP</span> <span class='hs-conid'>()</span>
<a name="line-3406"></a>
<a name="line-3407"></a><span class='hs-comment'>-- -i on its own deletes the import paths</span>
<a name="line-3408"></a><span class='hs-definition'>addImportPath</span> <span class='hs-str'>""</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>upd</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>s</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>s</span><span class='hs-layout'>{</span><span class='hs-varid'>importPaths</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>[]</span><span class='hs-layout'>}</span><span class='hs-layout'>)</span>
<a name="line-3409"></a><span class='hs-definition'>addImportPath</span> <span class='hs-varid'>p</span>  <span class='hs-keyglyph'>=</span> <span class='hs-varid'>upd</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>s</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>s</span><span class='hs-layout'>{</span><span class='hs-varid'>importPaths</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>importPaths</span> <span class='hs-varid'>s</span> <span class='hs-varop'>++</span> <span class='hs-varid'>splitPathList</span> <span class='hs-varid'>p</span><span class='hs-layout'>}</span><span class='hs-layout'>)</span>
<a name="line-3410"></a>
<a name="line-3411"></a><a name="addLibraryPath"></a><span class='hs-definition'>addLibraryPath</span> <span class='hs-varid'>p</span> <span class='hs-keyglyph'>=</span>
<a name="line-3412"></a>  <span class='hs-varid'>upd</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>s</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>s</span><span class='hs-layout'>{</span><span class='hs-varid'>libraryPaths</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>libraryPaths</span> <span class='hs-varid'>s</span> <span class='hs-varop'>++</span> <span class='hs-varid'>splitPathList</span> <span class='hs-varid'>p</span><span class='hs-layout'>}</span><span class='hs-layout'>)</span>
<a name="line-3413"></a>
<a name="line-3414"></a><a name="addIncludePath"></a><span class='hs-definition'>addIncludePath</span> <span class='hs-varid'>p</span> <span class='hs-keyglyph'>=</span>
<a name="line-3415"></a>  <span class='hs-varid'>upd</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>s</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>s</span><span class='hs-layout'>{</span><span class='hs-varid'>includePaths</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>includePaths</span> <span class='hs-varid'>s</span> <span class='hs-varop'>++</span> <span class='hs-varid'>splitPathList</span> <span class='hs-varid'>p</span><span class='hs-layout'>}</span><span class='hs-layout'>)</span>
<a name="line-3416"></a>
<a name="line-3417"></a><a name="addFrameworkPath"></a><span class='hs-definition'>addFrameworkPath</span> <span class='hs-varid'>p</span> <span class='hs-keyglyph'>=</span>
<a name="line-3418"></a>  <span class='hs-varid'>upd</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>s</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>s</span><span class='hs-layout'>{</span><span class='hs-varid'>frameworkPaths</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>frameworkPaths</span> <span class='hs-varid'>s</span> <span class='hs-varop'>++</span> <span class='hs-varid'>splitPathList</span> <span class='hs-varid'>p</span><span class='hs-layout'>}</span><span class='hs-layout'>)</span>
<a name="line-3419"></a>
<a name="line-3420"></a><span class='hs-cpp'>#ifndef mingw32_TARGET_OS</span>
<a name="line-3421"></a><a name="split_marker"></a><span class='hs-definition'>split_marker</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Char</span>
<a name="line-3422"></a><span class='hs-definition'>split_marker</span> <span class='hs-keyglyph'>=</span> <span class='hs-chr'>':'</span>   <span class='hs-comment'>-- not configurable (ToDo)</span>
<a name="line-3423"></a><span class='hs-cpp'>#endif</span>
<a name="line-3424"></a>
<a name="line-3425"></a><a name="splitPathList"></a><span class='hs-definition'>splitPathList</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>String</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>String</span><span class='hs-keyglyph'>]</span>
<a name="line-3426"></a><span class='hs-definition'>splitPathList</span> <span class='hs-varid'>s</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>filter</span> <span class='hs-varid'>notNull</span> <span class='hs-layout'>(</span><span class='hs-varid'>splitUp</span> <span class='hs-varid'>s</span><span class='hs-layout'>)</span>
<a name="line-3427"></a>                <span class='hs-comment'>-- empty paths are ignored: there might be a trailing</span>
<a name="line-3428"></a>                <span class='hs-comment'>-- ':' in the initial list, for example.  Empty paths can</span>
<a name="line-3429"></a>                <span class='hs-comment'>-- cause confusion when they are translated into -I options</span>
<a name="line-3430"></a>                <span class='hs-comment'>-- for passing to gcc.</span>
<a name="line-3431"></a>  <span class='hs-keyword'>where</span>
<a name="line-3432"></a><span class='hs-cpp'>#ifndef mingw32_TARGET_OS</span>
<a name="line-3433"></a>    <span class='hs-varid'>splitUp</span> <span class='hs-varid'>xs</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>split</span> <span class='hs-varid'>split_marker</span> <span class='hs-varid'>xs</span>
<a name="line-3434"></a><span class='hs-cpp'>#else</span>
<a name="line-3435"></a>     <span class='hs-comment'>-- Windows: 'hybrid' support for DOS-style paths in directory lists.</span>
<a name="line-3436"></a>     <span class='hs-comment'>--</span>
<a name="line-3437"></a>     <span class='hs-comment'>-- That is, if "foo:bar:baz" is used, this interpreted as</span>
<a name="line-3438"></a>     <span class='hs-comment'>-- consisting of three entries, 'foo', 'bar', 'baz'.</span>
<a name="line-3439"></a>     <span class='hs-comment'>-- However, with "c:/foo:c:\\foo;x:/bar", this is interpreted</span>
<a name="line-3440"></a>     <span class='hs-comment'>-- as 3 elts, "c:/foo", "c:\\foo", "x:/bar"</span>
<a name="line-3441"></a>     <span class='hs-comment'>--</span>
<a name="line-3442"></a>     <span class='hs-comment'>-- Notice that no attempt is made to fully replace the 'standard'</span>
<a name="line-3443"></a>     <span class='hs-comment'>-- split marker ':' with the Windows / DOS one, ';'. The reason being</span>
<a name="line-3444"></a>     <span class='hs-comment'>-- that this will cause too much breakage for users &amp; ':' will</span>
<a name="line-3445"></a>     <span class='hs-comment'>-- work fine even with DOS paths, if you're not insisting on being silly.</span>
<a name="line-3446"></a>     <span class='hs-comment'>-- So, use either.</span>
<a name="line-3447"></a>    <span class='hs-varid'>splitUp</span> <span class='hs-conid'>[]</span>             <span class='hs-keyglyph'>=</span> <span class='hs-conid'>[]</span>
<a name="line-3448"></a>    <span class='hs-varid'>splitUp</span> <span class='hs-layout'>(</span><span class='hs-varid'>x</span><span class='hs-conop'>:</span><span class='hs-chr'>':'</span><span class='hs-conop'>:</span><span class='hs-varid'>div</span><span class='hs-conop'>:</span><span class='hs-varid'>xs</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>|</span> <span class='hs-varid'>div</span> <span class='hs-varop'>`elem`</span> <span class='hs-varid'>dir_markers</span>
<a name="line-3449"></a>                           <span class='hs-keyglyph'>=</span> <span class='hs-layout'>(</span><span class='hs-layout'>(</span><span class='hs-varid'>x</span><span class='hs-conop'>:</span><span class='hs-chr'>':'</span><span class='hs-conop'>:</span><span class='hs-varid'>div</span><span class='hs-conop'>:</span><span class='hs-varid'>p</span><span class='hs-layout'>)</span><span class='hs-conop'>:</span> <span class='hs-varid'>splitUp</span> <span class='hs-varid'>rs</span><span class='hs-layout'>)</span>
<a name="line-3450"></a>                           <span class='hs-keyword'>where</span>
<a name="line-3451"></a>                              <span class='hs-layout'>(</span><span class='hs-varid'>p</span><span class='hs-layout'>,</span><span class='hs-varid'>rs</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>findNextPath</span> <span class='hs-varid'>xs</span>
<a name="line-3452"></a>          <span class='hs-comment'>-- we used to check for existence of the path here, but that</span>
<a name="line-3453"></a>          <span class='hs-comment'>-- required the IO monad to be threaded through the command-line</span>
<a name="line-3454"></a>          <span class='hs-comment'>-- parser which is quite inconvenient.  The</span>
<a name="line-3455"></a>    <span class='hs-varid'>splitUp</span> <span class='hs-varid'>xs</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>cons</span> <span class='hs-varid'>p</span> <span class='hs-layout'>(</span><span class='hs-varid'>splitUp</span> <span class='hs-varid'>rs</span><span class='hs-layout'>)</span>
<a name="line-3456"></a>               <span class='hs-keyword'>where</span>
<a name="line-3457"></a>                 <span class='hs-layout'>(</span><span class='hs-varid'>p</span><span class='hs-layout'>,</span><span class='hs-varid'>rs</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>findNextPath</span> <span class='hs-varid'>xs</span>
<a name="line-3458"></a>
<a name="line-3459"></a>                 <span class='hs-varid'>cons</span> <span class='hs-str'>""</span> <span class='hs-varid'>xs</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>xs</span>
<a name="line-3460"></a>                 <span class='hs-varid'>cons</span> <span class='hs-varid'>x</span>  <span class='hs-varid'>xs</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>x</span><span class='hs-conop'>:</span><span class='hs-varid'>xs</span>
<a name="line-3461"></a>
<a name="line-3462"></a>    <span class='hs-comment'>-- will be called either when we've consumed nought or the</span>
<a name="line-3463"></a>    <span class='hs-comment'>-- "&lt;Drive&gt;:/" part of a DOS path, so splitting is just a Q of</span>
<a name="line-3464"></a>    <span class='hs-comment'>-- finding the next split marker.</span>
<a name="line-3465"></a>    <span class='hs-varid'>findNextPath</span> <span class='hs-varid'>xs</span> <span class='hs-keyglyph'>=</span>
<a name="line-3466"></a>        <span class='hs-keyword'>case</span> <span class='hs-varid'>break</span> <span class='hs-layout'>(</span><span class='hs-varop'>`elem`</span> <span class='hs-varid'>split_markers</span><span class='hs-layout'>)</span> <span class='hs-varid'>xs</span> <span class='hs-keyword'>of</span>
<a name="line-3467"></a>           <span class='hs-layout'>(</span><span class='hs-varid'>p</span><span class='hs-layout'>,</span> <span class='hs-keyword'>_</span><span class='hs-conop'>:</span><span class='hs-varid'>ds</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-layout'>(</span><span class='hs-varid'>p</span><span class='hs-layout'>,</span> <span class='hs-varid'>ds</span><span class='hs-layout'>)</span>
<a name="line-3468"></a>           <span class='hs-layout'>(</span><span class='hs-varid'>p</span><span class='hs-layout'>,</span> <span class='hs-varid'>xs</span><span class='hs-layout'>)</span>   <span class='hs-keyglyph'>-&gt;</span> <span class='hs-layout'>(</span><span class='hs-varid'>p</span><span class='hs-layout'>,</span> <span class='hs-varid'>xs</span><span class='hs-layout'>)</span>
<a name="line-3469"></a>
<a name="line-3470"></a>    <span class='hs-varid'>split_markers</span> <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>Char</span><span class='hs-keyglyph'>]</span>
<a name="line-3471"></a>    <span class='hs-varid'>split_markers</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyglyph'>[</span><span class='hs-chr'>':'</span><span class='hs-layout'>,</span> <span class='hs-chr'>';'</span><span class='hs-keyglyph'>]</span>
<a name="line-3472"></a>
<a name="line-3473"></a>    <span class='hs-varid'>dir_markers</span> <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>Char</span><span class='hs-keyglyph'>]</span>
<a name="line-3474"></a>    <span class='hs-varid'>dir_markers</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyglyph'>[</span><span class='hs-chr'>'/'</span><span class='hs-layout'>,</span> <span class='hs-chr'>'\\'</span><span class='hs-keyglyph'>]</span>
<a name="line-3475"></a><span class='hs-cpp'>#endif</span>
<a name="line-3476"></a>
<a name="line-3477"></a><span class='hs-comment'>-- -----------------------------------------------------------------------------</span>
<a name="line-3478"></a><span class='hs-comment'>-- tmpDir, where we store temporary files.</span>
<a name="line-3479"></a>
<a name="line-3480"></a><a name="setTmpDir"></a><span class='hs-definition'>setTmpDir</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>FilePath</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span>
<a name="line-3481"></a><span class='hs-definition'>setTmpDir</span> <span class='hs-varid'>dir</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>alterSettings</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>s</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>s</span> <span class='hs-layout'>{</span> <span class='hs-varid'>sTmpDir</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>normalise</span> <span class='hs-varid'>dir</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span>
<a name="line-3482"></a>  <span class='hs-comment'>-- we used to fix /cygdrive/c/.. on Windows, but this doesn't</span>
<a name="line-3483"></a>  <span class='hs-comment'>-- seem necessary now --SDM 7/2/2008</span>
<a name="line-3484"></a>
<a name="line-3485"></a><span class='hs-comment'>-----------------------------------------------------------------------------</span>
<a name="line-3486"></a><span class='hs-comment'>-- RTS opts</span>
<a name="line-3487"></a>
<a name="line-3488"></a><a name="setRtsOpts"></a><span class='hs-definition'>setRtsOpts</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>String</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynP</span> <span class='hs-conid'>()</span>
<a name="line-3489"></a><span class='hs-definition'>setRtsOpts</span> <span class='hs-varid'>arg</span>  <span class='hs-keyglyph'>=</span> <span class='hs-varid'>upd</span> <span class='hs-varop'>$</span> <span class='hs-keyglyph'>\</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span><span class='hs-varid'>rtsOpts</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Just</span> <span class='hs-varid'>arg</span><span class='hs-layout'>}</span>
<a name="line-3490"></a>
<a name="line-3491"></a><a name="setRtsOptsEnabled"></a><span class='hs-definition'>setRtsOptsEnabled</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>RtsOptsEnabled</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynP</span> <span class='hs-conid'>()</span>
<a name="line-3492"></a><span class='hs-definition'>setRtsOptsEnabled</span> <span class='hs-varid'>arg</span>  <span class='hs-keyglyph'>=</span> <span class='hs-varid'>upd</span> <span class='hs-varop'>$</span> <span class='hs-keyglyph'>\</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span><span class='hs-varid'>rtsOptsEnabled</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>arg</span><span class='hs-layout'>}</span>
<a name="line-3493"></a>
<a name="line-3494"></a><span class='hs-comment'>-----------------------------------------------------------------------------</span>
<a name="line-3495"></a><span class='hs-comment'>-- Hpc stuff</span>
<a name="line-3496"></a>
<a name="line-3497"></a><a name="setOptHpcDir"></a><span class='hs-definition'>setOptHpcDir</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>String</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynP</span> <span class='hs-conid'>()</span>
<a name="line-3498"></a><span class='hs-definition'>setOptHpcDir</span> <span class='hs-varid'>arg</span>  <span class='hs-keyglyph'>=</span> <span class='hs-varid'>upd</span> <span class='hs-varop'>$</span> <span class='hs-keyglyph'>\</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span><span class='hs-layout'>{</span><span class='hs-varid'>hpcDir</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>arg</span><span class='hs-layout'>}</span>
<a name="line-3499"></a>
<a name="line-3500"></a><span class='hs-comment'>-----------------------------------------------------------------------------</span>
<a name="line-3501"></a><span class='hs-comment'>-- Via-C compilation stuff</span>
<a name="line-3502"></a>
<a name="line-3503"></a><span class='hs-comment'>-- There are some options that we need to pass to gcc when compiling</span>
<a name="line-3504"></a><span class='hs-comment'>-- Haskell code via C, but are only supported by recent versions of</span>
<a name="line-3505"></a><span class='hs-comment'>-- gcc.  The configure script decides which of these options we need,</span>
<a name="line-3506"></a><span class='hs-comment'>-- and puts them in the "settings" file in $topdir. The advantage of</span>
<a name="line-3507"></a><span class='hs-comment'>-- having these in a separate file is that the file can be created at</span>
<a name="line-3508"></a><span class='hs-comment'>-- install-time depending on the available gcc version, and even</span>
<a name="line-3509"></a><span class='hs-comment'>-- re-generated later if gcc is upgraded.</span>
<a name="line-3510"></a><span class='hs-comment'>--</span>
<a name="line-3511"></a><span class='hs-comment'>-- The options below are not dependent on the version of gcc, only the</span>
<a name="line-3512"></a><span class='hs-comment'>-- platform.</span>
<a name="line-3513"></a>
<a name="line-3514"></a><a name="picCCOpts"></a><span class='hs-definition'>picCCOpts</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>String</span><span class='hs-keyglyph'>]</span>
<a name="line-3515"></a><span class='hs-definition'>picCCOpts</span> <span class='hs-varid'>dflags</span>
<a name="line-3516"></a>    <span class='hs-keyglyph'>=</span> <span class='hs-keyword'>case</span> <span class='hs-varid'>platformOS</span> <span class='hs-layout'>(</span><span class='hs-varid'>targetPlatform</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span> <span class='hs-keyword'>of</span>
<a name="line-3517"></a>      <span class='hs-conid'>OSDarwin</span>
<a name="line-3518"></a>          <span class='hs-comment'>-- Apple prefers to do things the other way round.</span>
<a name="line-3519"></a>          <span class='hs-comment'>-- PIC is on by default.</span>
<a name="line-3520"></a>          <span class='hs-comment'>-- -mdynamic-no-pic:</span>
<a name="line-3521"></a>          <span class='hs-comment'>--     Turn off PIC code generation.</span>
<a name="line-3522"></a>          <span class='hs-comment'>-- -fno-common:</span>
<a name="line-3523"></a>          <span class='hs-comment'>--     Don't generate "common" symbols - these are unwanted</span>
<a name="line-3524"></a>          <span class='hs-comment'>--     in dynamic libraries.</span>
<a name="line-3525"></a>
<a name="line-3526"></a>       <span class='hs-keyglyph'>|</span> <span class='hs-varid'>gopt</span> <span class='hs-conid'>Opt_PIC</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyglyph'>[</span><span class='hs-str'>"-fno-common"</span><span class='hs-layout'>,</span> <span class='hs-str'>"-U__PIC__"</span><span class='hs-layout'>,</span> <span class='hs-str'>"-D__PIC__"</span><span class='hs-keyglyph'>]</span>
<a name="line-3527"></a>       <span class='hs-keyglyph'>|</span> <span class='hs-varid'>otherwise</span>           <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyglyph'>[</span><span class='hs-str'>"-mdynamic-no-pic"</span><span class='hs-keyglyph'>]</span>
<a name="line-3528"></a>      <span class='hs-conid'>OSMinGW32</span> <span class='hs-comment'>-- no -fPIC for Windows</span>
<a name="line-3529"></a>       <span class='hs-keyglyph'>|</span> <span class='hs-varid'>gopt</span> <span class='hs-conid'>Opt_PIC</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyglyph'>[</span><span class='hs-str'>"-U__PIC__"</span><span class='hs-layout'>,</span> <span class='hs-str'>"-D__PIC__"</span><span class='hs-keyglyph'>]</span>
<a name="line-3530"></a>       <span class='hs-keyglyph'>|</span> <span class='hs-varid'>otherwise</span>           <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>[]</span>
<a name="line-3531"></a>      <span class='hs-keyword'>_</span>
<a name="line-3532"></a>      <span class='hs-comment'>-- we need -fPIC for C files when we are compiling with -dynamic,</span>
<a name="line-3533"></a>      <span class='hs-comment'>-- otherwise things like stub.c files don't get compiled</span>
<a name="line-3534"></a>      <span class='hs-comment'>-- correctly.  They need to reference data in the Haskell</span>
<a name="line-3535"></a>      <span class='hs-comment'>-- objects, but can't without -fPIC.  See</span>
<a name="line-3536"></a>      <span class='hs-comment'>-- <a href="http://ghc.haskell.org/trac/ghc/wiki/Commentary/PositionIndependentCode">http://ghc.haskell.org/trac/ghc/wiki/Commentary/PositionIndependentCode</a></span>
<a name="line-3537"></a>       <span class='hs-keyglyph'>|</span> <span class='hs-varid'>gopt</span> <span class='hs-conid'>Opt_PIC</span> <span class='hs-varid'>dflags</span> <span class='hs-varop'>||</span> <span class='hs-varid'>not</span> <span class='hs-layout'>(</span><span class='hs-varid'>gopt</span> <span class='hs-conid'>Opt_Static</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>-&gt;</span>
<a name="line-3538"></a>          <span class='hs-keyglyph'>[</span><span class='hs-str'>"-fPIC"</span><span class='hs-layout'>,</span> <span class='hs-str'>"-U__PIC__"</span><span class='hs-layout'>,</span> <span class='hs-str'>"-D__PIC__"</span><span class='hs-keyglyph'>]</span>
<a name="line-3539"></a>       <span class='hs-keyglyph'>|</span> <span class='hs-varid'>otherwise</span>                             <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>[]</span>
<a name="line-3540"></a>
<a name="line-3541"></a><a name="picPOpts"></a><span class='hs-definition'>picPOpts</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>String</span><span class='hs-keyglyph'>]</span>
<a name="line-3542"></a><span class='hs-definition'>picPOpts</span> <span class='hs-varid'>dflags</span>
<a name="line-3543"></a> <span class='hs-keyglyph'>|</span> <span class='hs-varid'>gopt</span> <span class='hs-conid'>Opt_PIC</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyglyph'>[</span><span class='hs-str'>"-U__PIC__"</span><span class='hs-layout'>,</span> <span class='hs-str'>"-D__PIC__"</span><span class='hs-keyglyph'>]</span>
<a name="line-3544"></a> <span class='hs-keyglyph'>|</span> <span class='hs-varid'>otherwise</span>           <span class='hs-keyglyph'>=</span> <span class='hs-conid'>[]</span>
<a name="line-3545"></a>
<a name="line-3546"></a><span class='hs-comment'>-- -----------------------------------------------------------------------------</span>
<a name="line-3547"></a><span class='hs-comment'>-- Splitting</span>
<a name="line-3548"></a>
<a name="line-3549"></a><a name="can_split"></a><span class='hs-definition'>can_split</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Bool</span>
<a name="line-3550"></a><span class='hs-definition'>can_split</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>cSupportsSplitObjs</span> <span class='hs-varop'>==</span> <span class='hs-str'>"YES"</span>
<a name="line-3551"></a>
<a name="line-3552"></a><span class='hs-comment'>-- -----------------------------------------------------------------------------</span>
<a name="line-3553"></a><span class='hs-comment'>-- Compiler Info</span>
<a name="line-3554"></a>
<a name="line-3555"></a><a name="compilerInfo"></a><span class='hs-definition'>compilerInfo</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyglyph'>[</span><span class='hs-layout'>(</span><span class='hs-conid'>String</span><span class='hs-layout'>,</span> <span class='hs-conid'>String</span><span class='hs-layout'>)</span><span class='hs-keyglyph'>]</span>
<a name="line-3556"></a><span class='hs-definition'>compilerInfo</span> <span class='hs-varid'>dflags</span>
<a name="line-3557"></a>    <span class='hs-keyglyph'>=</span> <span class='hs-comment'>-- We always make "Project name" be first to keep parsing in</span>
<a name="line-3558"></a>      <span class='hs-comment'>-- other languages simple, i.e. when looking for other fields,</span>
<a name="line-3559"></a>      <span class='hs-comment'>-- you don't have to worry whether there is a leading '[' or not</span>
<a name="line-3560"></a>      <span class='hs-layout'>(</span><span class='hs-str'>"Project name"</span><span class='hs-layout'>,</span>                 <span class='hs-varid'>cProjectName</span><span class='hs-layout'>)</span>
<a name="line-3561"></a>      <span class='hs-comment'>-- Next come the settings, so anything else can be overridden</span>
<a name="line-3562"></a>      <span class='hs-comment'>-- in the settings file (as "lookup" uses the first match for the</span>
<a name="line-3563"></a>      <span class='hs-comment'>-- key)</span>
<a name="line-3564"></a>    <span class='hs-conop'>:</span> <span class='hs-varid'>rawSettings</span> <span class='hs-varid'>dflags</span>
<a name="line-3565"></a>   <span class='hs-varop'>++</span> <span class='hs-keyglyph'>[</span><span class='hs-layout'>(</span><span class='hs-str'>"Project version"</span><span class='hs-layout'>,</span>             <span class='hs-varid'>cProjectVersion</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-3566"></a>       <span class='hs-layout'>(</span><span class='hs-str'>"Booter version"</span><span class='hs-layout'>,</span>              <span class='hs-varid'>cBooterVersion</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-3567"></a>       <span class='hs-layout'>(</span><span class='hs-str'>"Stage"</span><span class='hs-layout'>,</span>                       <span class='hs-varid'>cStage</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-3568"></a>       <span class='hs-layout'>(</span><span class='hs-str'>"Build platform"</span><span class='hs-layout'>,</span>              <span class='hs-varid'>cBuildPlatformString</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-3569"></a>       <span class='hs-layout'>(</span><span class='hs-str'>"Host platform"</span><span class='hs-layout'>,</span>               <span class='hs-varid'>cHostPlatformString</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-3570"></a>       <span class='hs-layout'>(</span><span class='hs-str'>"Target platform"</span><span class='hs-layout'>,</span>             <span class='hs-varid'>cTargetPlatformString</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-3571"></a>       <span class='hs-layout'>(</span><span class='hs-str'>"Have interpreter"</span><span class='hs-layout'>,</span>            <span class='hs-varid'>cGhcWithInterpreter</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-3572"></a>       <span class='hs-layout'>(</span><span class='hs-str'>"Object splitting supported"</span><span class='hs-layout'>,</span>  <span class='hs-varid'>cSupportsSplitObjs</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-3573"></a>       <span class='hs-layout'>(</span><span class='hs-str'>"Have native code generator"</span><span class='hs-layout'>,</span>  <span class='hs-varid'>cGhcWithNativeCodeGen</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-3574"></a>       <span class='hs-layout'>(</span><span class='hs-str'>"Support SMP"</span><span class='hs-layout'>,</span>                 <span class='hs-varid'>cGhcWithSMP</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-3575"></a>       <span class='hs-layout'>(</span><span class='hs-str'>"Tables next to code"</span><span class='hs-layout'>,</span>         <span class='hs-varid'>cGhcEnableTablesNextToCode</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-3576"></a>       <span class='hs-layout'>(</span><span class='hs-str'>"RTS ways"</span><span class='hs-layout'>,</span>                    <span class='hs-varid'>cGhcRTSWays</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-3577"></a>       <span class='hs-layout'>(</span><span class='hs-str'>"Support dynamic-too"</span><span class='hs-layout'>,</span>         <span class='hs-keyword'>if</span> <span class='hs-varid'>isWindows</span> <span class='hs-keyword'>then</span> <span class='hs-str'>"NO"</span> <span class='hs-keyword'>else</span> <span class='hs-str'>"YES"</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-3578"></a>       <span class='hs-layout'>(</span><span class='hs-str'>"Support parallel --make"</span><span class='hs-layout'>,</span>     <span class='hs-str'>"YES"</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-3579"></a>       <span class='hs-layout'>(</span><span class='hs-str'>"Dynamic by default"</span><span class='hs-layout'>,</span>          <span class='hs-keyword'>if</span> <span class='hs-varid'>dYNAMIC_BY_DEFAULT</span> <span class='hs-varid'>dflags</span>
<a name="line-3580"></a>                                       <span class='hs-keyword'>then</span> <span class='hs-str'>"YES"</span> <span class='hs-keyword'>else</span> <span class='hs-str'>"NO"</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-3581"></a>       <span class='hs-layout'>(</span><span class='hs-str'>"GHC Dynamic"</span><span class='hs-layout'>,</span>                 <span class='hs-keyword'>if</span> <span class='hs-varid'>dynamicGhc</span>
<a name="line-3582"></a>                                       <span class='hs-keyword'>then</span> <span class='hs-str'>"YES"</span> <span class='hs-keyword'>else</span> <span class='hs-str'>"NO"</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-3583"></a>       <span class='hs-layout'>(</span><span class='hs-str'>"Leading underscore"</span><span class='hs-layout'>,</span>          <span class='hs-varid'>cLeadingUnderscore</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-3584"></a>       <span class='hs-layout'>(</span><span class='hs-str'>"Debug on"</span><span class='hs-layout'>,</span>                    <span class='hs-varid'>show</span> <span class='hs-varid'>debugIsOn</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-3585"></a>       <span class='hs-layout'>(</span><span class='hs-str'>"LibDir"</span><span class='hs-layout'>,</span>                      <span class='hs-varid'>topDir</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-3586"></a>       <span class='hs-layout'>(</span><span class='hs-str'>"Global Package DB"</span><span class='hs-layout'>,</span>           <span class='hs-varid'>systemPackageConfig</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span>
<a name="line-3587"></a>      <span class='hs-keyglyph'>]</span>
<a name="line-3588"></a>  <span class='hs-keyword'>where</span>
<a name="line-3589"></a>    <span class='hs-varid'>isWindows</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>platformOS</span> <span class='hs-layout'>(</span><span class='hs-varid'>targetPlatform</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span> <span class='hs-varop'>==</span> <span class='hs-conid'>OSMinGW32</span>
<a name="line-3590"></a>
<a name="line-3591"></a><span class='hs-cpp'>#include "../includes/dist-derivedconstants/header/GHCConstantsHaskellWrappers.hs"</span>
<a name="line-3592"></a>
<a name="line-3593"></a><a name="bLOCK_SIZE_W"></a><span class='hs-definition'>bLOCK_SIZE_W</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Int</span>
<a name="line-3594"></a><span class='hs-definition'>bLOCK_SIZE_W</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>bLOCK_SIZE</span> <span class='hs-varid'>dflags</span> <span class='hs-varop'>`quot`</span> <span class='hs-varid'>wORD_SIZE</span> <span class='hs-varid'>dflags</span>
<a name="line-3595"></a>
<a name="line-3596"></a><a name="wORD_SIZE_IN_BITS"></a><span class='hs-definition'>wORD_SIZE_IN_BITS</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Int</span>
<a name="line-3597"></a><span class='hs-definition'>wORD_SIZE_IN_BITS</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>wORD_SIZE</span> <span class='hs-varid'>dflags</span> <span class='hs-varop'>*</span> <span class='hs-num'>8</span>
<a name="line-3598"></a>
<a name="line-3599"></a><a name="tAG_MASK"></a><span class='hs-definition'>tAG_MASK</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Int</span>
<a name="line-3600"></a><span class='hs-definition'>tAG_MASK</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-layout'>(</span><span class='hs-num'>1</span> <span class='hs-varop'>`shiftL`</span> <span class='hs-varid'>tAG_BITS</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span> <span class='hs-comment'>-</span> <span class='hs-num'>1</span>
<a name="line-3601"></a>
<a name="line-3602"></a><a name="mAX_PTR_TAG"></a><span class='hs-definition'>mAX_PTR_TAG</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Int</span>
<a name="line-3603"></a><span class='hs-definition'>mAX_PTR_TAG</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>tAG_MASK</span>
<a name="line-3604"></a>
<a name="line-3605"></a><a name="tARGET_MIN_INT"></a><span class='hs-comment'>-- Might be worth caching these in targetPlatform?</span>
<a name="line-3606"></a><span class='hs-definition'>tARGET_MIN_INT</span><span class='hs-layout'>,</span> <span class='hs-varid'>tARGET_MAX_INT</span><span class='hs-layout'>,</span> <span class='hs-varid'>tARGET_MAX_WORD</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Integer</span>
<a name="line-3607"></a><span class='hs-definition'>tARGET_MIN_INT</span> <span class='hs-varid'>dflags</span>
<a name="line-3608"></a>    <span class='hs-keyglyph'>=</span> <span class='hs-keyword'>case</span> <span class='hs-varid'>platformWordSize</span> <span class='hs-layout'>(</span><span class='hs-varid'>targetPlatform</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span> <span class='hs-keyword'>of</span>
<a name="line-3609"></a>      <span class='hs-num'>4</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>toInteger</span> <span class='hs-layout'>(</span><span class='hs-varid'>minBound</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Int32</span><span class='hs-layout'>)</span>
<a name="line-3610"></a>      <span class='hs-num'>8</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>toInteger</span> <span class='hs-layout'>(</span><span class='hs-varid'>minBound</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Int64</span><span class='hs-layout'>)</span>
<a name="line-3611"></a>      <span class='hs-varid'>w</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>panic</span> <span class='hs-layout'>(</span><span class='hs-str'>"tARGET_MIN_INT: Unknown platformWordSize: "</span> <span class='hs-varop'>++</span> <span class='hs-varid'>show</span> <span class='hs-varid'>w</span><span class='hs-layout'>)</span>
<a name="line-3612"></a><a name="tARGET_MAX_INT"></a><span class='hs-definition'>tARGET_MAX_INT</span> <span class='hs-varid'>dflags</span>
<a name="line-3613"></a>    <span class='hs-keyglyph'>=</span> <span class='hs-keyword'>case</span> <span class='hs-varid'>platformWordSize</span> <span class='hs-layout'>(</span><span class='hs-varid'>targetPlatform</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span> <span class='hs-keyword'>of</span>
<a name="line-3614"></a>      <span class='hs-num'>4</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>toInteger</span> <span class='hs-layout'>(</span><span class='hs-varid'>maxBound</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Int32</span><span class='hs-layout'>)</span>
<a name="line-3615"></a>      <span class='hs-num'>8</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>toInteger</span> <span class='hs-layout'>(</span><span class='hs-varid'>maxBound</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Int64</span><span class='hs-layout'>)</span>
<a name="line-3616"></a>      <span class='hs-varid'>w</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>panic</span> <span class='hs-layout'>(</span><span class='hs-str'>"tARGET_MAX_INT: Unknown platformWordSize: "</span> <span class='hs-varop'>++</span> <span class='hs-varid'>show</span> <span class='hs-varid'>w</span><span class='hs-layout'>)</span>
<a name="line-3617"></a><a name="tARGET_MAX_WORD"></a><span class='hs-definition'>tARGET_MAX_WORD</span> <span class='hs-varid'>dflags</span>
<a name="line-3618"></a>    <span class='hs-keyglyph'>=</span> <span class='hs-keyword'>case</span> <span class='hs-varid'>platformWordSize</span> <span class='hs-layout'>(</span><span class='hs-varid'>targetPlatform</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span> <span class='hs-keyword'>of</span>
<a name="line-3619"></a>      <span class='hs-num'>4</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>toInteger</span> <span class='hs-layout'>(</span><span class='hs-varid'>maxBound</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Word32</span><span class='hs-layout'>)</span>
<a name="line-3620"></a>      <span class='hs-num'>8</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>toInteger</span> <span class='hs-layout'>(</span><span class='hs-varid'>maxBound</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Word64</span><span class='hs-layout'>)</span>
<a name="line-3621"></a>      <span class='hs-varid'>w</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>panic</span> <span class='hs-layout'>(</span><span class='hs-str'>"tARGET_MAX_WORD: Unknown platformWordSize: "</span> <span class='hs-varop'>++</span> <span class='hs-varid'>show</span> <span class='hs-varid'>w</span><span class='hs-layout'>)</span>
<a name="line-3622"></a>
<a name="line-3623"></a><a name="makeDynFlagsConsistent"></a><span class='hs-comment'>-- Whenever makeDynFlagsConsistent does anything, it starts over, to</span>
<a name="line-3624"></a><span class='hs-comment'>-- ensure that a later change doesn't invalidate an earlier check.</span>
<a name="line-3625"></a><span class='hs-comment'>-- Be careful not to introduce potential loops!</span>
<a name="line-3626"></a><span class='hs-definition'>makeDynFlagsConsistent</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-layout'>(</span><span class='hs-conid'>DynFlags</span><span class='hs-layout'>,</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>Located</span> <span class='hs-conid'>String</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>)</span>
<a name="line-3627"></a><span class='hs-definition'>makeDynFlagsConsistent</span> <span class='hs-varid'>dflags</span>
<a name="line-3628"></a> <span class='hs-comment'>-- Disable -dynamic-too on Windows (#8228, #7134, #5987)</span>
<a name="line-3629"></a> <span class='hs-keyglyph'>|</span> <span class='hs-varid'>os</span> <span class='hs-varop'>==</span> <span class='hs-conid'>OSMinGW32</span> <span class='hs-varop'>&amp;&amp;</span> <span class='hs-varid'>gopt</span> <span class='hs-conid'>Opt_BuildDynamicToo</span> <span class='hs-varid'>dflags</span>
<a name="line-3630"></a>    <span class='hs-keyglyph'>=</span> <span class='hs-keyword'>let</span> <span class='hs-varid'>dflags'</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>gopt_unset</span> <span class='hs-varid'>dflags</span> <span class='hs-conid'>Opt_BuildDynamicToo</span>
<a name="line-3631"></a>          <span class='hs-varid'>warn</span>    <span class='hs-keyglyph'>=</span> <span class='hs-str'>"-dynamic-too is not supported on Windows"</span>
<a name="line-3632"></a>      <span class='hs-keyword'>in</span> <span class='hs-varid'>loop</span> <span class='hs-varid'>dflags'</span> <span class='hs-varid'>warn</span>
<a name="line-3633"></a> <span class='hs-keyglyph'>|</span> <span class='hs-varid'>hscTarget</span> <span class='hs-varid'>dflags</span> <span class='hs-varop'>==</span> <span class='hs-conid'>HscC</span> <span class='hs-varop'>&amp;&amp;</span>
<a name="line-3634"></a>   <span class='hs-varid'>not</span> <span class='hs-layout'>(</span><span class='hs-varid'>platformUnregisterised</span> <span class='hs-layout'>(</span><span class='hs-varid'>targetPlatform</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-3635"></a>    <span class='hs-keyglyph'>=</span> <span class='hs-keyword'>if</span> <span class='hs-varid'>cGhcWithNativeCodeGen</span> <span class='hs-varop'>==</span> <span class='hs-str'>"YES"</span>
<a name="line-3636"></a>      <span class='hs-keyword'>then</span> <span class='hs-keyword'>let</span> <span class='hs-varid'>dflags'</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>dflags</span> <span class='hs-layout'>{</span> <span class='hs-varid'>hscTarget</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>HscAsm</span> <span class='hs-layout'>}</span>
<a name="line-3637"></a>               <span class='hs-varid'>warn</span> <span class='hs-keyglyph'>=</span> <span class='hs-str'>"Compiler not unregisterised, so using native code generator rather than compiling via C"</span>
<a name="line-3638"></a>           <span class='hs-keyword'>in</span> <span class='hs-varid'>loop</span> <span class='hs-varid'>dflags'</span> <span class='hs-varid'>warn</span>
<a name="line-3639"></a>      <span class='hs-keyword'>else</span> <span class='hs-keyword'>let</span> <span class='hs-varid'>dflags'</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>dflags</span> <span class='hs-layout'>{</span> <span class='hs-varid'>hscTarget</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>HscLlvm</span> <span class='hs-layout'>}</span>
<a name="line-3640"></a>               <span class='hs-varid'>warn</span> <span class='hs-keyglyph'>=</span> <span class='hs-str'>"Compiler not unregisterised, so using LLVM rather than compiling via C"</span>
<a name="line-3641"></a>           <span class='hs-keyword'>in</span> <span class='hs-varid'>loop</span> <span class='hs-varid'>dflags'</span> <span class='hs-varid'>warn</span>
<a name="line-3642"></a> <span class='hs-keyglyph'>|</span> <span class='hs-varid'>hscTarget</span> <span class='hs-varid'>dflags</span> <span class='hs-varop'>==</span> <span class='hs-conid'>HscAsm</span> <span class='hs-varop'>&amp;&amp;</span>
<a name="line-3643"></a>   <span class='hs-varid'>platformUnregisterised</span> <span class='hs-layout'>(</span><span class='hs-varid'>targetPlatform</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span>
<a name="line-3644"></a>    <span class='hs-keyglyph'>=</span> <span class='hs-varid'>loop</span> <span class='hs-layout'>(</span><span class='hs-varid'>dflags</span> <span class='hs-layout'>{</span> <span class='hs-varid'>hscTarget</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>HscC</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span>
<a name="line-3645"></a>           <span class='hs-str'>"Compiler unregisterised, so compiling via C"</span>
<a name="line-3646"></a> <span class='hs-keyglyph'>|</span> <span class='hs-varid'>hscTarget</span> <span class='hs-varid'>dflags</span> <span class='hs-varop'>==</span> <span class='hs-conid'>HscAsm</span> <span class='hs-varop'>&amp;&amp;</span>
<a name="line-3647"></a>   <span class='hs-varid'>cGhcWithNativeCodeGen</span> <span class='hs-varop'>/=</span> <span class='hs-str'>"YES"</span>
<a name="line-3648"></a>      <span class='hs-keyglyph'>=</span> <span class='hs-keyword'>let</span> <span class='hs-varid'>dflags'</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>dflags</span> <span class='hs-layout'>{</span> <span class='hs-varid'>hscTarget</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>HscLlvm</span> <span class='hs-layout'>}</span>
<a name="line-3649"></a>            <span class='hs-varid'>warn</span> <span class='hs-keyglyph'>=</span> <span class='hs-str'>"No native code generator, so using LLVM"</span>
<a name="line-3650"></a>        <span class='hs-keyword'>in</span> <span class='hs-varid'>loop</span> <span class='hs-varid'>dflags'</span> <span class='hs-varid'>warn</span>
<a name="line-3651"></a> <span class='hs-keyglyph'>|</span> <span class='hs-varid'>hscTarget</span> <span class='hs-varid'>dflags</span> <span class='hs-varop'>==</span> <span class='hs-conid'>HscLlvm</span> <span class='hs-varop'>&amp;&amp;</span>
<a name="line-3652"></a>   <span class='hs-varid'>not</span> <span class='hs-layout'>(</span><span class='hs-layout'>(</span><span class='hs-varid'>arch</span> <span class='hs-varop'>==</span> <span class='hs-conid'>ArchX86_64</span><span class='hs-layout'>)</span> <span class='hs-varop'>&amp;&amp;</span> <span class='hs-layout'>(</span><span class='hs-varid'>os</span> <span class='hs-varop'>==</span> <span class='hs-conid'>OSLinux</span> <span class='hs-varop'>||</span> <span class='hs-varid'>os</span> <span class='hs-varop'>==</span> <span class='hs-conid'>OSDarwin</span> <span class='hs-varop'>||</span> <span class='hs-varid'>os</span> <span class='hs-varop'>==</span> <span class='hs-conid'>OSFreeBSD</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span> <span class='hs-varop'>&amp;&amp;</span>
<a name="line-3653"></a>   <span class='hs-varid'>not</span> <span class='hs-layout'>(</span><span class='hs-layout'>(</span><span class='hs-varid'>isARM</span> <span class='hs-varid'>arch</span><span class='hs-layout'>)</span> <span class='hs-varop'>&amp;&amp;</span> <span class='hs-layout'>(</span><span class='hs-varid'>os</span> <span class='hs-varop'>==</span> <span class='hs-conid'>OSLinux</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span> <span class='hs-varop'>&amp;&amp;</span>
<a name="line-3654"></a>   <span class='hs-layout'>(</span><span class='hs-varid'>not</span> <span class='hs-layout'>(</span><span class='hs-varid'>gopt</span> <span class='hs-conid'>Opt_Static</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span> <span class='hs-varop'>||</span> <span class='hs-varid'>gopt</span> <span class='hs-conid'>Opt_PIC</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span>
<a name="line-3655"></a>    <span class='hs-keyglyph'>=</span> <span class='hs-keyword'>if</span> <span class='hs-varid'>cGhcWithNativeCodeGen</span> <span class='hs-varop'>==</span> <span class='hs-str'>"YES"</span>
<a name="line-3656"></a>      <span class='hs-keyword'>then</span> <span class='hs-keyword'>let</span> <span class='hs-varid'>dflags'</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>dflags</span> <span class='hs-layout'>{</span> <span class='hs-varid'>hscTarget</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>HscAsm</span> <span class='hs-layout'>}</span>
<a name="line-3657"></a>               <span class='hs-varid'>warn</span> <span class='hs-keyglyph'>=</span> <span class='hs-str'>"Using native code generator rather than LLVM, as LLVM is incompatible with -fPIC and -dynamic on this platform"</span>
<a name="line-3658"></a>           <span class='hs-keyword'>in</span> <span class='hs-varid'>loop</span> <span class='hs-varid'>dflags'</span> <span class='hs-varid'>warn</span>
<a name="line-3659"></a>      <span class='hs-keyword'>else</span> <span class='hs-varid'>throwGhcException</span> <span class='hs-varop'>$</span> <span class='hs-conid'>CmdLineError</span> <span class='hs-str'>"Can't use -fPIC or -dynamic on this platform"</span>
<a name="line-3660"></a> <span class='hs-keyglyph'>|</span> <span class='hs-varid'>os</span> <span class='hs-varop'>==</span> <span class='hs-conid'>OSDarwin</span> <span class='hs-varop'>&amp;&amp;</span>
<a name="line-3661"></a>   <span class='hs-varid'>arch</span> <span class='hs-varop'>==</span> <span class='hs-conid'>ArchX86_64</span> <span class='hs-varop'>&amp;&amp;</span>
<a name="line-3662"></a>   <span class='hs-varid'>not</span> <span class='hs-layout'>(</span><span class='hs-varid'>gopt</span> <span class='hs-conid'>Opt_PIC</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span>
<a name="line-3663"></a>    <span class='hs-keyglyph'>=</span> <span class='hs-varid'>loop</span> <span class='hs-layout'>(</span><span class='hs-varid'>gopt_set</span> <span class='hs-varid'>dflags</span> <span class='hs-conid'>Opt_PIC</span><span class='hs-layout'>)</span>
<a name="line-3664"></a>           <span class='hs-str'>"Enabling -fPIC as it is always on for this platform"</span>
<a name="line-3665"></a> <span class='hs-keyglyph'>|</span> <span class='hs-varid'>otherwise</span> <span class='hs-keyglyph'>=</span> <span class='hs-layout'>(</span><span class='hs-varid'>dflags</span><span class='hs-layout'>,</span> <span class='hs-conid'>[]</span><span class='hs-layout'>)</span>
<a name="line-3666"></a>    <span class='hs-keyword'>where</span> <span class='hs-varid'>loc</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkGeneralSrcSpan</span> <span class='hs-layout'>(</span><span class='hs-varid'>fsLit</span> <span class='hs-str'>"when making flags consistent"</span><span class='hs-layout'>)</span>
<a name="line-3667"></a>          <span class='hs-varid'>loop</span> <span class='hs-varid'>updated_dflags</span> <span class='hs-varid'>warning</span>
<a name="line-3668"></a>              <span class='hs-keyglyph'>=</span> <span class='hs-keyword'>case</span> <span class='hs-varid'>makeDynFlagsConsistent</span> <span class='hs-varid'>updated_dflags</span> <span class='hs-keyword'>of</span>
<a name="line-3669"></a>                <span class='hs-layout'>(</span><span class='hs-varid'>dflags'</span><span class='hs-layout'>,</span> <span class='hs-varid'>ws</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-layout'>(</span><span class='hs-varid'>dflags'</span><span class='hs-layout'>,</span> <span class='hs-conid'>L</span> <span class='hs-varid'>loc</span> <span class='hs-varid'>warning</span> <span class='hs-conop'>:</span> <span class='hs-varid'>ws</span><span class='hs-layout'>)</span>
<a name="line-3670"></a>          <span class='hs-varid'>platform</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>targetPlatform</span> <span class='hs-varid'>dflags</span>
<a name="line-3671"></a>          <span class='hs-varid'>arch</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>platformArch</span> <span class='hs-varid'>platform</span>
<a name="line-3672"></a>          <span class='hs-varid'>os</span>   <span class='hs-keyglyph'>=</span> <span class='hs-varid'>platformOS</span>   <span class='hs-varid'>platform</span>
<a name="line-3673"></a>
<a name="line-3674"></a><span class='hs-comment'>--------------------------------------------------------------------------</span>
<a name="line-3675"></a><span class='hs-comment'>-- Do not use unsafeGlobalDynFlags!</span>
<a name="line-3676"></a><span class='hs-comment'>--</span>
<a name="line-3677"></a><span class='hs-comment'>-- unsafeGlobalDynFlags is a hack, necessary because we need to be able</span>
<a name="line-3678"></a><span class='hs-comment'>-- to show SDocs when tracing, but we don't always have DynFlags</span>
<a name="line-3679"></a><span class='hs-comment'>-- available.</span>
<a name="line-3680"></a><span class='hs-comment'>--</span>
<a name="line-3681"></a><span class='hs-comment'>-- Do not use it if you can help it. You may get the wrong value!</span>
<a name="line-3682"></a>
<a name="line-3683"></a><span class='hs-conid'>GLOBAL_VAR</span><span class='hs-layout'>(</span><span class='hs-varid'>v_unsafeGlobalDynFlags</span><span class='hs-layout'>,</span> <span class='hs-varid'>panic</span> <span class='hs-str'>"v_unsafeGlobalDynFlags: not initialised"</span><span class='hs-layout'>,</span> <span class='hs-conid'>DynFlags</span><span class='hs-layout'>)</span>
<a name="line-3684"></a>
<a name="line-3685"></a><a name="unsafeGlobalDynFlags"></a><span class='hs-definition'>unsafeGlobalDynFlags</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span>
<a name="line-3686"></a><span class='hs-definition'>unsafeGlobalDynFlags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>unsafePerformIO</span> <span class='hs-varop'>$</span> <span class='hs-varid'>readIORef</span> <span class='hs-varid'>v_unsafeGlobalDynFlags</span>
<a name="line-3687"></a>
<a name="line-3688"></a><a name="setUnsafeGlobalDynFlags"></a><span class='hs-definition'>setUnsafeGlobalDynFlags</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>IO</span> <span class='hs-conid'>()</span>
<a name="line-3689"></a><span class='hs-definition'>setUnsafeGlobalDynFlags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>writeIORef</span> <span class='hs-varid'>v_unsafeGlobalDynFlags</span>
<a name="line-3690"></a>
<a name="line-3691"></a><span class='hs-comment'>-- -----------------------------------------------------------------------------</span>
<a name="line-3692"></a><span class='hs-comment'>-- SSE and AVX</span>
<a name="line-3693"></a>
<a name="line-3694"></a><span class='hs-comment'>-- TODO: Instead of using a separate predicate (i.e. isSse2Enabled) to</span>
<a name="line-3695"></a><span class='hs-comment'>-- check if SSE is enabled, we might have x86-64 imply the -msse2</span>
<a name="line-3696"></a><span class='hs-comment'>-- flag.</span>
<a name="line-3697"></a>
<a name="line-3698"></a><a name="isSseEnabled"></a><span class='hs-definition'>isSseEnabled</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Bool</span>
<a name="line-3699"></a><span class='hs-definition'>isSseEnabled</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyword'>case</span> <span class='hs-varid'>platformArch</span> <span class='hs-layout'>(</span><span class='hs-varid'>targetPlatform</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span> <span class='hs-keyword'>of</span>
<a name="line-3700"></a>    <span class='hs-conid'>ArchX86_64</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>True</span>
<a name="line-3701"></a>    <span class='hs-conid'>ArchX86</span>    <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>sseVersion</span> <span class='hs-varid'>dflags</span> <span class='hs-varop'>&gt;=</span> <span class='hs-conid'>Just</span> <span class='hs-layout'>(</span><span class='hs-num'>1</span><span class='hs-layout'>,</span><span class='hs-num'>0</span><span class='hs-layout'>)</span>
<a name="line-3702"></a>    <span class='hs-keyword'>_</span>          <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>False</span>
<a name="line-3703"></a>
<a name="line-3704"></a><a name="isSse2Enabled"></a><span class='hs-definition'>isSse2Enabled</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Bool</span>
<a name="line-3705"></a><span class='hs-definition'>isSse2Enabled</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyword'>case</span> <span class='hs-varid'>platformArch</span> <span class='hs-layout'>(</span><span class='hs-varid'>targetPlatform</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span> <span class='hs-keyword'>of</span>
<a name="line-3706"></a>    <span class='hs-conid'>ArchX86_64</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-comment'>-- SSE2 is fixed on for x86_64.  It would be</span>
<a name="line-3707"></a>                  <span class='hs-comment'>-- possible to make it optional, but we'd need to</span>
<a name="line-3708"></a>                  <span class='hs-comment'>-- fix at least the foreign call code where the</span>
<a name="line-3709"></a>                  <span class='hs-comment'>-- calling convention specifies the use of xmm regs,</span>
<a name="line-3710"></a>                  <span class='hs-comment'>-- and possibly other places.</span>
<a name="line-3711"></a>                  <span class='hs-conid'>True</span>
<a name="line-3712"></a>    <span class='hs-conid'>ArchX86</span>    <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>sseVersion</span> <span class='hs-varid'>dflags</span> <span class='hs-varop'>&gt;=</span> <span class='hs-conid'>Just</span> <span class='hs-layout'>(</span><span class='hs-num'>2</span><span class='hs-layout'>,</span><span class='hs-num'>0</span><span class='hs-layout'>)</span>
<a name="line-3713"></a>    <span class='hs-keyword'>_</span>          <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>False</span>
<a name="line-3714"></a>
<a name="line-3715"></a><a name="isSse4_2Enabled"></a><span class='hs-definition'>isSse4_2Enabled</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Bool</span>
<a name="line-3716"></a><span class='hs-definition'>isSse4_2Enabled</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>sseVersion</span> <span class='hs-varid'>dflags</span> <span class='hs-varop'>&gt;=</span> <span class='hs-conid'>Just</span> <span class='hs-layout'>(</span><span class='hs-num'>4</span><span class='hs-layout'>,</span><span class='hs-num'>2</span><span class='hs-layout'>)</span>
<a name="line-3717"></a>
<a name="line-3718"></a><a name="isAvxEnabled"></a><span class='hs-definition'>isAvxEnabled</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Bool</span>
<a name="line-3719"></a><span class='hs-definition'>isAvxEnabled</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>avx</span> <span class='hs-varid'>dflags</span> <span class='hs-varop'>||</span> <span class='hs-varid'>avx2</span> <span class='hs-varid'>dflags</span> <span class='hs-varop'>||</span> <span class='hs-varid'>avx512f</span> <span class='hs-varid'>dflags</span>
<a name="line-3720"></a>
<a name="line-3721"></a><a name="isAvx2Enabled"></a><span class='hs-definition'>isAvx2Enabled</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Bool</span>
<a name="line-3722"></a><span class='hs-definition'>isAvx2Enabled</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>avx2</span> <span class='hs-varid'>dflags</span> <span class='hs-varop'>||</span> <span class='hs-varid'>avx512f</span> <span class='hs-varid'>dflags</span>
<a name="line-3723"></a>
<a name="line-3724"></a><a name="isAvx512cdEnabled"></a><span class='hs-definition'>isAvx512cdEnabled</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Bool</span>
<a name="line-3725"></a><span class='hs-definition'>isAvx512cdEnabled</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>avx512cd</span> <span class='hs-varid'>dflags</span>
<a name="line-3726"></a>
<a name="line-3727"></a><a name="isAvx512erEnabled"></a><span class='hs-definition'>isAvx512erEnabled</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Bool</span>
<a name="line-3728"></a><span class='hs-definition'>isAvx512erEnabled</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>avx512er</span> <span class='hs-varid'>dflags</span>
<a name="line-3729"></a>
<a name="line-3730"></a><a name="isAvx512fEnabled"></a><span class='hs-definition'>isAvx512fEnabled</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Bool</span>
<a name="line-3731"></a><span class='hs-definition'>isAvx512fEnabled</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>avx512f</span> <span class='hs-varid'>dflags</span>
<a name="line-3732"></a>
<a name="line-3733"></a><a name="isAvx512pfEnabled"></a><span class='hs-definition'>isAvx512pfEnabled</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Bool</span>
<a name="line-3734"></a><span class='hs-definition'>isAvx512pfEnabled</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>avx512pf</span> <span class='hs-varid'>dflags</span>
<a name="line-3735"></a>
<a name="line-3736"></a><span class='hs-comment'>-- -----------------------------------------------------------------------------</span>
<a name="line-3737"></a><span class='hs-comment'>-- Linker/compiler information</span>
<a name="line-3738"></a>
<a name="line-3739"></a><a name="LinkerInfo"></a><span class='hs-comment'>-- LinkerInfo contains any extra options needed by the system linker.</span>
<a name="line-3740"></a><a name="LinkerInfo"></a><span class='hs-keyword'>data</span> <span class='hs-conid'>LinkerInfo</span>
<a name="line-3741"></a>  <span class='hs-keyglyph'>=</span> <span class='hs-conid'>GnuLD</span>    <span class='hs-keyglyph'>[</span><span class='hs-conid'>Option</span><span class='hs-keyglyph'>]</span>
<a name="line-3742"></a>  <span class='hs-keyglyph'>|</span> <span class='hs-conid'>GnuGold</span>  <span class='hs-keyglyph'>[</span><span class='hs-conid'>Option</span><span class='hs-keyglyph'>]</span>
<a name="line-3743"></a>  <span class='hs-keyglyph'>|</span> <span class='hs-conid'>DarwinLD</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>Option</span><span class='hs-keyglyph'>]</span>
<a name="line-3744"></a>  <span class='hs-keyglyph'>|</span> <span class='hs-conid'>SolarisLD</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>Option</span><span class='hs-keyglyph'>]</span>
<a name="line-3745"></a>  <span class='hs-keyglyph'>|</span> <span class='hs-conid'>UnknownLD</span>
<a name="line-3746"></a>  <span class='hs-keyword'>deriving</span> <span class='hs-conid'>Eq</span>
<a name="line-3747"></a>
<a name="line-3748"></a><a name="CompilerInfo"></a><span class='hs-comment'>-- CompilerInfo tells us which C compiler we're using</span>
<a name="line-3749"></a><a name="CompilerInfo"></a><span class='hs-keyword'>data</span> <span class='hs-conid'>CompilerInfo</span>
<a name="line-3750"></a>   <span class='hs-keyglyph'>=</span> <span class='hs-conid'>GCC</span>
<a name="line-3751"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Clang</span>
<a name="line-3752"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>AppleClang</span>
<a name="line-3753"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>AppleClang51</span>
<a name="line-3754"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>UnknownCC</span>
<a name="line-3755"></a>   <span class='hs-keyword'>deriving</span> <span class='hs-conid'>Eq</span>
<a name="line-3756"></a>
<a name="line-3757"></a><span class='hs-comment'>-- -----------------------------------------------------------------------------</span>
<a name="line-3758"></a><span class='hs-comment'>-- RTS hooks</span>
<a name="line-3759"></a>
<a name="line-3760"></a><a name="decodeSize"></a><span class='hs-comment'>-- Convert sizes like "3.5M" into integers</span>
<a name="line-3761"></a><span class='hs-definition'>decodeSize</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>String</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Integer</span>
<a name="line-3762"></a><span class='hs-definition'>decodeSize</span> <span class='hs-varid'>str</span>
<a name="line-3763"></a>  <span class='hs-keyglyph'>|</span> <span class='hs-varid'>c</span> <span class='hs-varop'>==</span> <span class='hs-str'>""</span>      <span class='hs-keyglyph'>=</span> <span class='hs-varid'>truncate</span> <span class='hs-varid'>n</span>
<a name="line-3764"></a>  <span class='hs-keyglyph'>|</span> <span class='hs-varid'>c</span> <span class='hs-varop'>==</span> <span class='hs-str'>"K"</span> <span class='hs-varop'>||</span> <span class='hs-varid'>c</span> <span class='hs-varop'>==</span> <span class='hs-str'>"k"</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>truncate</span> <span class='hs-layout'>(</span><span class='hs-varid'>n</span> <span class='hs-varop'>*</span> <span class='hs-num'>1000</span><span class='hs-layout'>)</span>
<a name="line-3765"></a>  <span class='hs-keyglyph'>|</span> <span class='hs-varid'>c</span> <span class='hs-varop'>==</span> <span class='hs-str'>"M"</span> <span class='hs-varop'>||</span> <span class='hs-varid'>c</span> <span class='hs-varop'>==</span> <span class='hs-str'>"m"</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>truncate</span> <span class='hs-layout'>(</span><span class='hs-varid'>n</span> <span class='hs-varop'>*</span> <span class='hs-num'>1000</span> <span class='hs-varop'>*</span> <span class='hs-num'>1000</span><span class='hs-layout'>)</span>
<a name="line-3766"></a>  <span class='hs-keyglyph'>|</span> <span class='hs-varid'>c</span> <span class='hs-varop'>==</span> <span class='hs-str'>"G"</span> <span class='hs-varop'>||</span> <span class='hs-varid'>c</span> <span class='hs-varop'>==</span> <span class='hs-str'>"g"</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>truncate</span> <span class='hs-layout'>(</span><span class='hs-varid'>n</span> <span class='hs-varop'>*</span> <span class='hs-num'>1000</span> <span class='hs-varop'>*</span> <span class='hs-num'>1000</span> <span class='hs-varop'>*</span> <span class='hs-num'>1000</span><span class='hs-layout'>)</span>
<a name="line-3767"></a>  <span class='hs-keyglyph'>|</span> <span class='hs-varid'>otherwise</span>            <span class='hs-keyglyph'>=</span> <span class='hs-varid'>throwGhcException</span> <span class='hs-layout'>(</span><span class='hs-conid'>CmdLineError</span> <span class='hs-layout'>(</span><span class='hs-str'>"can't decode size: "</span> <span class='hs-varop'>++</span> <span class='hs-varid'>str</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-3768"></a>  <span class='hs-keyword'>where</span> <span class='hs-layout'>(</span><span class='hs-varid'>m</span><span class='hs-layout'>,</span> <span class='hs-varid'>c</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>span</span> <span class='hs-varid'>pred</span> <span class='hs-varid'>str</span>
<a name="line-3769"></a>        <span class='hs-varid'>n</span>      <span class='hs-keyglyph'>=</span> <span class='hs-varid'>readRational</span> <span class='hs-varid'>m</span>
<a name="line-3770"></a>        <span class='hs-varid'>pred</span> <span class='hs-varid'>c</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>isDigit</span> <span class='hs-varid'>c</span> <span class='hs-varop'>||</span> <span class='hs-varid'>c</span> <span class='hs-varop'>==</span> <span class='hs-chr'>'.'</span>
<a name="line-3771"></a>
<a name="line-3772"></a><span class='hs-keyword'>foreign</span> <span class='hs-keyword'>import</span> <span class='hs-keyword'>ccall</span> <span class='hs-keyword'>unsafe</span> <span class='hs-str'>"setHeapSize"</span>       <span class='hs-varid'>setHeapSize</span>       <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Int</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>IO</span> <span class='hs-conid'>()</span>
<a name="line-3773"></a><span class='hs-keyword'>foreign</span> <span class='hs-keyword'>import</span> <span class='hs-keyword'>ccall</span> <span class='hs-keyword'>unsafe</span> <span class='hs-str'>"enableTimingStats"</span> <span class='hs-varid'>enableTimingStats</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>IO</span> <span class='hs-conid'>()</span>
</pre></body>
</html>
