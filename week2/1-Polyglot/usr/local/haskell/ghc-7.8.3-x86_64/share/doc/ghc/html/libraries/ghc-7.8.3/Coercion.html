<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Coercion</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Coercion.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Coercion.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">ghc-7.8.3: The GHC API</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell98</td></tr></table><p class="caption">Coercion</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Main data type</a><ul><li><a href="#g:2">Functions over coercions</a></li><li><a href="#g:3">Constructing coercions</a></li><li><a href="#g:4">Decomposition</a></li><li><a href="#g:5">Coercion variables</a></li><li><a href="#g:6">Free variables</a></li><li><a href="#g:7">Substitution</a></li><li><a href="#g:8">Lifting</a></li><li><a href="#g:9">Comparison</a></li><li><a href="#g:10">Forcing evaluation of coercions</a></li></ul></li><li><a href="#g:11">Pretty-printing</a></li><li><a href="#g:12">Tidying</a></li><li><a href="#g:13">Other</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Module for (a) type kinds and (b) type coercions,
 as used in System FC. See <code><a href="CoreSyn.html#t:Expr">Expr</a></code> for
 more on System FC and how coercions fit into it.</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">data</span> <a href="#t:Coercion">Coercion</a><ul class="subs"><li>= <a href="#v:Refl">Refl</a> <a href="Coercion.html#t:Role">Role</a> <a href="Type.html#t:Type">Type</a></li><li>| <a href="#v:TyConAppCo">TyConAppCo</a> <a href="Coercion.html#t:Role">Role</a> <a href="TyCon.html#t:TyCon">TyCon</a> [<a href="Coercion.html#t:Coercion">Coercion</a>]</li><li>| <a href="#v:AppCo">AppCo</a> <a href="Coercion.html#t:Coercion">Coercion</a> <a href="Coercion.html#t:Coercion">Coercion</a></li><li>| <a href="#v:ForAllCo">ForAllCo</a> <a href="Var.html#t:TyVar">TyVar</a> <a href="Coercion.html#t:Coercion">Coercion</a></li><li>| <a href="#v:CoVarCo">CoVarCo</a> <a href="Coercion.html#t:CoVar">CoVar</a></li><li>| <a href="#v:AxiomInstCo">AxiomInstCo</a> (<a href="CoAxiom.html#t:CoAxiom">CoAxiom</a> <a href="CoAxiom.html#t:Branched">Branched</a>) <a href="CoAxiom.html#t:BranchIndex">BranchIndex</a> [<a href="Coercion.html#t:Coercion">Coercion</a>]</li><li>| <a href="#v:UnivCo">UnivCo</a> <a href="Coercion.html#t:Role">Role</a> <a href="Type.html#t:Type">Type</a> <a href="Type.html#t:Type">Type</a></li><li>| <a href="#v:SymCo">SymCo</a> <a href="Coercion.html#t:Coercion">Coercion</a></li><li>| <a href="#v:TransCo">TransCo</a> <a href="Coercion.html#t:Coercion">Coercion</a> <a href="Coercion.html#t:Coercion">Coercion</a></li><li>| <a href="#v:AxiomRuleCo">AxiomRuleCo</a> <a href="CoAxiom.html#t:CoAxiomRule">CoAxiomRule</a> [<a href="Type.html#t:Type">Type</a>] [<a href="Coercion.html#t:Coercion">Coercion</a>]</li><li>| <a href="#v:NthCo">NthCo</a> <a href="../base-4.7.0.1/Data-Int.html#t:Int">Int</a> <a href="Coercion.html#t:Coercion">Coercion</a></li><li>| <a href="#v:LRCo">LRCo</a> <a href="Coercion.html#t:LeftOrRight">LeftOrRight</a> <a href="Coercion.html#t:Coercion">Coercion</a></li><li>| <a href="#v:InstCo">InstCo</a> <a href="Coercion.html#t:Coercion">Coercion</a> <a href="Type.html#t:Type">Type</a></li><li>| <a href="#v:SubCo">SubCo</a> <a href="Coercion.html#t:Coercion">Coercion</a></li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:Var">Var</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:CoVar">CoVar</a> = <a href="Var.html#t:Id">Id</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:LeftOrRight">LeftOrRight</a><ul class="subs"><li>= <a href="#v:CLeft">CLeft</a></li><li>| <a href="#v:CRight">CRight</a></li></ul></li><li class="src short"><a href="#v:pickLR">pickLR</a> ::  <a href="Coercion.html#t:LeftOrRight">LeftOrRight</a> -&gt; (a, a) -&gt; a</li><li class="src short"><span class="keyword">data</span> <a href="#t:Role">Role</a><ul class="subs"><li>= <a href="#v:Nominal">Nominal</a></li><li>| <a href="#v:Representational">Representational</a></li><li>| <a href="#v:Phantom">Phantom</a></li></ul></li><li class="src short"><a href="#v:ltRole">ltRole</a> :: <a href="Coercion.html#t:Role">Role</a> -&gt; <a href="Coercion.html#t:Role">Role</a> -&gt; <a href="../base-4.7.0.1/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><a href="#v:coVarKind">coVarKind</a> :: <a href="Coercion.html#t:CoVar">CoVar</a> -&gt; (<a href="Type.html#t:Type">Type</a>, <a href="Type.html#t:Type">Type</a>)</li><li class="src short"><a href="#v:coVarRole">coVarRole</a> :: <a href="Coercion.html#t:CoVar">CoVar</a> -&gt; <a href="Coercion.html#t:Role">Role</a></li><li class="src short"><a href="#v:coercionType">coercionType</a> :: <a href="Coercion.html#t:Coercion">Coercion</a> -&gt; <a href="Type.html#t:Type">Type</a></li><li class="src short"><a href="#v:coercionKind">coercionKind</a> :: <a href="Coercion.html#t:Coercion">Coercion</a> -&gt; <a href="Pair.html#t:Pair">Pair</a> <a href="Type.html#t:Type">Type</a></li><li class="src short"><a href="#v:coercionKinds">coercionKinds</a> :: [<a href="Coercion.html#t:Coercion">Coercion</a>] -&gt; <a href="Pair.html#t:Pair">Pair</a> [<a href="Type.html#t:Type">Type</a>]</li><li class="src short"><a href="#v:isReflCo">isReflCo</a> :: <a href="Coercion.html#t:Coercion">Coercion</a> -&gt; <a href="../base-4.7.0.1/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><a href="#v:isReflCo_maybe">isReflCo_maybe</a> :: <a href="Coercion.html#t:Coercion">Coercion</a> -&gt; <a href="../base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Type.html#t:Type">Type</a></li><li class="src short"><a href="#v:coercionRole">coercionRole</a> :: <a href="Coercion.html#t:Coercion">Coercion</a> -&gt; <a href="Coercion.html#t:Role">Role</a></li><li class="src short"><a href="#v:mkCoercionType">mkCoercionType</a> :: <a href="Coercion.html#t:Role">Role</a> -&gt; <a href="Type.html#t:Type">Type</a> -&gt; <a href="Type.html#t:Type">Type</a> -&gt; <a href="Type.html#t:Type">Type</a></li><li class="src short"><a href="#v:mkReflCo">mkReflCo</a> :: <a href="Coercion.html#t:Role">Role</a> -&gt; <a href="Type.html#t:Type">Type</a> -&gt; <a href="Coercion.html#t:Coercion">Coercion</a></li><li class="src short"><a href="#v:mkCoVarCo">mkCoVarCo</a> :: <a href="Coercion.html#t:CoVar">CoVar</a> -&gt; <a href="Coercion.html#t:Coercion">Coercion</a></li><li class="src short"><a href="#v:mkAxInstCo">mkAxInstCo</a> ::  <a href="Coercion.html#t:Role">Role</a> -&gt; <a href="CoAxiom.html#t:CoAxiom">CoAxiom</a> br -&gt; <a href="CoAxiom.html#t:BranchIndex">BranchIndex</a> -&gt; [<a href="Type.html#t:Type">Type</a>] -&gt; <a href="Coercion.html#t:Coercion">Coercion</a></li><li class="src short"><a href="#v:mkUnbranchedAxInstCo">mkUnbranchedAxInstCo</a> :: <a href="Coercion.html#t:Role">Role</a> -&gt; <a href="CoAxiom.html#t:CoAxiom">CoAxiom</a> <a href="CoAxiom.html#t:Unbranched">Unbranched</a> -&gt; [<a href="Type.html#t:Type">Type</a>] -&gt; <a href="Coercion.html#t:Coercion">Coercion</a></li><li class="src short"><a href="#v:mkAxInstLHS">mkAxInstLHS</a> ::  <a href="CoAxiom.html#t:CoAxiom">CoAxiom</a> br -&gt; <a href="CoAxiom.html#t:BranchIndex">BranchIndex</a> -&gt; [<a href="Type.html#t:Type">Type</a>] -&gt; <a href="Type.html#t:Type">Type</a></li><li class="src short"><a href="#v:mkAxInstRHS">mkAxInstRHS</a> ::  <a href="CoAxiom.html#t:CoAxiom">CoAxiom</a> br -&gt; <a href="CoAxiom.html#t:BranchIndex">BranchIndex</a> -&gt; [<a href="Type.html#t:Type">Type</a>] -&gt; <a href="Type.html#t:Type">Type</a></li><li class="src short"><a href="#v:mkUnbranchedAxInstRHS">mkUnbranchedAxInstRHS</a> :: <a href="CoAxiom.html#t:CoAxiom">CoAxiom</a> <a href="CoAxiom.html#t:Unbranched">Unbranched</a> -&gt; [<a href="Type.html#t:Type">Type</a>] -&gt; <a href="Type.html#t:Type">Type</a></li><li class="src short"><a href="#v:mkPiCo">mkPiCo</a> :: <a href="Coercion.html#t:Role">Role</a> -&gt; <a href="Coercion.html#t:Var">Var</a> -&gt; <a href="Coercion.html#t:Coercion">Coercion</a> -&gt; <a href="Coercion.html#t:Coercion">Coercion</a></li><li class="src short"><a href="#v:mkPiCos">mkPiCos</a> :: <a href="Coercion.html#t:Role">Role</a> -&gt; [<a href="Coercion.html#t:Var">Var</a>] -&gt; <a href="Coercion.html#t:Coercion">Coercion</a> -&gt; <a href="Coercion.html#t:Coercion">Coercion</a></li><li class="src short"><a href="#v:mkCoCast">mkCoCast</a> :: <a href="Coercion.html#t:Coercion">Coercion</a> -&gt; <a href="Coercion.html#t:Coercion">Coercion</a> -&gt; <a href="Coercion.html#t:Coercion">Coercion</a></li><li class="src short"><a href="#v:mkSymCo">mkSymCo</a> :: <a href="Coercion.html#t:Coercion">Coercion</a> -&gt; <a href="Coercion.html#t:Coercion">Coercion</a></li><li class="src short"><a href="#v:mkTransCo">mkTransCo</a> :: <a href="Coercion.html#t:Coercion">Coercion</a> -&gt; <a href="Coercion.html#t:Coercion">Coercion</a> -&gt; <a href="Coercion.html#t:Coercion">Coercion</a></li><li class="src short"><a href="#v:mkNthCo">mkNthCo</a> :: <a href="../base-4.7.0.1/Data-Int.html#t:Int">Int</a> -&gt; <a href="Coercion.html#t:Coercion">Coercion</a> -&gt; <a href="Coercion.html#t:Coercion">Coercion</a></li><li class="src short"><a href="#v:mkNthCoRole">mkNthCoRole</a> :: <a href="Coercion.html#t:Role">Role</a> -&gt; <a href="../base-4.7.0.1/Data-Int.html#t:Int">Int</a> -&gt; <a href="Coercion.html#t:Coercion">Coercion</a> -&gt; <a href="Coercion.html#t:Coercion">Coercion</a></li><li class="src short"><a href="#v:mkLRCo">mkLRCo</a> :: <a href="Coercion.html#t:LeftOrRight">LeftOrRight</a> -&gt; <a href="Coercion.html#t:Coercion">Coercion</a> -&gt; <a href="Coercion.html#t:Coercion">Coercion</a></li><li class="src short"><a href="#v:mkInstCo">mkInstCo</a> :: <a href="Coercion.html#t:Coercion">Coercion</a> -&gt; <a href="Type.html#t:Type">Type</a> -&gt; <a href="Coercion.html#t:Coercion">Coercion</a></li><li class="src short"><a href="#v:mkAppCo">mkAppCo</a> :: <a href="Coercion.html#t:Coercion">Coercion</a> -&gt; <a href="Coercion.html#t:Coercion">Coercion</a> -&gt; <a href="Coercion.html#t:Coercion">Coercion</a></li><li class="src short"><a href="#v:mkAppCoFlexible">mkAppCoFlexible</a> :: <a href="Coercion.html#t:Coercion">Coercion</a> -&gt; <a href="Coercion.html#t:Role">Role</a> -&gt; <a href="Coercion.html#t:Coercion">Coercion</a> -&gt; <a href="Coercion.html#t:Coercion">Coercion</a></li><li class="src short"><a href="#v:mkTyConAppCo">mkTyConAppCo</a> :: <a href="Coercion.html#t:Role">Role</a> -&gt; <a href="TyCon.html#t:TyCon">TyCon</a> -&gt; [<a href="Coercion.html#t:Coercion">Coercion</a>] -&gt; <a href="Coercion.html#t:Coercion">Coercion</a></li><li class="src short"><a href="#v:mkFunCo">mkFunCo</a> :: <a href="Coercion.html#t:Role">Role</a> -&gt; <a href="Coercion.html#t:Coercion">Coercion</a> -&gt; <a href="Coercion.html#t:Coercion">Coercion</a> -&gt; <a href="Coercion.html#t:Coercion">Coercion</a></li><li class="src short"><a href="#v:mkForAllCo">mkForAllCo</a> :: <a href="Coercion.html#t:Var">Var</a> -&gt; <a href="Coercion.html#t:Coercion">Coercion</a> -&gt; <a href="Coercion.html#t:Coercion">Coercion</a></li><li class="src short"><a href="#v:mkUnsafeCo">mkUnsafeCo</a> :: <a href="Type.html#t:Type">Type</a> -&gt; <a href="Type.html#t:Type">Type</a> -&gt; <a href="Coercion.html#t:Coercion">Coercion</a></li><li class="src short"><a href="#v:mkUnivCo">mkUnivCo</a> :: <a href="Coercion.html#t:Role">Role</a> -&gt; <a href="Type.html#t:Type">Type</a> -&gt; <a href="Type.html#t:Type">Type</a> -&gt; <a href="Coercion.html#t:Coercion">Coercion</a></li><li class="src short"><a href="#v:mkSubCo">mkSubCo</a> :: <a href="Coercion.html#t:Coercion">Coercion</a> -&gt; <a href="Coercion.html#t:Coercion">Coercion</a></li><li class="src short"><a href="#v:mkPhantomCo">mkPhantomCo</a> :: <a href="Coercion.html#t:Coercion">Coercion</a> -&gt; <a href="Coercion.html#t:Coercion">Coercion</a></li><li class="src short"><a href="#v:mkNewTypeCo">mkNewTypeCo</a> :: <a href="Name.html#t:Name">Name</a> -&gt; <a href="TyCon.html#t:TyCon">TyCon</a> -&gt; [<a href="Var.html#t:TyVar">TyVar</a>] -&gt; [<a href="Coercion.html#t:Role">Role</a>] -&gt; <a href="Type.html#t:Type">Type</a> -&gt; <a href="CoAxiom.html#t:CoAxiom">CoAxiom</a> <a href="CoAxiom.html#t:Unbranched">Unbranched</a></li><li class="src short"><a href="#v:maybeSubCo">maybeSubCo</a> :: <a href="Coercion.html#t:Role">Role</a> -&gt; <a href="Coercion.html#t:Coercion">Coercion</a> -&gt; <a href="Coercion.html#t:Coercion">Coercion</a></li><li class="src short"><a href="#v:maybeSubCo2">maybeSubCo2</a> :: <a href="Coercion.html#t:Role">Role</a> -&gt; <a href="Coercion.html#t:Role">Role</a> -&gt; <a href="Coercion.html#t:Coercion">Coercion</a> -&gt; <a href="Coercion.html#t:Coercion">Coercion</a></li><li class="src short"><a href="#v:mkAxiomRuleCo">mkAxiomRuleCo</a> :: <a href="CoAxiom.html#t:CoAxiomRule">CoAxiomRule</a> -&gt; [<a href="Type.html#t:Type">Type</a>] -&gt; [<a href="Coercion.html#t:Coercion">Coercion</a>] -&gt; <a href="Coercion.html#t:Coercion">Coercion</a></li><li class="src short"><a href="#v:instNewTyCon_maybe">instNewTyCon_maybe</a> :: <a href="TyCon.html#t:TyCon">TyCon</a> -&gt; [<a href="Type.html#t:Type">Type</a>] -&gt; <a href="../base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="Type.html#t:Type">Type</a>, <a href="Coercion.html#t:Coercion">Coercion</a>)</li><li class="src short"><a href="#v:topNormaliseNewType_maybe">topNormaliseNewType_maybe</a> :: <a href="Type.html#t:Type">Type</a> -&gt; <a href="../base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="Coercion.html#t:Coercion">Coercion</a>, <a href="Type.html#t:Type">Type</a>)</li><li class="src short"><a href="#v:decomposeCo">decomposeCo</a> :: <a href="BasicTypes.html#t:Arity">Arity</a> -&gt; <a href="Coercion.html#t:Coercion">Coercion</a> -&gt; [<a href="Coercion.html#t:Coercion">Coercion</a>]</li><li class="src short"><a href="#v:getCoVar_maybe">getCoVar_maybe</a> :: <a href="Coercion.html#t:Coercion">Coercion</a> -&gt; <a href="../base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Coercion.html#t:CoVar">CoVar</a></li><li class="src short"><a href="#v:splitAppCo_maybe">splitAppCo_maybe</a> :: <a href="Coercion.html#t:Coercion">Coercion</a> -&gt; <a href="../base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="Coercion.html#t:Coercion">Coercion</a>, <a href="Coercion.html#t:Coercion">Coercion</a>)</li><li class="src short"><a href="#v:splitForAllCo_maybe">splitForAllCo_maybe</a> :: <a href="Coercion.html#t:Coercion">Coercion</a> -&gt; <a href="../base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="Var.html#t:TyVar">TyVar</a>, <a href="Coercion.html#t:Coercion">Coercion</a>)</li><li class="src short"><a href="#v:nthRole">nthRole</a> :: <a href="Coercion.html#t:Role">Role</a> -&gt; <a href="TyCon.html#t:TyCon">TyCon</a> -&gt; <a href="../base-4.7.0.1/Data-Int.html#t:Int">Int</a> -&gt; <a href="Coercion.html#t:Role">Role</a></li><li class="src short"><a href="#v:tyConRolesX">tyConRolesX</a> :: <a href="Coercion.html#t:Role">Role</a> -&gt; <a href="TyCon.html#t:TyCon">TyCon</a> -&gt; [<a href="Coercion.html#t:Role">Role</a>]</li><li class="src short"><a href="#v:nextRole">nextRole</a> :: <a href="Coercion.html#t:Coercion">Coercion</a> -&gt; <a href="Coercion.html#t:Role">Role</a></li><li class="src short"><a href="#v:mkCoVar">mkCoVar</a> :: <a href="Name.html#t:Name">Name</a> -&gt; <a href="Type.html#t:Type">Type</a> -&gt; <a href="Coercion.html#t:CoVar">CoVar</a></li><li class="src short"><a href="#v:isCoVar">isCoVar</a> :: <a href="Coercion.html#t:Var">Var</a> -&gt; <a href="../base-4.7.0.1/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><a href="#v:isCoVarType">isCoVarType</a> :: <a href="Type.html#t:Type">Type</a> -&gt; <a href="../base-4.7.0.1/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><a href="#v:coVarName">coVarName</a> :: <a href="Coercion.html#t:CoVar">CoVar</a> -&gt; <a href="Name.html#t:Name">Name</a></li><li class="src short"><a href="#v:setCoVarName">setCoVarName</a> :: <a href="Coercion.html#t:CoVar">CoVar</a> -&gt; <a href="Name.html#t:Name">Name</a> -&gt; <a href="Coercion.html#t:CoVar">CoVar</a></li><li class="src short"><a href="#v:setCoVarUnique">setCoVarUnique</a> :: <a href="Coercion.html#t:CoVar">CoVar</a> -&gt; <a href="Unique.html#t:Unique">Unique</a> -&gt; <a href="Coercion.html#t:CoVar">CoVar</a></li><li class="src short"><a href="#v:tyCoVarsOfCo">tyCoVarsOfCo</a> :: <a href="Coercion.html#t:Coercion">Coercion</a> -&gt; <a href="VarSet.html#t:VarSet">VarSet</a></li><li class="src short"><a href="#v:tyCoVarsOfCos">tyCoVarsOfCos</a> :: [<a href="Coercion.html#t:Coercion">Coercion</a>] -&gt; <a href="VarSet.html#t:VarSet">VarSet</a></li><li class="src short"><a href="#v:coVarsOfCo">coVarsOfCo</a> :: <a href="Coercion.html#t:Coercion">Coercion</a> -&gt; <a href="VarSet.html#t:VarSet">VarSet</a></li><li class="src short"><a href="#v:coercionSize">coercionSize</a> :: <a href="Coercion.html#t:Coercion">Coercion</a> -&gt; <a href="../base-4.7.0.1/Data-Int.html#t:Int">Int</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:CvSubstEnv">CvSubstEnv</a> = <a href="VarEnv.html#t:VarEnv">VarEnv</a> <a href="Coercion.html#t:Coercion">Coercion</a></li><li class="src short"><a href="#v:emptyCvSubstEnv">emptyCvSubstEnv</a> :: <a href="Coercion.html#t:CvSubstEnv">CvSubstEnv</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:CvSubst">CvSubst</a> = <a href="#v:CvSubst">CvSubst</a> <a href="VarEnv.html#t:InScopeSet">InScopeSet</a> <a href="Type.html#t:TvSubstEnv">TvSubstEnv</a> <a href="Coercion.html#t:CvSubstEnv">CvSubstEnv</a></li><li class="src short"><a href="#v:emptyCvSubst">emptyCvSubst</a> :: <a href="Coercion.html#t:CvSubst">CvSubst</a></li><li class="src short"><a href="#v:lookupTyVar">lookupTyVar</a> :: <a href="Coercion.html#t:CvSubst">CvSubst</a> -&gt; <a href="Var.html#t:TyVar">TyVar</a> -&gt; <a href="../base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Type.html#t:Type">Type</a></li><li class="src short"><a href="#v:lookupCoVar">lookupCoVar</a> :: <a href="Coercion.html#t:CvSubst">CvSubst</a> -&gt; <a href="Coercion.html#t:Var">Var</a> -&gt; <a href="../base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Coercion.html#t:Coercion">Coercion</a></li><li class="src short"><a href="#v:isEmptyCvSubst">isEmptyCvSubst</a> :: <a href="Coercion.html#t:CvSubst">CvSubst</a> -&gt; <a href="../base-4.7.0.1/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><a href="#v:zapCvSubstEnv">zapCvSubstEnv</a> :: <a href="Coercion.html#t:CvSubst">CvSubst</a> -&gt; <a href="Coercion.html#t:CvSubst">CvSubst</a></li><li class="src short"><a href="#v:getCvInScope">getCvInScope</a> :: <a href="Coercion.html#t:CvSubst">CvSubst</a> -&gt; <a href="VarEnv.html#t:InScopeSet">InScopeSet</a></li><li class="src short"><a href="#v:substCo">substCo</a> :: <a href="Coercion.html#t:CvSubst">CvSubst</a> -&gt; <a href="Coercion.html#t:Coercion">Coercion</a> -&gt; <a href="Coercion.html#t:Coercion">Coercion</a></li><li class="src short"><a href="#v:substCos">substCos</a> :: <a href="Coercion.html#t:CvSubst">CvSubst</a> -&gt; [<a href="Coercion.html#t:Coercion">Coercion</a>] -&gt; [<a href="Coercion.html#t:Coercion">Coercion</a>]</li><li class="src short"><a href="#v:substCoVar">substCoVar</a> :: <a href="Coercion.html#t:CvSubst">CvSubst</a> -&gt; <a href="Coercion.html#t:CoVar">CoVar</a> -&gt; <a href="Coercion.html#t:Coercion">Coercion</a></li><li class="src short"><a href="#v:substCoVars">substCoVars</a> :: <a href="Coercion.html#t:CvSubst">CvSubst</a> -&gt; [<a href="Coercion.html#t:CoVar">CoVar</a>] -&gt; [<a href="Coercion.html#t:Coercion">Coercion</a>]</li><li class="src short"><a href="#v:substCoWithTy">substCoWithTy</a> :: <a href="VarEnv.html#t:InScopeSet">InScopeSet</a> -&gt; <a href="Var.html#t:TyVar">TyVar</a> -&gt; <a href="Type.html#t:Type">Type</a> -&gt; <a href="Coercion.html#t:Coercion">Coercion</a> -&gt; <a href="Coercion.html#t:Coercion">Coercion</a></li><li class="src short"><a href="#v:substCoWithTys">substCoWithTys</a> :: <a href="VarEnv.html#t:InScopeSet">InScopeSet</a> -&gt; [<a href="Var.html#t:TyVar">TyVar</a>] -&gt; [<a href="Type.html#t:Type">Type</a>] -&gt; <a href="Coercion.html#t:Coercion">Coercion</a> -&gt; <a href="Coercion.html#t:Coercion">Coercion</a></li><li class="src short"><a href="#v:cvTvSubst">cvTvSubst</a> :: <a href="Coercion.html#t:CvSubst">CvSubst</a> -&gt; <a href="Type.html#t:TvSubst">TvSubst</a></li><li class="src short"><a href="#v:tvCvSubst">tvCvSubst</a> :: <a href="Type.html#t:TvSubst">TvSubst</a> -&gt; <a href="Coercion.html#t:CvSubst">CvSubst</a></li><li class="src short"><a href="#v:mkCvSubst">mkCvSubst</a> :: <a href="VarEnv.html#t:InScopeSet">InScopeSet</a> -&gt; [(<a href="Coercion.html#t:Var">Var</a>, <a href="Coercion.html#t:Coercion">Coercion</a>)] -&gt; <a href="Coercion.html#t:CvSubst">CvSubst</a></li><li class="src short"><a href="#v:zipOpenCvSubst">zipOpenCvSubst</a> :: [<a href="Coercion.html#t:Var">Var</a>] -&gt; [<a href="Coercion.html#t:Coercion">Coercion</a>] -&gt; <a href="Coercion.html#t:CvSubst">CvSubst</a></li><li class="src short"><a href="#v:substTy">substTy</a> :: <a href="Coercion.html#t:CvSubst">CvSubst</a> -&gt; <a href="Type.html#t:Type">Type</a> -&gt; <a href="Type.html#t:Type">Type</a></li><li class="src short"><a href="#v:extendTvSubst">extendTvSubst</a> :: <a href="Coercion.html#t:CvSubst">CvSubst</a> -&gt; <a href="Var.html#t:TyVar">TyVar</a> -&gt; <a href="Type.html#t:Type">Type</a> -&gt; <a href="Coercion.html#t:CvSubst">CvSubst</a></li><li class="src short"><a href="#v:extendCvSubstAndInScope">extendCvSubstAndInScope</a> :: <a href="Coercion.html#t:CvSubst">CvSubst</a> -&gt; <a href="Coercion.html#t:CoVar">CoVar</a> -&gt; <a href="Coercion.html#t:Coercion">Coercion</a> -&gt; <a href="Coercion.html#t:CvSubst">CvSubst</a></li><li class="src short"><a href="#v:extendTvSubstAndInScope">extendTvSubstAndInScope</a> :: <a href="Coercion.html#t:CvSubst">CvSubst</a> -&gt; <a href="Var.html#t:TyVar">TyVar</a> -&gt; <a href="Type.html#t:Type">Type</a> -&gt; <a href="Coercion.html#t:CvSubst">CvSubst</a></li><li class="src short"><a href="#v:substTyVarBndr">substTyVarBndr</a> :: <a href="Coercion.html#t:CvSubst">CvSubst</a> -&gt; <a href="Var.html#t:TyVar">TyVar</a> -&gt; (<a href="Coercion.html#t:CvSubst">CvSubst</a>, <a href="Var.html#t:TyVar">TyVar</a>)</li><li class="src short"><a href="#v:substCoVarBndr">substCoVarBndr</a> :: <a href="Coercion.html#t:CvSubst">CvSubst</a> -&gt; <a href="Coercion.html#t:CoVar">CoVar</a> -&gt; (<a href="Coercion.html#t:CvSubst">CvSubst</a>, <a href="Coercion.html#t:CoVar">CoVar</a>)</li><li class="src short"><a href="#v:liftCoMatch">liftCoMatch</a> :: <a href="VarSet.html#t:TyVarSet">TyVarSet</a> -&gt; <a href="Type.html#t:Type">Type</a> -&gt; <a href="Coercion.html#t:Coercion">Coercion</a> -&gt; <a href="../base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a> LiftCoSubst</li><li class="src short"><a href="#v:liftCoSubstTyVar">liftCoSubstTyVar</a> :: LiftCoSubst -&gt; <a href="Coercion.html#t:Role">Role</a> -&gt; <a href="Var.html#t:TyVar">TyVar</a> -&gt; <a href="../base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Coercion.html#t:Coercion">Coercion</a></li><li class="src short"><a href="#v:liftCoSubstWith">liftCoSubstWith</a> :: <a href="Coercion.html#t:Role">Role</a> -&gt; [<a href="Var.html#t:TyVar">TyVar</a>] -&gt; [<a href="Coercion.html#t:Coercion">Coercion</a>] -&gt; <a href="Type.html#t:Type">Type</a> -&gt; <a href="Coercion.html#t:Coercion">Coercion</a></li><li class="src short"><a href="#v:coreEqCoercion">coreEqCoercion</a> :: <a href="Coercion.html#t:Coercion">Coercion</a> -&gt; <a href="Coercion.html#t:Coercion">Coercion</a> -&gt; <a href="../base-4.7.0.1/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><a href="#v:coreEqCoercion2">coreEqCoercion2</a> :: <a href="VarEnv.html#t:RnEnv2">RnEnv2</a> -&gt; <a href="Coercion.html#t:Coercion">Coercion</a> -&gt; <a href="Coercion.html#t:Coercion">Coercion</a> -&gt; <a href="../base-4.7.0.1/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><a href="#v:seqCo">seqCo</a> :: <a href="Coercion.html#t:Coercion">Coercion</a> -&gt; ()</li><li class="src short"><a href="#v:pprCo">pprCo</a> :: <a href="Coercion.html#t:Coercion">Coercion</a> -&gt; <a href="Outputable.html#t:SDoc">SDoc</a></li><li class="src short"><a href="#v:pprParendCo">pprParendCo</a> :: <a href="Coercion.html#t:Coercion">Coercion</a> -&gt; <a href="Outputable.html#t:SDoc">SDoc</a></li><li class="src short"><a href="#v:pprCoAxiom">pprCoAxiom</a> ::  <a href="CoAxiom.html#t:CoAxiom">CoAxiom</a> br -&gt; <a href="Outputable.html#t:SDoc">SDoc</a></li><li class="src short"><a href="#v:pprCoAxBranch">pprCoAxBranch</a> :: <a href="TyCon.html#t:TyCon">TyCon</a> -&gt; <a href="CoAxiom.html#t:CoAxBranch">CoAxBranch</a> -&gt; <a href="Outputable.html#t:SDoc">SDoc</a></li><li class="src short"><a href="#v:pprCoAxBranchHdr">pprCoAxBranchHdr</a> ::  <a href="CoAxiom.html#t:CoAxiom">CoAxiom</a> br -&gt; <a href="CoAxiom.html#t:BranchIndex">BranchIndex</a> -&gt; <a href="Outputable.html#t:SDoc">SDoc</a></li><li class="src short"><a href="#v:tidyCo">tidyCo</a> :: <a href="VarEnv.html#t:TidyEnv">TidyEnv</a> -&gt; <a href="Coercion.html#t:Coercion">Coercion</a> -&gt; <a href="Coercion.html#t:Coercion">Coercion</a></li><li class="src short"><a href="#v:tidyCos">tidyCos</a> :: <a href="VarEnv.html#t:TidyEnv">TidyEnv</a> -&gt; [<a href="Coercion.html#t:Coercion">Coercion</a>] -&gt; [<a href="Coercion.html#t:Coercion">Coercion</a>]</li><li class="src short"><a href="#v:applyCo">applyCo</a> :: <a href="Type.html#t:Type">Type</a> -&gt; <a href="Coercion.html#t:Coercion">Coercion</a> -&gt; <a href="Type.html#t:Type">Type</a></li></ul></div><div id="interface"><h1 id="g:1">Main data type</h1><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:Coercion" class="def">Coercion</a> <a href="src/Coercion.html#Coercion" class="link">Source</a></p><div class="doc"><p>A <code><a href="Coercion.html#t:Coercion">Coercion</a></code> is concrete evidence of the equality/convertibility
 of two types.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:Refl" class="def">Refl</a> <a href="Coercion.html#t:Role">Role</a> <a href="Type.html#t:Type">Type</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:TyConAppCo" class="def">TyConAppCo</a> <a href="Coercion.html#t:Role">Role</a> <a href="TyCon.html#t:TyCon">TyCon</a> [<a href="Coercion.html#t:Coercion">Coercion</a>]</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:AppCo" class="def">AppCo</a> <a href="Coercion.html#t:Coercion">Coercion</a> <a href="Coercion.html#t:Coercion">Coercion</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:ForAllCo" class="def">ForAllCo</a> <a href="Var.html#t:TyVar">TyVar</a> <a href="Coercion.html#t:Coercion">Coercion</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:CoVarCo" class="def">CoVarCo</a> <a href="Coercion.html#t:CoVar">CoVar</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:AxiomInstCo" class="def">AxiomInstCo</a> (<a href="CoAxiom.html#t:CoAxiom">CoAxiom</a> <a href="CoAxiom.html#t:Branched">Branched</a>) <a href="CoAxiom.html#t:BranchIndex">BranchIndex</a> [<a href="Coercion.html#t:Coercion">Coercion</a>]</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:UnivCo" class="def">UnivCo</a> <a href="Coercion.html#t:Role">Role</a> <a href="Type.html#t:Type">Type</a> <a href="Type.html#t:Type">Type</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:SymCo" class="def">SymCo</a> <a href="Coercion.html#t:Coercion">Coercion</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:TransCo" class="def">TransCo</a> <a href="Coercion.html#t:Coercion">Coercion</a> <a href="Coercion.html#t:Coercion">Coercion</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:AxiomRuleCo" class="def">AxiomRuleCo</a> <a href="CoAxiom.html#t:CoAxiomRule">CoAxiomRule</a> [<a href="Type.html#t:Type">Type</a>] [<a href="Coercion.html#t:Coercion">Coercion</a>]</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:NthCo" class="def">NthCo</a> <a href="../base-4.7.0.1/Data-Int.html#t:Int">Int</a> <a href="Coercion.html#t:Coercion">Coercion</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:LRCo" class="def">LRCo</a> <a href="Coercion.html#t:LeftOrRight">LeftOrRight</a> <a href="Coercion.html#t:Coercion">Coercion</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:InstCo" class="def">InstCo</a> <a href="Coercion.html#t:Coercion">Coercion</a> <a href="Type.html#t:Type">Type</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:SubCo" class="def">SubCo</a> <a href="Coercion.html#t:Coercion">Coercion</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:Coercion" class="caption collapser" onclick="toggleSection('i:Coercion')">Instances</p><div id="section.i:Coercion" class="show"><table><tr><td class="src"><a href="../base-4.7.0.1/Data-Data.html#t:Data">Data</a> <a href="Coercion.html#t:Coercion">Coercion</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Outputable.html#t:Outputable">Outputable</a> <a href="Coercion.html#t:Coercion">Coercion</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="../base-4.7.0.1/Data-Typeable-Internal.html#t:Typeable">Typeable</a> * <a href="Coercion.html#t:Coercion">Coercion</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:Var" class="def">Var</a> <a href="src/Var.html#Var" class="link">Source</a></p><div class="doc"><p>Essentially a typed <code><a href="Name.html#t:Name">Name</a></code>, that may also contain some additional information
 about the <code><a href="Coercion.html#t:Var">Var</a></code> and it's use sites.</p></div><div class="subs instances"><p id="control.i:Var" class="caption collapser" onclick="toggleSection('i:Var')">Instances</p><div id="section.i:Var" class="show"><table><tr><td class="src"><a href="../base-4.7.0.1/Data-Eq.html#t:Eq">Eq</a> <a href="Coercion.html#t:Var">Var</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="../base-4.7.0.1/Data-Data.html#t:Data">Data</a> <a href="Coercion.html#t:Var">Var</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="../base-4.7.0.1/Data-Ord.html#t:Ord">Ord</a> <a href="Coercion.html#t:Var">Var</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Outputable.html#t:OutputableBndr">OutputableBndr</a> <a href="Coercion.html#t:Var">Var</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Outputable.html#t:Outputable">Outputable</a> <a href="Coercion.html#t:Var">Var</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Unique.html#t:Uniquable">Uniquable</a> <a href="Coercion.html#t:Var">Var</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Name.html#t:NamedThing">NamedThing</a> <a href="Coercion.html#t:Var">Var</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="../base-4.7.0.1/Data-Typeable-Internal.html#t:Typeable">Typeable</a> * <a href="Coercion.html#t:Var">Var</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:CoVar" class="def">CoVar</a> = <a href="Var.html#t:Id">Id</a> <a href="src/Var.html#CoVar" class="link">Source</a></p></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:LeftOrRight" class="def">LeftOrRight</a> <a href="src/Coercion.html#LeftOrRight" class="link">Source</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:CLeft" class="def">CLeft</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:CRight" class="def">CRight</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:LeftOrRight" class="caption collapser" onclick="toggleSection('i:LeftOrRight')">Instances</p><div id="section.i:LeftOrRight" class="show"><table><tr><td class="src"><a href="../base-4.7.0.1/Data-Eq.html#t:Eq">Eq</a> <a href="Coercion.html#t:LeftOrRight">LeftOrRight</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="../base-4.7.0.1/Data-Data.html#t:Data">Data</a> <a href="Coercion.html#t:LeftOrRight">LeftOrRight</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Outputable.html#t:Outputable">Outputable</a> <a href="Coercion.html#t:LeftOrRight">LeftOrRight</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Binary.html#t:Binary">Binary</a> <a href="Coercion.html#t:LeftOrRight">LeftOrRight</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="../base-4.7.0.1/Data-Typeable-Internal.html#t:Typeable">Typeable</a> * <a href="Coercion.html#t:LeftOrRight">LeftOrRight</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:pickLR" class="def">pickLR</a> ::  <a href="Coercion.html#t:LeftOrRight">LeftOrRight</a> -&gt; (a, a) -&gt; a <a href="src/Coercion.html#pickLR" class="link">Source</a></p></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:Role" class="def">Role</a> <a href="src/CoAxiom.html#Role" class="link">Source</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:Nominal" class="def">Nominal</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:Representational" class="def">Representational</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:Phantom" class="def">Phantom</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:Role" class="caption collapser" onclick="toggleSection('i:Role')">Instances</p><div id="section.i:Role" class="show"><table><tr><td class="src"><a href="../base-4.7.0.1/Data-Eq.html#t:Eq">Eq</a> <a href="Coercion.html#t:Role">Role</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="../base-4.7.0.1/Data-Data.html#t:Data">Data</a> <a href="Coercion.html#t:Role">Role</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Outputable.html#t:Outputable">Outputable</a> <a href="Coercion.html#t:Role">Role</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Binary.html#t:Binary">Binary</a> <a href="Coercion.html#t:Role">Role</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="../base-4.7.0.1/Data-Typeable-Internal.html#t:Typeable">Typeable</a> * <a href="Coercion.html#t:Role">Role</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:ltRole" class="def">ltRole</a> :: <a href="Coercion.html#t:Role">Role</a> -&gt; <a href="Coercion.html#t:Role">Role</a> -&gt; <a href="../base-4.7.0.1/Data-Bool.html#t:Bool">Bool</a> <a href="src/Coercion.html#ltRole" class="link">Source</a></p></div><h2 id="g:2">Functions over coercions</h2><div class="top"><p class="src"><a name="v:coVarKind" class="def">coVarKind</a> :: <a href="Coercion.html#t:CoVar">CoVar</a> -&gt; (<a href="Type.html#t:Type">Type</a>, <a href="Type.html#t:Type">Type</a>) <a href="src/Coercion.html#coVarKind" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:coVarRole" class="def">coVarRole</a> :: <a href="Coercion.html#t:CoVar">CoVar</a> -&gt; <a href="Coercion.html#t:Role">Role</a> <a href="src/Coercion.html#coVarRole" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:coercionType" class="def">coercionType</a> :: <a href="Coercion.html#t:Coercion">Coercion</a> -&gt; <a href="Type.html#t:Type">Type</a> <a href="src/Coercion.html#coercionType" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:coercionKind" class="def">coercionKind</a> :: <a href="Coercion.html#t:Coercion">Coercion</a> -&gt; <a href="Pair.html#t:Pair">Pair</a> <a href="Type.html#t:Type">Type</a> <a href="src/Coercion.html#coercionKind" class="link">Source</a></p><div class="doc"><p>If it is the case that</p><pre>c :: (t1 ~ t2)</pre><p>i.e. the kind of <code>c</code> relates <code>t1</code> and <code>t2</code>, then <code>coercionKind c = Pair t1 t2</code>.</p></div></div><div class="top"><p class="src"><a name="v:coercionKinds" class="def">coercionKinds</a> :: [<a href="Coercion.html#t:Coercion">Coercion</a>] -&gt; <a href="Pair.html#t:Pair">Pair</a> [<a href="Type.html#t:Type">Type</a>] <a href="src/Coercion.html#coercionKinds" class="link">Source</a></p><div class="doc"><p>Apply <code><a href="Coercion.html#v:coercionKind">coercionKind</a></code> to multiple <code><a href="Coercion.html#t:Coercion">Coercion</a></code>s</p></div></div><div class="top"><p class="src"><a name="v:isReflCo" class="def">isReflCo</a> :: <a href="Coercion.html#t:Coercion">Coercion</a> -&gt; <a href="../base-4.7.0.1/Data-Bool.html#t:Bool">Bool</a> <a href="src/Coercion.html#isReflCo" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:isReflCo_maybe" class="def">isReflCo_maybe</a> :: <a href="Coercion.html#t:Coercion">Coercion</a> -&gt; <a href="../base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Type.html#t:Type">Type</a> <a href="src/Coercion.html#isReflCo_maybe" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:coercionRole" class="def">coercionRole</a> :: <a href="Coercion.html#t:Coercion">Coercion</a> -&gt; <a href="Coercion.html#t:Role">Role</a> <a href="src/Coercion.html#coercionRole" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:mkCoercionType" class="def">mkCoercionType</a> :: <a href="Coercion.html#t:Role">Role</a> -&gt; <a href="Type.html#t:Type">Type</a> -&gt; <a href="Type.html#t:Type">Type</a> -&gt; <a href="Type.html#t:Type">Type</a> <a href="src/Coercion.html#mkCoercionType" class="link">Source</a></p><div class="doc"><p>Makes a coercion type from two types: the types whose equality
 is proven by the relevant <code><a href="Coercion.html#t:Coercion">Coercion</a></code></p></div></div><h2 id="g:3">Constructing coercions</h2><div class="top"><p class="src"><a name="v:mkReflCo" class="def">mkReflCo</a> :: <a href="Coercion.html#t:Role">Role</a> -&gt; <a href="Type.html#t:Type">Type</a> -&gt; <a href="Coercion.html#t:Coercion">Coercion</a> <a href="src/Coercion.html#mkReflCo" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:mkCoVarCo" class="def">mkCoVarCo</a> :: <a href="Coercion.html#t:CoVar">CoVar</a> -&gt; <a href="Coercion.html#t:Coercion">Coercion</a> <a href="src/Coercion.html#mkCoVarCo" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:mkAxInstCo" class="def">mkAxInstCo</a> ::  <a href="Coercion.html#t:Role">Role</a> -&gt; <a href="CoAxiom.html#t:CoAxiom">CoAxiom</a> br -&gt; <a href="CoAxiom.html#t:BranchIndex">BranchIndex</a> -&gt; [<a href="Type.html#t:Type">Type</a>] -&gt; <a href="Coercion.html#t:Coercion">Coercion</a> <a href="src/Coercion.html#mkAxInstCo" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:mkUnbranchedAxInstCo" class="def">mkUnbranchedAxInstCo</a> :: <a href="Coercion.html#t:Role">Role</a> -&gt; <a href="CoAxiom.html#t:CoAxiom">CoAxiom</a> <a href="CoAxiom.html#t:Unbranched">Unbranched</a> -&gt; [<a href="Type.html#t:Type">Type</a>] -&gt; <a href="Coercion.html#t:Coercion">Coercion</a> <a href="src/Coercion.html#mkUnbranchedAxInstCo" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:mkAxInstLHS" class="def">mkAxInstLHS</a> ::  <a href="CoAxiom.html#t:CoAxiom">CoAxiom</a> br -&gt; <a href="CoAxiom.html#t:BranchIndex">BranchIndex</a> -&gt; [<a href="Type.html#t:Type">Type</a>] -&gt; <a href="Type.html#t:Type">Type</a> <a href="src/Coercion.html#mkAxInstLHS" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:mkAxInstRHS" class="def">mkAxInstRHS</a> ::  <a href="CoAxiom.html#t:CoAxiom">CoAxiom</a> br -&gt; <a href="CoAxiom.html#t:BranchIndex">BranchIndex</a> -&gt; [<a href="Type.html#t:Type">Type</a>] -&gt; <a href="Type.html#t:Type">Type</a> <a href="src/Coercion.html#mkAxInstRHS" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:mkUnbranchedAxInstRHS" class="def">mkUnbranchedAxInstRHS</a> :: <a href="CoAxiom.html#t:CoAxiom">CoAxiom</a> <a href="CoAxiom.html#t:Unbranched">Unbranched</a> -&gt; [<a href="Type.html#t:Type">Type</a>] -&gt; <a href="Type.html#t:Type">Type</a> <a href="src/Coercion.html#mkUnbranchedAxInstRHS" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:mkPiCo" class="def">mkPiCo</a> :: <a href="Coercion.html#t:Role">Role</a> -&gt; <a href="Coercion.html#t:Var">Var</a> -&gt; <a href="Coercion.html#t:Coercion">Coercion</a> -&gt; <a href="Coercion.html#t:Coercion">Coercion</a> <a href="src/Coercion.html#mkPiCo" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:mkPiCos" class="def">mkPiCos</a> :: <a href="Coercion.html#t:Role">Role</a> -&gt; [<a href="Coercion.html#t:Var">Var</a>] -&gt; <a href="Coercion.html#t:Coercion">Coercion</a> -&gt; <a href="Coercion.html#t:Coercion">Coercion</a> <a href="src/Coercion.html#mkPiCos" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:mkCoCast" class="def">mkCoCast</a> :: <a href="Coercion.html#t:Coercion">Coercion</a> -&gt; <a href="Coercion.html#t:Coercion">Coercion</a> -&gt; <a href="Coercion.html#t:Coercion">Coercion</a> <a href="src/Coercion.html#mkCoCast" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:mkSymCo" class="def">mkSymCo</a> :: <a href="Coercion.html#t:Coercion">Coercion</a> -&gt; <a href="Coercion.html#t:Coercion">Coercion</a> <a href="src/Coercion.html#mkSymCo" class="link">Source</a></p><div class="doc"><p>Create a symmetric version of the given <code><a href="Coercion.html#t:Coercion">Coercion</a></code> that asserts
   equality between the same types but in the other &quot;direction&quot;, so
   a kind of <code>t1 ~ t2</code> becomes the kind <code>t2 ~ t1</code>.</p></div></div><div class="top"><p class="src"><a name="v:mkTransCo" class="def">mkTransCo</a> :: <a href="Coercion.html#t:Coercion">Coercion</a> -&gt; <a href="Coercion.html#t:Coercion">Coercion</a> -&gt; <a href="Coercion.html#t:Coercion">Coercion</a> <a href="src/Coercion.html#mkTransCo" class="link">Source</a></p><div class="doc"><p>Create a new <code><a href="Coercion.html#t:Coercion">Coercion</a></code> by composing the two given <code><a href="Coercion.html#t:Coercion">Coercion</a></code>s transitively.</p></div></div><div class="top"><p class="src"><a name="v:mkNthCo" class="def">mkNthCo</a> :: <a href="../base-4.7.0.1/Data-Int.html#t:Int">Int</a> -&gt; <a href="Coercion.html#t:Coercion">Coercion</a> -&gt; <a href="Coercion.html#t:Coercion">Coercion</a> <a href="src/Coercion.html#mkNthCo" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:mkNthCoRole" class="def">mkNthCoRole</a> :: <a href="Coercion.html#t:Role">Role</a> -&gt; <a href="../base-4.7.0.1/Data-Int.html#t:Int">Int</a> -&gt; <a href="Coercion.html#t:Coercion">Coercion</a> -&gt; <a href="Coercion.html#t:Coercion">Coercion</a> <a href="src/Coercion.html#mkNthCoRole" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:mkLRCo" class="def">mkLRCo</a> :: <a href="Coercion.html#t:LeftOrRight">LeftOrRight</a> -&gt; <a href="Coercion.html#t:Coercion">Coercion</a> -&gt; <a href="Coercion.html#t:Coercion">Coercion</a> <a href="src/Coercion.html#mkLRCo" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:mkInstCo" class="def">mkInstCo</a> :: <a href="Coercion.html#t:Coercion">Coercion</a> -&gt; <a href="Type.html#t:Type">Type</a> -&gt; <a href="Coercion.html#t:Coercion">Coercion</a> <a href="src/Coercion.html#mkInstCo" class="link">Source</a></p><div class="doc"><p>Instantiates a <code><a href="Coercion.html#t:Coercion">Coercion</a></code> with a <code><a href="Type.html#t:Type">Type</a></code> argument.</p></div></div><div class="top"><p class="src"><a name="v:mkAppCo" class="def">mkAppCo</a> :: <a href="Coercion.html#t:Coercion">Coercion</a> -&gt; <a href="Coercion.html#t:Coercion">Coercion</a> -&gt; <a href="Coercion.html#t:Coercion">Coercion</a> <a href="src/Coercion.html#mkAppCo" class="link">Source</a></p><div class="doc"><p>Apply a <code><a href="Coercion.html#t:Coercion">Coercion</a></code> to another <code><a href="Coercion.html#t:Coercion">Coercion</a></code>.
 The second coercion must be Nominal, unless the first is Phantom.
 If the first is Phantom, then the second can be either Phantom or Nominal.</p></div></div><div class="top"><p class="src"><a name="v:mkAppCoFlexible" class="def">mkAppCoFlexible</a> :: <a href="Coercion.html#t:Coercion">Coercion</a> -&gt; <a href="Coercion.html#t:Role">Role</a> -&gt; <a href="Coercion.html#t:Coercion">Coercion</a> -&gt; <a href="Coercion.html#t:Coercion">Coercion</a> <a href="src/Coercion.html#mkAppCoFlexible" class="link">Source</a></p><div class="doc"><p>Apply a <code><a href="Coercion.html#t:Coercion">Coercion</a></code> to another <code><a href="Coercion.html#t:Coercion">Coercion</a></code>.
 The second <code><a href="Coercion.html#t:Coercion">Coercion</a></code>s role is given, making this more flexible than
 <code><a href="Coercion.html#v:mkAppCo">mkAppCo</a></code>.</p></div></div><div class="top"><p class="src"><a name="v:mkTyConAppCo" class="def">mkTyConAppCo</a> :: <a href="Coercion.html#t:Role">Role</a> -&gt; <a href="TyCon.html#t:TyCon">TyCon</a> -&gt; [<a href="Coercion.html#t:Coercion">Coercion</a>] -&gt; <a href="Coercion.html#t:Coercion">Coercion</a> <a href="src/Coercion.html#mkTyConAppCo" class="link">Source</a></p><div class="doc"><p>Apply a type constructor to a list of coercions. It is the
 caller's responsibility to get the roles correct on argument coercions.</p></div></div><div class="top"><p class="src"><a name="v:mkFunCo" class="def">mkFunCo</a> :: <a href="Coercion.html#t:Role">Role</a> -&gt; <a href="Coercion.html#t:Coercion">Coercion</a> -&gt; <a href="Coercion.html#t:Coercion">Coercion</a> -&gt; <a href="Coercion.html#t:Coercion">Coercion</a> <a href="src/Coercion.html#mkFunCo" class="link">Source</a></p><div class="doc"><p>Make a function <code><a href="Coercion.html#t:Coercion">Coercion</a></code> between two other <code><a href="Coercion.html#t:Coercion">Coercion</a></code>s</p></div></div><div class="top"><p class="src"><a name="v:mkForAllCo" class="def">mkForAllCo</a> :: <a href="Coercion.html#t:Var">Var</a> -&gt; <a href="Coercion.html#t:Coercion">Coercion</a> -&gt; <a href="Coercion.html#t:Coercion">Coercion</a> <a href="src/Coercion.html#mkForAllCo" class="link">Source</a></p><div class="doc"><p>Make a <code><a href="Coercion.html#t:Coercion">Coercion</a></code> which binds a variable within an inner <code><a href="Coercion.html#t:Coercion">Coercion</a></code></p></div></div><div class="top"><p class="src"><a name="v:mkUnsafeCo" class="def">mkUnsafeCo</a> :: <a href="Type.html#t:Type">Type</a> -&gt; <a href="Type.html#t:Type">Type</a> -&gt; <a href="Coercion.html#t:Coercion">Coercion</a> <a href="src/Coercion.html#mkUnsafeCo" class="link">Source</a></p><div class="doc"><p>Manufacture a coercion from thin air. Needless to say, this is
   not usually safe, but it is used when we know we are dealing with
   bottom, which is one case in which it is safe.  This is also used
   to implement the <code>unsafeCoerce#</code> primitive.  Optimise by pushing
   down through type constructors.</p></div></div><div class="top"><p class="src"><a name="v:mkUnivCo" class="def">mkUnivCo</a> :: <a href="Coercion.html#t:Role">Role</a> -&gt; <a href="Type.html#t:Type">Type</a> -&gt; <a href="Type.html#t:Type">Type</a> -&gt; <a href="Coercion.html#t:Coercion">Coercion</a> <a href="src/Coercion.html#mkUnivCo" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:mkSubCo" class="def">mkSubCo</a> :: <a href="Coercion.html#t:Coercion">Coercion</a> -&gt; <a href="Coercion.html#t:Coercion">Coercion</a> <a href="src/Coercion.html#mkSubCo" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:mkPhantomCo" class="def">mkPhantomCo</a> :: <a href="Coercion.html#t:Coercion">Coercion</a> -&gt; <a href="Coercion.html#t:Coercion">Coercion</a> <a href="src/Coercion.html#mkPhantomCo" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:mkNewTypeCo" class="def">mkNewTypeCo</a> :: <a href="Name.html#t:Name">Name</a> -&gt; <a href="TyCon.html#t:TyCon">TyCon</a> -&gt; [<a href="Var.html#t:TyVar">TyVar</a>] -&gt; [<a href="Coercion.html#t:Role">Role</a>] -&gt; <a href="Type.html#t:Type">Type</a> -&gt; <a href="CoAxiom.html#t:CoAxiom">CoAxiom</a> <a href="CoAxiom.html#t:Unbranched">Unbranched</a> <a href="src/Coercion.html#mkNewTypeCo" class="link">Source</a></p><div class="doc"><p>Create a coercion constructor (axiom) suitable for the given
   newtype <code><a href="TyCon.html#t:TyCon">TyCon</a></code>. The <code><a href="Name.html#t:Name">Name</a></code> should be that of a new coercion
   <code><a href="CoAxiom.html#t:CoAxiom">CoAxiom</a></code>, the <code><a href="Var.html#t:TyVar">TyVar</a></code>s the arguments expected by the <code>newtype</code> and
   the type the appropriate right hand side of the <code>newtype</code>, with
   the free variables a subset of those <code><a href="Var.html#t:TyVar">TyVar</a></code>s.</p></div></div><div class="top"><p class="src"><a name="v:maybeSubCo" class="def">maybeSubCo</a> :: <a href="Coercion.html#t:Role">Role</a> -&gt; <a href="Coercion.html#t:Coercion">Coercion</a> -&gt; <a href="Coercion.html#t:Coercion">Coercion</a> <a href="src/Coercion.html#maybeSubCo" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:maybeSubCo2" class="def">maybeSubCo2</a> :: <a href="Coercion.html#t:Role">Role</a> -&gt; <a href="Coercion.html#t:Role">Role</a> -&gt; <a href="Coercion.html#t:Coercion">Coercion</a> -&gt; <a href="Coercion.html#t:Coercion">Coercion</a> <a href="src/Coercion.html#maybeSubCo2" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:mkAxiomRuleCo" class="def">mkAxiomRuleCo</a> :: <a href="CoAxiom.html#t:CoAxiomRule">CoAxiomRule</a> -&gt; [<a href="Type.html#t:Type">Type</a>] -&gt; [<a href="Coercion.html#t:Coercion">Coercion</a>] -&gt; <a href="Coercion.html#t:Coercion">Coercion</a> <a href="src/Coercion.html#mkAxiomRuleCo" class="link">Source</a></p></div><h2 id="g:4">Decomposition</h2><div class="top"><p class="src"><a name="v:instNewTyCon_maybe" class="def">instNewTyCon_maybe</a> :: <a href="TyCon.html#t:TyCon">TyCon</a> -&gt; [<a href="Type.html#t:Type">Type</a>] -&gt; <a href="../base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="Type.html#t:Type">Type</a>, <a href="Coercion.html#t:Coercion">Coercion</a>) <a href="src/Coercion.html#instNewTyCon_maybe" class="link">Source</a></p><div class="doc"><p>If <code>co :: T ts ~ rep_ty</code> then:</p><pre>instNewTyCon_maybe T ts = Just (rep_ty, co)</pre><p>Checks for a newtype, and for being saturated</p></div></div><div class="top"><p class="src"><a name="v:topNormaliseNewType_maybe" class="def">topNormaliseNewType_maybe</a> :: <a href="Type.html#t:Type">Type</a> -&gt; <a href="../base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="Coercion.html#t:Coercion">Coercion</a>, <a href="Type.html#t:Type">Type</a>) <a href="src/Coercion.html#topNormaliseNewType_maybe" class="link">Source</a></p><div class="doc"><p>Sometimes we want to look through a <code>newtype</code> and get its associated coercion.
 This function strips off <code>newtype</code> layers enough to reveal something that isn't
 a <code>newtype</code>.  Specifically, here's the invariant:</p><pre>topNormaliseNewType_maybe rec_nts ty = Just (co, ty')</pre><p>then (a)  <code>co : ty0 ~ ty'</code>.
      (b)  ty' is not a newtype.</p><p>The function returns <code>Nothing</code> for non-<code>newtypes</code>,
 or unsaturated applications</p><p>This function does *not* look through type families, because it has no access to
 the type family environment. If you do have that at hand, consider to use
 topNormaliseType_maybe, which should be a drop-in replacement for
 topNormaliseNewType_maybe</p></div></div><div class="top"><p class="src"><a name="v:decomposeCo" class="def">decomposeCo</a> :: <a href="BasicTypes.html#t:Arity">Arity</a> -&gt; <a href="Coercion.html#t:Coercion">Coercion</a> -&gt; [<a href="Coercion.html#t:Coercion">Coercion</a>] <a href="src/Coercion.html#decomposeCo" class="link">Source</a></p><div class="doc"><p>This breaks a <code><a href="Coercion.html#t:Coercion">Coercion</a></code> with type <code>T A B C ~ T D E F</code> into
 a list of <code><a href="Coercion.html#t:Coercion">Coercion</a></code>s of kinds <code>A ~ D</code>, <code>B ~ E</code> and <code>E ~ F</code>. Hence:</p><pre>decomposeCo 3 c = [nth 0 c, nth 1 c, nth 2 c]</pre></div></div><div class="top"><p class="src"><a name="v:getCoVar_maybe" class="def">getCoVar_maybe</a> :: <a href="Coercion.html#t:Coercion">Coercion</a> -&gt; <a href="../base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Coercion.html#t:CoVar">CoVar</a> <a href="src/Coercion.html#getCoVar_maybe" class="link">Source</a></p><div class="doc"><p>Attempts to obtain the type variable underlying a <code><a href="Coercion.html#t:Coercion">Coercion</a></code></p></div></div><div class="top"><p class="src"><a name="v:splitAppCo_maybe" class="def">splitAppCo_maybe</a> :: <a href="Coercion.html#t:Coercion">Coercion</a> -&gt; <a href="../base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="Coercion.html#t:Coercion">Coercion</a>, <a href="Coercion.html#t:Coercion">Coercion</a>) <a href="src/Coercion.html#splitAppCo_maybe" class="link">Source</a></p><div class="doc"><p>Attempt to take a coercion application apart.</p></div></div><div class="top"><p class="src"><a name="v:splitForAllCo_maybe" class="def">splitForAllCo_maybe</a> :: <a href="Coercion.html#t:Coercion">Coercion</a> -&gt; <a href="../base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="Var.html#t:TyVar">TyVar</a>, <a href="Coercion.html#t:Coercion">Coercion</a>) <a href="src/Coercion.html#splitForAllCo_maybe" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:nthRole" class="def">nthRole</a> :: <a href="Coercion.html#t:Role">Role</a> -&gt; <a href="TyCon.html#t:TyCon">TyCon</a> -&gt; <a href="../base-4.7.0.1/Data-Int.html#t:Int">Int</a> -&gt; <a href="Coercion.html#t:Role">Role</a> <a href="src/Coercion.html#nthRole" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:tyConRolesX" class="def">tyConRolesX</a> :: <a href="Coercion.html#t:Role">Role</a> -&gt; <a href="TyCon.html#t:TyCon">TyCon</a> -&gt; [<a href="Coercion.html#t:Role">Role</a>] <a href="src/Coercion.html#tyConRolesX" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:nextRole" class="def">nextRole</a> :: <a href="Coercion.html#t:Coercion">Coercion</a> -&gt; <a href="Coercion.html#t:Role">Role</a> <a href="src/Coercion.html#nextRole" class="link">Source</a></p></div><h2 id="g:5">Coercion variables</h2><div class="top"><p class="src"><a name="v:mkCoVar" class="def">mkCoVar</a> :: <a href="Name.html#t:Name">Name</a> -&gt; <a href="Type.html#t:Type">Type</a> -&gt; <a href="Coercion.html#t:CoVar">CoVar</a> <a href="src/Var.html#mkCoVar" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:isCoVar" class="def">isCoVar</a> :: <a href="Coercion.html#t:Var">Var</a> -&gt; <a href="../base-4.7.0.1/Data-Bool.html#t:Bool">Bool</a> <a href="src/Coercion.html#isCoVar" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:isCoVarType" class="def">isCoVarType</a> :: <a href="Type.html#t:Type">Type</a> -&gt; <a href="../base-4.7.0.1/Data-Bool.html#t:Bool">Bool</a> <a href="src/Coercion.html#isCoVarType" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:coVarName" class="def">coVarName</a> :: <a href="Coercion.html#t:CoVar">CoVar</a> -&gt; <a href="Name.html#t:Name">Name</a> <a href="src/Coercion.html#coVarName" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:setCoVarName" class="def">setCoVarName</a> :: <a href="Coercion.html#t:CoVar">CoVar</a> -&gt; <a href="Name.html#t:Name">Name</a> -&gt; <a href="Coercion.html#t:CoVar">CoVar</a> <a href="src/Coercion.html#setCoVarName" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:setCoVarUnique" class="def">setCoVarUnique</a> :: <a href="Coercion.html#t:CoVar">CoVar</a> -&gt; <a href="Unique.html#t:Unique">Unique</a> -&gt; <a href="Coercion.html#t:CoVar">CoVar</a> <a href="src/Coercion.html#setCoVarUnique" class="link">Source</a></p></div><h2 id="g:6">Free variables</h2><div class="top"><p class="src"><a name="v:tyCoVarsOfCo" class="def">tyCoVarsOfCo</a> :: <a href="Coercion.html#t:Coercion">Coercion</a> -&gt; <a href="VarSet.html#t:VarSet">VarSet</a> <a href="src/Coercion.html#tyCoVarsOfCo" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:tyCoVarsOfCos" class="def">tyCoVarsOfCos</a> :: [<a href="Coercion.html#t:Coercion">Coercion</a>] -&gt; <a href="VarSet.html#t:VarSet">VarSet</a> <a href="src/Coercion.html#tyCoVarsOfCos" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:coVarsOfCo" class="def">coVarsOfCo</a> :: <a href="Coercion.html#t:Coercion">Coercion</a> -&gt; <a href="VarSet.html#t:VarSet">VarSet</a> <a href="src/Coercion.html#coVarsOfCo" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:coercionSize" class="def">coercionSize</a> :: <a href="Coercion.html#t:Coercion">Coercion</a> -&gt; <a href="../base-4.7.0.1/Data-Int.html#t:Int">Int</a> <a href="src/Coercion.html#coercionSize" class="link">Source</a></p></div><h2 id="g:7">Substitution</h2><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:CvSubstEnv" class="def">CvSubstEnv</a> = <a href="VarEnv.html#t:VarEnv">VarEnv</a> <a href="Coercion.html#t:Coercion">Coercion</a> <a href="src/Coercion.html#CvSubstEnv" class="link">Source</a></p><div class="doc"><p>A substitution of <code><a href="Coercion.html#t:Coercion">Coercion</a></code>s for <code><a href="Coercion.html#t:CoVar">CoVar</a></code>s (OR <code><a href="Var.html#t:TyVar">TyVar</a></code>s, when
   doing a &quot;lifting&quot; substitution)</p></div></div><div class="top"><p class="src"><a name="v:emptyCvSubstEnv" class="def">emptyCvSubstEnv</a> :: <a href="Coercion.html#t:CvSubstEnv">CvSubstEnv</a> <a href="src/Coercion.html#emptyCvSubstEnv" class="link">Source</a></p></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:CvSubst" class="def">CvSubst</a> <a href="src/Coercion.html#CvSubst" class="link">Source</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:CvSubst" class="def">CvSubst</a> <a href="VarEnv.html#t:InScopeSet">InScopeSet</a> <a href="Type.html#t:TvSubstEnv">TvSubstEnv</a> <a href="Coercion.html#t:CvSubstEnv">CvSubstEnv</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:CvSubst" class="caption collapser" onclick="toggleSection('i:CvSubst')">Instances</p><div id="section.i:CvSubst" class="show"><table><tr><td class="src"><a href="Outputable.html#t:Outputable">Outputable</a> <a href="Coercion.html#t:CvSubst">CvSubst</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:emptyCvSubst" class="def">emptyCvSubst</a> :: <a href="Coercion.html#t:CvSubst">CvSubst</a> <a href="src/Coercion.html#emptyCvSubst" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:lookupTyVar" class="def">lookupTyVar</a> :: <a href="Coercion.html#t:CvSubst">CvSubst</a> -&gt; <a href="Var.html#t:TyVar">TyVar</a> -&gt; <a href="../base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Type.html#t:Type">Type</a> <a href="src/Coercion.html#lookupTyVar" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:lookupCoVar" class="def">lookupCoVar</a> :: <a href="Coercion.html#t:CvSubst">CvSubst</a> -&gt; <a href="Coercion.html#t:Var">Var</a> -&gt; <a href="../base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Coercion.html#t:Coercion">Coercion</a> <a href="src/Coercion.html#lookupCoVar" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:isEmptyCvSubst" class="def">isEmptyCvSubst</a> :: <a href="Coercion.html#t:CvSubst">CvSubst</a> -&gt; <a href="../base-4.7.0.1/Data-Bool.html#t:Bool">Bool</a> <a href="src/Coercion.html#isEmptyCvSubst" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:zapCvSubstEnv" class="def">zapCvSubstEnv</a> :: <a href="Coercion.html#t:CvSubst">CvSubst</a> -&gt; <a href="Coercion.html#t:CvSubst">CvSubst</a> <a href="src/Coercion.html#zapCvSubstEnv" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:getCvInScope" class="def">getCvInScope</a> :: <a href="Coercion.html#t:CvSubst">CvSubst</a> -&gt; <a href="VarEnv.html#t:InScopeSet">InScopeSet</a> <a href="src/Coercion.html#getCvInScope" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:substCo" class="def">substCo</a> :: <a href="Coercion.html#t:CvSubst">CvSubst</a> -&gt; <a href="Coercion.html#t:Coercion">Coercion</a> -&gt; <a href="Coercion.html#t:Coercion">Coercion</a> <a href="src/Coercion.html#substCo" class="link">Source</a></p><div class="doc"><p>Substitute within a <code><a href="Coercion.html#t:Coercion">Coercion</a></code></p></div></div><div class="top"><p class="src"><a name="v:substCos" class="def">substCos</a> :: <a href="Coercion.html#t:CvSubst">CvSubst</a> -&gt; [<a href="Coercion.html#t:Coercion">Coercion</a>] -&gt; [<a href="Coercion.html#t:Coercion">Coercion</a>] <a href="src/Coercion.html#substCos" class="link">Source</a></p><div class="doc"><p>Substitute within several <code><a href="Coercion.html#t:Coercion">Coercion</a></code>s</p></div></div><div class="top"><p class="src"><a name="v:substCoVar" class="def">substCoVar</a> :: <a href="Coercion.html#t:CvSubst">CvSubst</a> -&gt; <a href="Coercion.html#t:CoVar">CoVar</a> -&gt; <a href="Coercion.html#t:Coercion">Coercion</a> <a href="src/Coercion.html#substCoVar" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:substCoVars" class="def">substCoVars</a> :: <a href="Coercion.html#t:CvSubst">CvSubst</a> -&gt; [<a href="Coercion.html#t:CoVar">CoVar</a>] -&gt; [<a href="Coercion.html#t:Coercion">Coercion</a>] <a href="src/Coercion.html#substCoVars" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:substCoWithTy" class="def">substCoWithTy</a> :: <a href="VarEnv.html#t:InScopeSet">InScopeSet</a> -&gt; <a href="Var.html#t:TyVar">TyVar</a> -&gt; <a href="Type.html#t:Type">Type</a> -&gt; <a href="Coercion.html#t:Coercion">Coercion</a> -&gt; <a href="Coercion.html#t:Coercion">Coercion</a> <a href="src/Coercion.html#substCoWithTy" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:substCoWithTys" class="def">substCoWithTys</a> :: <a href="VarEnv.html#t:InScopeSet">InScopeSet</a> -&gt; [<a href="Var.html#t:TyVar">TyVar</a>] -&gt; [<a href="Type.html#t:Type">Type</a>] -&gt; <a href="Coercion.html#t:Coercion">Coercion</a> -&gt; <a href="Coercion.html#t:Coercion">Coercion</a> <a href="src/Coercion.html#substCoWithTys" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:cvTvSubst" class="def">cvTvSubst</a> :: <a href="Coercion.html#t:CvSubst">CvSubst</a> -&gt; <a href="Type.html#t:TvSubst">TvSubst</a> <a href="src/Coercion.html#cvTvSubst" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:tvCvSubst" class="def">tvCvSubst</a> :: <a href="Type.html#t:TvSubst">TvSubst</a> -&gt; <a href="Coercion.html#t:CvSubst">CvSubst</a> <a href="src/Coercion.html#tvCvSubst" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:mkCvSubst" class="def">mkCvSubst</a> :: <a href="VarEnv.html#t:InScopeSet">InScopeSet</a> -&gt; [(<a href="Coercion.html#t:Var">Var</a>, <a href="Coercion.html#t:Coercion">Coercion</a>)] -&gt; <a href="Coercion.html#t:CvSubst">CvSubst</a> <a href="src/Coercion.html#mkCvSubst" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:zipOpenCvSubst" class="def">zipOpenCvSubst</a> :: [<a href="Coercion.html#t:Var">Var</a>] -&gt; [<a href="Coercion.html#t:Coercion">Coercion</a>] -&gt; <a href="Coercion.html#t:CvSubst">CvSubst</a> <a href="src/Coercion.html#zipOpenCvSubst" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:substTy" class="def">substTy</a> :: <a href="Coercion.html#t:CvSubst">CvSubst</a> -&gt; <a href="Type.html#t:Type">Type</a> -&gt; <a href="Type.html#t:Type">Type</a> <a href="src/Coercion.html#substTy" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:extendTvSubst" class="def">extendTvSubst</a> :: <a href="Coercion.html#t:CvSubst">CvSubst</a> -&gt; <a href="Var.html#t:TyVar">TyVar</a> -&gt; <a href="Type.html#t:Type">Type</a> -&gt; <a href="Coercion.html#t:CvSubst">CvSubst</a> <a href="src/Coercion.html#extendTvSubst" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:extendCvSubstAndInScope" class="def">extendCvSubstAndInScope</a> :: <a href="Coercion.html#t:CvSubst">CvSubst</a> -&gt; <a href="Coercion.html#t:CoVar">CoVar</a> -&gt; <a href="Coercion.html#t:Coercion">Coercion</a> -&gt; <a href="Coercion.html#t:CvSubst">CvSubst</a> <a href="src/Coercion.html#extendCvSubstAndInScope" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:extendTvSubstAndInScope" class="def">extendTvSubstAndInScope</a> :: <a href="Coercion.html#t:CvSubst">CvSubst</a> -&gt; <a href="Var.html#t:TyVar">TyVar</a> -&gt; <a href="Type.html#t:Type">Type</a> -&gt; <a href="Coercion.html#t:CvSubst">CvSubst</a> <a href="src/Coercion.html#extendTvSubstAndInScope" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:substTyVarBndr" class="def">substTyVarBndr</a> :: <a href="Coercion.html#t:CvSubst">CvSubst</a> -&gt; <a href="Var.html#t:TyVar">TyVar</a> -&gt; (<a href="Coercion.html#t:CvSubst">CvSubst</a>, <a href="Var.html#t:TyVar">TyVar</a>) <a href="src/Coercion.html#substTyVarBndr" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:substCoVarBndr" class="def">substCoVarBndr</a> :: <a href="Coercion.html#t:CvSubst">CvSubst</a> -&gt; <a href="Coercion.html#t:CoVar">CoVar</a> -&gt; (<a href="Coercion.html#t:CvSubst">CvSubst</a>, <a href="Coercion.html#t:CoVar">CoVar</a>) <a href="src/Coercion.html#substCoVarBndr" class="link">Source</a></p></div><h2 id="g:8">Lifting</h2><div class="top"><p class="src"><a name="v:liftCoMatch" class="def">liftCoMatch</a> :: <a href="VarSet.html#t:TyVarSet">TyVarSet</a> -&gt; <a href="Type.html#t:Type">Type</a> -&gt; <a href="Coercion.html#t:Coercion">Coercion</a> -&gt; <a href="../base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a> LiftCoSubst <a href="src/Coercion.html#liftCoMatch" class="link">Source</a></p><div class="doc"><p><code><a href="Coercion.html#v:liftCoMatch">liftCoMatch</a></code> is sort of inverse to <code>liftCoSubst</code>.  In particular, if
   <code>liftCoMatch vars ty co == Just s</code>, then <code>tyCoSubst s ty == co</code>.
   That is, it matches a type against a coercion of the same
   &quot;shape&quot;, and returns a lifting substitution which could have been
   used to produce the given coercion from the given type.</p></div></div><div class="top"><p class="src"><a name="v:liftCoSubstTyVar" class="def">liftCoSubstTyVar</a> :: LiftCoSubst -&gt; <a href="Coercion.html#t:Role">Role</a> -&gt; <a href="Var.html#t:TyVar">TyVar</a> -&gt; <a href="../base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Coercion.html#t:Coercion">Coercion</a> <a href="src/Coercion.html#liftCoSubstTyVar" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:liftCoSubstWith" class="def">liftCoSubstWith</a> :: <a href="Coercion.html#t:Role">Role</a> -&gt; [<a href="Var.html#t:TyVar">TyVar</a>] -&gt; [<a href="Coercion.html#t:Coercion">Coercion</a>] -&gt; <a href="Type.html#t:Type">Type</a> -&gt; <a href="Coercion.html#t:Coercion">Coercion</a> <a href="src/Coercion.html#liftCoSubstWith" class="link">Source</a></p></div><h2 id="g:9">Comparison</h2><div class="top"><p class="src"><a name="v:coreEqCoercion" class="def">coreEqCoercion</a> :: <a href="Coercion.html#t:Coercion">Coercion</a> -&gt; <a href="Coercion.html#t:Coercion">Coercion</a> -&gt; <a href="../base-4.7.0.1/Data-Bool.html#t:Bool">Bool</a> <a href="src/Coercion.html#coreEqCoercion" class="link">Source</a></p><div class="doc"><p>Determines syntactic equality of coercions</p></div></div><div class="top"><p class="src"><a name="v:coreEqCoercion2" class="def">coreEqCoercion2</a> :: <a href="VarEnv.html#t:RnEnv2">RnEnv2</a> -&gt; <a href="Coercion.html#t:Coercion">Coercion</a> -&gt; <a href="Coercion.html#t:Coercion">Coercion</a> -&gt; <a href="../base-4.7.0.1/Data-Bool.html#t:Bool">Bool</a> <a href="src/Coercion.html#coreEqCoercion2" class="link">Source</a></p></div><h2 id="g:10">Forcing evaluation of coercions</h2><div class="top"><p class="src"><a name="v:seqCo" class="def">seqCo</a> :: <a href="Coercion.html#t:Coercion">Coercion</a> -&gt; () <a href="src/Coercion.html#seqCo" class="link">Source</a></p></div><h1 id="g:11">Pretty-printing</h1><div class="top"><p class="src"><a name="v:pprCo" class="def">pprCo</a> :: <a href="Coercion.html#t:Coercion">Coercion</a> -&gt; <a href="Outputable.html#t:SDoc">SDoc</a> <a href="src/Coercion.html#pprCo" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:pprParendCo" class="def">pprParendCo</a> :: <a href="Coercion.html#t:Coercion">Coercion</a> -&gt; <a href="Outputable.html#t:SDoc">SDoc</a> <a href="src/Coercion.html#pprParendCo" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:pprCoAxiom" class="def">pprCoAxiom</a> ::  <a href="CoAxiom.html#t:CoAxiom">CoAxiom</a> br -&gt; <a href="Outputable.html#t:SDoc">SDoc</a> <a href="src/Coercion.html#pprCoAxiom" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:pprCoAxBranch" class="def">pprCoAxBranch</a> :: <a href="TyCon.html#t:TyCon">TyCon</a> -&gt; <a href="CoAxiom.html#t:CoAxBranch">CoAxBranch</a> -&gt; <a href="Outputable.html#t:SDoc">SDoc</a> <a href="src/Coercion.html#pprCoAxBranch" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:pprCoAxBranchHdr" class="def">pprCoAxBranchHdr</a> ::  <a href="CoAxiom.html#t:CoAxiom">CoAxiom</a> br -&gt; <a href="CoAxiom.html#t:BranchIndex">BranchIndex</a> -&gt; <a href="Outputable.html#t:SDoc">SDoc</a> <a href="src/Coercion.html#pprCoAxBranchHdr" class="link">Source</a></p></div><h1 id="g:12">Tidying</h1><div class="top"><p class="src"><a name="v:tidyCo" class="def">tidyCo</a> :: <a href="VarEnv.html#t:TidyEnv">TidyEnv</a> -&gt; <a href="Coercion.html#t:Coercion">Coercion</a> -&gt; <a href="Coercion.html#t:Coercion">Coercion</a> <a href="src/Coercion.html#tidyCo" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:tidyCos" class="def">tidyCos</a> :: <a href="VarEnv.html#t:TidyEnv">TidyEnv</a> -&gt; [<a href="Coercion.html#t:Coercion">Coercion</a>] -&gt; [<a href="Coercion.html#t:Coercion">Coercion</a>] <a href="src/Coercion.html#tidyCos" class="link">Source</a></p></div><h1 id="g:13">Other</h1><div class="top"><p class="src"><a name="v:applyCo" class="def">applyCo</a> :: <a href="Type.html#t:Type">Type</a> -&gt; <a href="Coercion.html#t:Coercion">Coercion</a> -&gt; <a href="Type.html#t:Type">Type</a> <a href="src/Coercion.html#applyCo" class="link">Source</a></p></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.14.3</p></div></body></html>